<!DOCTYPE html>
<html lang="ru">
<head>
  <title>Генерация звука на микроконтроллерах AVR методом волновых таблиц с поддержкой полифонии &#x2F; Хабр</title>
<meta property="fb:app_id" content="444736788986613">
<meta property="fb:pages" content="472597926099084">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@habr_com">
<meta property="og:site_name" content="Хабр">
<link href="https://habr.com/ru/rss/publications/466121/?fl=ru" type="application/rss+xml" title rel="alternate" name="rss">
<link href="https://habr.com/ru/articles/466121/" rel="canonical" data-hid="e3fa780">
<link rel="image_src" href="https://habr.com/share/publication/466121/7ff1d627292f337632a7f4a9c9121960/" data-hid="2a79c45">
<meta property="og:title" content="Генерация звука на микроконтроллерах AVR методом волновых таблиц с поддержкой полифонии">
<meta name="twitter:title" content="Генерация звука на микроконтроллерах AVR методом волновых таблиц с поддержкой полифонии">
<meta name="aiturec:title" content="Генерация звука на микроконтроллерах AVR методом волновых таблиц с поддержкой полифонии">
<meta name="description" content="Микроконтроллеры AVR довольно дешевы и широко распространены. Наверно, с них начинает почти любой embedded разработчик. А среди любителей правит балом Arduino, сердцем которого обычно является...">
<meta itemprop="description" content="Микроконтроллеры AVR довольно дешевы и широко распространены. Наверно, с них начинает почти любой embedded разработчик. А среди любителей правит балом Arduino, сердцем которого обычно является...">
<meta property="og:description" content="Микроконтроллеры AVR довольно дешевы и широко распространены. Наверно, с них начинает почти любой embedded разработчик. А среди любителей правит балом Arduino, сердцем которого обычно является...">
<meta name="twitter:description" content="Микроконтроллеры AVR довольно дешевы и широко распространены. Наверно, с них начинает почти любой embedded разработчик. А среди любителей правит балом Arduino, сердцем которого обычно является...">
<meta property="aiturec:description" content="Микроконтроллеры AVR довольно дешевы и широко распространены. Наверно, с них начинает почти любой embedded разработчик. А среди любителей правит балом Arduino, сердцем которого обычно является...">
<meta itemprop="image" content="https://habr.com/share/publication/466121/7ff1d627292f337632a7f4a9c9121960/">
<meta property="og:image" content="https://habr.com/share/publication/466121/7ff1d627292f337632a7f4a9c9121960/">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta property="aiturec:image" content="https://habr.com/share/publication/466121/7ff1d627292f337632a7f4a9c9121960/">
<meta name="twitter:image" content="https://habr.com/share/publication/466121/7ff1d627292f337632a7f4a9c9121960/">
<meta property="vk:image" content="https://habr.com/share/publication/466121/7ff1d627292f337632a7f4a9c9121960/?format=vk">
<meta property="vk:image" content="https://habr.com/share/publication/466121/7ff1d627292f337632a7f4a9c9121960/?format=vk?format=vk">
<meta property="aiturec:item_id" content="466121">
<meta property="aiturec:datetime" content="2019-09-04T07:01:32.000Z">
<meta content="https://habr.com/ru/articles/466121/" property="og:url">
<meta property="og:type" content="article">
<meta property="og:locale" content="ru_RU">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta name="keywords" content="микроконтроллеры, микроконтроллеры avr, avr, atmega8, atmega328p, attiny85, attiny45, arduino, звук, музыка, звук и музыка, синтезатор, midi">
<script type="application/ld+json" data-hid="1e0f0a2">{"@context":"http:\/\/schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/habr.com\/ru\/articles\/466121\/"},"headline":"Генерация звука на микроконтроллерах AVR методом волновых таблиц с поддержкой полифонии","datePublished":"2019-09-04T10:01:32+03:00","dateModified":"2021-08-27T09:05:03+03:00","author":{"@type":"Person","name":"masyaman"},"publisher":{"@type":"Organization","name":"Habr","logo":{"@type":"ImageObject","url":"https:\/\/habrastorage.org\/webt\/a_\/lk\/9m\/a_lk9mjkccjox-zccjrpfolmkmq.png"}},"description":"Микроконтроллеры AVR довольно дешевы и широко распространены. Наверно, с них начинает почти любой embedded разработчик. А среди любителей правит балом Arduino, с...","url":"https:\/\/habr.com\/ru\/articles\/466121\/#post-content-body","about":["h_c","h_controllers","h_sound","f_develop","f_popsci"],"image":["https:\/\/habrastorage.org\/webt\/pn\/dp\/pi\/pndppihozomu4ep_fxzcho44xx8.png"]}</script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover,maximum-scale=1,user-scalable=0">
  <meta name="referrer" content="unsafe-url">
  <style>
    /* cyrillic-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSxf6TF0.woff2) format('woff2');
      unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
    }

    /* cyrillic */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveQhf6TF0.woff2) format('woff2');
      unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
    }

    /* latin-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSBf6TF0.woff2) format('woff2');
      unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
    }

    /* latin */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveRhf6.woff2) format('woff2');
      unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
    }

    /* non-breaking hyphen */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/l/font?kit=KFOlCnqEu92Fr1MmEU9vBh0_IsHAlmrO6g&skey=ee881451c540fdec&v=v29) format('woff2');
      unicode-range: U+02011;
    }
  </style>
    <link rel="preload" href="https://assets.habr.com/vue-3/css/theme/light.css" as="style"/><link id="light-colors" rel="stylesheet" href="https://assets.habr.com/vue-3/css/theme/light.css" media="all" />
  <script>window.i18nFetch = new Promise((res, rej) => {
          const xhr = new XMLHttpRequest();
          xhr.open('GET', '/js/i18n/ru-compiled.519797392359cee75f2048172e910439.json');
          xhr.responseType = 'json';
          xhr.onload = function(e) {
            if (this.status === 200) {
              res({ru: xhr.response});
            } else {
              rej(e);
            }
          };
          xhr.send();
        });</script>
  <style>.grecaptcha-badge{visibility: hidden;}</style>
  <meta name="habr-version" content="2.174.0">
  
  <meta name="apple-mobile-web-app-status-bar-style" content="#303b44">
  <meta name="msapplication-TileColor" content="#629FBC">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="16x16"
    href="https://assets.habr.com/vue-3/img/favicons/favicon-16.png"
  >
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="32x32"
    href="https://assets.habr.com/vue-3/img/favicons/favicon-32.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="76x76"
    href="https://assets.habr.com/vue-3/img/favicons/apple-touch-icon-76.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="120x120"
    href="https://assets.habr.com/vue-3/img/favicons/apple-touch-icon-120.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="152x152"
    href="https://assets.habr.com/vue-3/img/favicons/apple-touch-icon-152.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="180x180"
    href="https://assets.habr.com/vue-3/img/favicons/apple-touch-icon-180.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="256x256"
    href="https://assets.habr.com/vue-3/img/favicons/apple-touch-icon-256.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/vue-3/img/splashes/splash_1136x640.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/vue-3/img/splashes/splash_2436x1125.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/vue-3/img/splashes/splash_1792x828.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/vue-3/img/splashes/splash_828x1792.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/vue-3/img/splashes/splash_1334x750.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/vue-3/img/splashes/splash_1242x2668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/vue-3/img/splashes/splash_2208x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/vue-3/img/splashes/splash_1125x2436.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/vue-3/img/splashes/splash_1242x2208.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/vue-3/img/splashes/splash_2732x2048.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/vue-3/img/splashes/splash_2688x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/vue-3/img/splashes/splash_2224x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/vue-3/img/splashes/splash_750x1334.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/vue-3/img/splashes/splash_2048x2732.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/vue-3/img/splashes/splash_2388x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/vue-3/img/splashes/splash_1668x2224.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/vue-3/img/splashes/splash_640x1136.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/vue-3/img/splashes/splash_1668x2388.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/vue-3/img/splashes/splash_2048x1536.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/vue-3/img/splashes/splash_1536x2048.png"
  >
  <link
    rel="mask-icon"
    color="#77a2b6"
    href="https://assets.habr.com/vue-3/img/favicons/apple-touch-icon-120.svg"
  >
  <link
    crossorigin="use-credentials"
    href="/manifest.webmanifest"
    rel="manifest"
  >
  <script async src="https://unpkg.com/pwacompat" crossorigin="anonymous"></script>
  <script>window.yaContextCb = window.yaContextCb || []</script>
  <script src="https://yandex.ru/ads/system/context.js" async></script>
<link rel="preload" href="https://assets.habr.com/vue-3/css/chunk-vendors.04465f7c.css" as="style"><link rel="preload" href="https://assets.habr.com/vue-3/js/chunk-vendors.6b52fc6c.js" as="script"><link rel="preload" href="https://assets.habr.com/vue-3/css/app.804c3913.css" as="style"><link rel="preload" href="https://assets.habr.com/vue-3/js/app.6866d4db.js" as="script"><link rel="stylesheet" href="https://assets.habr.com/vue-3/css/chunk-vendors.04465f7c.css"><link rel="stylesheet" href="https://assets.habr.com/vue-3/css/app.804c3913.css"></head>
<body>

<div id="mount"><div id="app" data-async-called="true"><div class="tm-layout__wrapper"><!--[--><!----><div></div><!----><header class="tm-header" data-test-id="header"><div class="tm-page-width"><!--[--><div class="tm-header__container"><!----><span class="tm-header__logo-wrap"><a class="tm-header__logo tm-header__logo_hl-ru tm-header__logo" href="/ru/"><svg class="tm-svg-img tm-header__icon" height="16" width="16"><title>Хабр</title><use xlink:href="/img/habr-logo-ru.svg#logo"></use></svg></a><span style="display:none;" class="tm-header__beta-sign">β</span></span><!--[--><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><!--[--><button class="tm-header__dropdown-toggle"><svg class="tm-svg-img tm-header__icon tm-header__icon_dropdown" height="16" width="16"><title>Открыть список</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#arrow-down"></use></svg></button><!--]--></div><!----></div><a href="/ru/sandbox/start/" class="tm-header__become-author-btn">Как стать автором</a><div class="tm-feature tm-feature tm-feature_variant-inline tm-header__feature"><!----></div><!----><!--]--><!----></div><!--]--></div></header><div class="tm-layout"><div class="tm-page-progress-bar"></div><div class="tm-base-layout__header_is-sticky tm-base-layout__header" data-menu-sticky="true"><div class="tm-page-width"><!--[--><div class="tm-base-layout__header-wrapper"><div class="tm-main-menu"><div class="tm-main-menu__section"><nav class="tm-main-menu__section-content"><!--[--><a class="tm-main-menu__item" href="/ru/feed/">Моя лента</a><!--]--><!--[--><a class="tm-main-menu__item" href="/ru/articles/">Все потоки</a><!--]--><!--[--><!--[--><!--[--><a class="tm-main-menu__item" href="/ru/flows/develop/">Разработка</a><!--]--><!--]--><!--[--><!--[--><a class="tm-main-menu__item" href="/ru/flows/admin/">Администрирование</a><!--]--><!--]--><!--[--><!--[--><a class="tm-main-menu__item" href="/ru/flows/design/">Дизайн</a><!--]--><!--]--><!--[--><!--[--><a class="tm-main-menu__item" href="/ru/flows/management/">Менеджмент</a><!--]--><!--]--><!--[--><!--[--><a class="tm-main-menu__item" href="/ru/flows/marketing/">Маркетинг</a><!--]--><!--]--><!--[--><!--[--><a class="tm-main-menu__item" href="/ru/flows/popsci/">Научпоп</a><!--]--><!--]--><!--]--></nav></div></div><div class="tm-header-user-menu tm-base-layout__user-menu"><a href="/ru/search/" class="tm-header-user-menu__item tm-header-user-menu__search" data-test-id="search-button"><svg class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_search tm-header-user-menu__icon_dark" height="24" width="24"><title>Поиск</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#search"></use></svg></a><!----><!----><div class="tm-header-user-menu__item tm-header-user-menu__write"><div><svg class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_write tm-header-user-menu__icon_dark" height="24" width="24"><title>Написать публикацию</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#write"></use></svg></div><!----></div><!--[--><div class="tm-header-user-menu__item"><button class="tm-header-user-menu__toggle" data-test-id="user-menu-settings"><svg class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_dark" height="24" width="24"><title>Настройки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#page-settings"></use></svg></button></div><a href="https://habr.com/kek/v1/auth/habrahabr/?back=/ru/articles/466121/&amp;hl=ru" rel="nofollow" class="tm-header-user-menu__item"><!--[--><button class="btn btn_solid btn_small tm-header-user-menu__login" type="button"><!--[-->Войти<!--]--></button><!--]--></a><!--]--><!----><!--teleport start--><!--teleport end--><!----></div></div><!--]--></div></div><!----><div class="tm-page-width"><!--[--><!--]--></div><main class="tm-layout__container"><div class="tm-page" hl="ru" data-async-called="true"><div class="tm-page-width"><!--[--><!----><div class="tm-page__wrapper"><div class="tm-page__main_has-sidebar tm-page__main"><div class="pull-down"><!----><div class="pull-down__header" style="height:0px;"><div class="pull-down__content" style="bottom:10px;"><svg class="tm-svg-img pull-down__icon pull-down__arrow" height="24" width="24"><title>Обновить</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#pull-arrow"></use></svg></div></div><!--[--><!--[--><!----><div class="tm-adfox-banner__container"><div id="adfox_169815559787254866" class="tm-adfox-banner tm-adfox-banner_variant-narrow tm-adfox-banner"></div></div><div class="tm-article-presenter"><!--[--><!--]--><div class="tm-article-presenter__body" data-test-id="article-body"><div class="tm-misprint-area"><div class="tm-misprint-area__wrapper"><!--[--><article class="tm-article-presenter__content tm-article-presenter__content_narrow"><!--[--><div class="tm-article-presenter__header"><!--[--><!--]--><div class="tm-article-snippet tm-article-snippet tm-article-presenter__snippet"><!--[--><!--]--><div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a href="/ru/users/masyaman/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="masyaman"><div class="tm-entity-image"><!--[--><img alt="" class="tm-entity-image__pic" height="24" src="https://assets.habr.com/vue-3/img/avatars/056.png" width="24"><!--]--></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/masyaman/" class="tm-user-info__username">masyaman <!----></a><!--[--><span class="tm-article-datetime-published"><time datetime="2019-09-04T07:01:32.000Z" title="2019-09-04, 07:01">4  сен  2019 в 07:01</time></span><!--]--></span></span></div><!----></div><h1 class="tm-title tm-title_h1" lang="ru" data-test-id="articleTitle"><span>Генерация звука на микроконтроллерах AVR методом волновых таблиц с поддержкой полифонии</span></h1><div class="tm-article-snippet__stats" data-test-id="articleStats"><!----><div class="tm-article-reading-time"><span class="tm-svg-icon__wrapper tm-article-reading-time__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Время на прочтение</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#clock"></use></svg></span><span class="tm-article-reading-time__label">12 мин</span></div><span class="tm-icon-counter tm-data-icons__item"><svg class="tm-svg-img tm-icon-counter__icon" height="24" width="24"><title>Количество просмотров</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-views"></use></svg><span class="tm-icon-counter__value">31K</span></span></div><div class="tm-publication-hubs__container" data-test-id="articleHubsList"><div class="tm-publication-hubs"><!--[--><span class="tm-publication-hub__link-container"><a href="/ru/hubs/c/" class="tm-publication-hub__link"><!--[--><span>C</span><span class="tm-article-snippet__profiled-hub" title="Профильный хаб">*</span><!--]--></a></span><span class="tm-publication-hub__link-container"><a href="/ru/hubs/controllers/" class="tm-publication-hub__link"><!--[--><span>Программирование микроконтроллеров</span><span class="tm-article-snippet__profiled-hub" title="Профильный хаб">*</span><!--]--></a></span><span class="tm-publication-hub__link-container"><a href="/ru/hubs/sound/" class="tm-publication-hub__link"><!--[--><span>Звук</span><!----><!--]--></a></span><!--]--></div></div><div class="tm-article-labels" data-test-id="articleLabels"><div class="tm-article-labels__container"><!----><!--[--><div class="tm-publication-label tm-publication-label_variant-sandbox"><a href="/ru/sandbox/" class="">Из песочницы</a></div><!--]--></div></div><!----><!----></div></div><!--[--><!----><div class="tm-article-body" data-gallery-root lang="ru"><div><!--[--><!--]--></div><div id="post-content-body"><div><div class="article-formatted-body article-formatted-body article-formatted-body_version-1"><div xmlns="http://www.w3.org/1999/xhtml">Микроконтроллеры AVR довольно дешевы и широко распространены. Наверно, с них начинает почти любой embedded разработчик. А среди любителей правит балом Arduino, сердцем которого обычно является ATmega328p. Наверняка многие задумывались: как можно заставить их звучать?<br/>
<br/>
Если посмотреть на существующие проекты, то они бывают нескольких типов:<br/>
<br/>
<ol>
<li>Генераторы квадратных импульсов. Генерация с помощью ШИМ или дергать пины в прерываниях. В любом случае, получается очень характерный пищащий звук.</li>
<li>Использование внешнего оборудования типа MP3 декодера.</li>
<li>Использование ШИМ для вывода 8 битного (иногда 16 битного) звука в формате PCM или ADPCM. Поскольку памяти в микроконтроллерах для этого явно не достаточно, то обычно используют SD карту.</li>
<li>Использование ШИМ для генерации звука на основе волновых таблиц, подобных MIDI.</li>
</ol><br/>
Последний тип для меня был особенно интересен, т.к. почти не требует дополнительного оборудования. Представляю сообществу свой вариант. Для начала небольшое демо:<br/>
<br/>
<div class="oembed"><div><div style="left: 0; width: 100%; height: 400px; position: relative;"><div class="tm-iframe_temp" data-src="https://w.soundcloud.com/player/?visual=true&amp;url=https%3A%2F%2Fapi.soundcloud.com%2Ftracks%2F674128355&amp;show_artwork=true" data-style="border: 0; top: 0; left: 0; width: 100%; height: 100%; position: absolute;" id="" width=""></div></div></div></div><br/>
<br/>
Заинтересовавшихся прошу под кат.<br/>
<a name="habracut"></a><br/>
Итак, оборудование:<br/>
<br/>
<ul>
<li>ATmega8 или ATmega328. Портировать на другие ATmega не сложно. И даже на ATtiny, но об этом позже;</li>
<li>Резистор;</li>
<li>Конденсатор;</li>
<li>Динамик или наушники;</li>
<li>Питание;</li>
</ul><br/>
Вроде все.<br/>
<br/>
Простая RC цепочка вместе с динамиком подключается к выводу микроконтроллера. На выходе получаем 8 битный звук с частотой дискретизации 31250Гц. При частоте кристалла в 8МГц можно генерировать до 5 каналов звука + один шумовой канал для перкуссии. При этом используется почти все процессорное время, но после заполнения буфера процессор можно занять чем-то полезным помимо звука:<br/>
<br/>
<div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.2493%;"><div class="tm-iframe_temp" data-src="https://www.youtube.com/embed/JwqY7FoxYsk?rel=0&amp;showinfo=1&amp;hl=en-US" data-style="border: 0; top: 0; left: 0; width: 100%; height: 100%; position: absolute;" id="" width=""></div></div></div></div><br/>
Данный пример полностью помещается в память ATmega8, 5 каналов + шум обрабатываются при частоте кристалла 8МГц и остается немного времени на анимацию на дисплее.<br/>
<br/>
Так же я хотел показать в этом примере, что библиотеку можно использовать не только как очередную музыкальную открытку, но и подключить звук к уже существующим проектам, например, для уведомлений. И даже при использовании всего одного звукового канала уведомления могут быть гораздо интереснее простой пищалки.<br/>
<br/>
А теперь подробности…<br/>
<br/>
<h2>Волновые таблицы или wavetables</h2><br/>
Математика предельно проста. Есть периодичная функция тона, например <i>tone(t) = sin(t * freq / (2 * Pi))</i>.<br/>
<br/>
Так же есть функция изменения громкости основного тона от времени, например <i>volume(t) = e ^ (- t)</i>.<br/>
<br/>
В самом простом случае звучание инструмента – это произведение этих функций <i>instrument(t) = tone(t) * volume(t)</i>:<br/>
<br/>
На графике это все выглядит примерно так:<br/>
<br/>
<img src="https://habrastorage.org/r/w1560/webt/pn/dp/pi/pndppihozomu4ep_fxzcho44xx8.png" data-src="https://habrastorage.org/webt/pn/dp/pi/pndppihozomu4ep_fxzcho44xx8.png"/><br/>
<br/>
Дальше берем все звучащие в данный момент времени инструменты и суммируем их с некоторыми коэффициентами громкости (псевдокод):<br/>
<br/>
<pre><code class="cmake">for (i = 0; i &lt; CHANNELS; i++) {
  value += channels[i].tone(t) * channels[i].volume(t) * channels[i].volume;
}</code></pre><br/>
Надо только подбирать громкости так, чтобы не было переполнения. И это почти все.<br/>
<br/>
Шумовой канал работает приблизительно так же, только вместо функции тона генератор псевдослучайной последовательности.<br/>
<br/>
Перкуссия — это микс шумового канала и низкочастотной волны, приблизительно в 50-70 Гц.<br/>
Конечно, качественного звука таким образом добиться сложно. Но у нас же всего 8 килобайт на все. Надеюсь, это можно простить.<br/>
<br/>
<h2>Что можно выжать из 8 бит</h2><br/>
Изначально я ориентировался на ATmega8. Без внешнего кварца она работает на частоте 8МГц и имеет 8 битный ШИМ, что дает базовую частоту дискретизации 8000000 / 256 = 31250Гц. Один таймер использует ШИМ для вывода звука и он же при переполнении вызывает прерывание для передачи следующего значения в генератор ШИМ. Соответственно, у нас 256 тактов для вычисления значения сэмпла на все, включая накладные расходы на прерывание, обновление параметров звуковых каналов, отслеживание времени, когда надо проигрывать очередную ноту и т.д.<br/>
<br/>
Для оптимизации будем активно использовать следующие трюки:<br/>
<br/>
<ul>
<li>Поскольку процессор у нас восьмибитный, то переменные будем стараться делать такими же. Иногда будем пользоваться 16 битными. </li>
<li>Вычисления условно разделим на частые и не очень. Первые необходимо вычислять для каждого сэмпла, вторые – заметно реже, раз в несколько десятков/сотен сэмплов.</li>
<li>Для равномерного распределения нагрузки во времени мы используем циклический буфер. В основном цикле программы мы буфер наполняем, в прерывании вычитываем. Если все хорошо, то наполняется буфер быстрее, чем опустошается и у нас есть время на что-то еще.</li>
<li>Код написан на C с большим количеством inline. Практика показывает, что так заметно быстрее.</li>
<li>Все что можно просчитать препроцессором, особенно с участием деления, делается препроцессором.</li>
</ul><br/>
Для начала, разделим время на промежутки по 4 миллисекунды (я назвал их тиками). При частоте дискретизации 31250Гц получаем 125 сэмплов на тик. То, что обязательно нужно считать каждый сэмпл – будем считать каждый сэмпл, а остальное – раз в тик или реже. Например, в рамках одного тика громкость инструмента будет постоянной: <i>instrument(t) = tone(t) * currentVolume</i>; а сам currentVolume будет пересчитываться раз в тик с учетом volume(t) и выбранной громкости звукового канала.<br/>
<br/>
Длительность тика в 4мс была выбрана исходя из простого 8 битного ограничения: при восьмибитном счетчике сэмплов можно работать с частотой дискретизации до 64кГц, при восьмибитном счетчике тиков мы можем измерять время до 1-й секунды.<br/>
<br/>
<h2>Немного кода</h2><br/>
Сам канал описывается такой структурой:<br/>
<br/>
<pre><code class="cmake">typedef struct
{
    // Info about wave
    const int8_t* waveForm; // Wave table array
    uint16_t waveSample; // High byte is an index in waveForm array
    uint16_t waveStep; // Frequency, how waveSample is changed in time

    // Info about volume envelope
    const uint8_t* volumeForm; // Array of volume change in time
    uint8_t volumeFormLength; // Length of volumeForm
    uint8_t volumeTicksPerSample; // How many ticks should pass before index of volumeForm is changed
    uint8_t volumeTicksCounter; // Counter for volumeTicksPerSample

    // Info about volume
    uint8_t currentVolume; // Precalculated volume for current tick
    uint8_t instrumentVolume; // Volume of channel
} waveChannel;</code></pre><br/>
Условно данные тут разделены на 3 части:<br/>
<br/>
<ol>
<li> Информация о форме волны, фаза, частота.<br/>
 <br/>
waveForm: информация о функции tone(t): ссылка на массив длиной 256 байт. Задает тембр, звучание инструмента. <br/>
 <br/>
waveSample: старший байт указывает на текущий индекс массива waveForm.<br/>
 <br/>
waveStep: задает частоту, на сколько waveSample будет увеличен при подсчете следующего сэмпла.<br/>
 <br/>
Каждый сэмпл считается примерно так:<br/>
 <br/>
 <pre><code class="cmake">int8_t tone = channelData.waveForm[channelData.waveSample >> 8];
channelData.waveSample += channelaData.waveStep;
return tone * channelData.currentVolume;</code></pre><br/>
</li>
<li> Информация о громкости. Задает функцию изменения громкости от времени. Постольку громкость меняется не так часто, то пересчитывать ее можно реже, раз в тик. Делается это примерно так:<br/>
 <br/>
 <pre><code class="cmake">if ((channel->volumeTicksCounter--) == 0 &amp;&amp; channel->volumeFormLength > 0) {
    channel->volumeTicksCounter = channel->volumeTicksPerSample;
    channel->volumeFormLength--;
    channel->volumeForm++;
}
channel->currentVolume = channel->volumeForm * channel->instrumentVolume >> 8;</code></pre><br/>
</li>
<li> Задает громкость канала и посчитанную текущую громкость.<br/>
</li>
</ol><br/>
Обратите внимание: форма волны – восьмибитная, громкость – тоже восьмибитная, а результат – 16 битный. С небольшой потерей производительности можно сделать звук (почти) 16 битным.<br/>
<br/>
При борьбе за производительность пришлось прибегнуть к некоторой черной магии. <br/>
<br/>
Пример номер 1. Как пересчитывать громкость каналов:<br/>
<br/>
<pre><code class="cmake">if ((tickSampleCounter--) == 0) {
    // Наступил новый тик
    tickSampleCounter = SAMPLES_PER_TICK – 1;
    // Посчитать еще что-то
}
// volume recalculation should no be done so often for all channels
if (tickSampleCounter &lt; CHANNELS_SIZE) {
    recalculateVolume(channels[tickSampleCounter]);
}</code></pre><br/>
Таким образом, все каналы пересчитывают громкость раз в тик, но не одновременно.<br/>
<br/>
Пример номер 2. Держать информацию о канале в статической структуре дешевле, чем в массиве. Не вдаваясь в подробности реализации wavechannel.h скажу, что этот файл вставляется в код несколько раз (равное количеству каналов) с разными директивами препроцессора. При каждой вставке создаются новые глобальные переменные и новая функция расчета канала, которая потом инлайнится в основной код:<br/>
<br/>
<pre><code class="cmake">#if CHANNELS_SIZE >= 1
    val += channel0NextSample();
#endif
#if CHANNELS_SIZE >= 2
    val += channel1NextSample();
#endif
…
</code></pre><br/>
Пример номер 3. Если мы начнем проигрывать очередную ноту чуть-чуть позже, то все равно никто не заметит. Давайте представим ситуацию: мы чем-то заняли процессор и за это время буфер почти опустошился. Затем мы начинаем его заполнять и тут вдруг оказывается, что на подходе новый такт: надо обновлять текущие ноты, читать из массива что там дальше и т.д. Если мы не успеем, то будут характерные заикания. Гораздо лучше немного заполнить буфер старыми данными, и только потом обновить состояние каналов.<br/>
<br/>
<pre><code class="cmake">while ((samplesToWrite) > 4) { // Ждем в цикле пока буфер не будет почти заполнен
    fillBuffer(SAMPLES_PER_TICK); // Наполняем буфер в течение какого-то времени
    updateMusicData(); // Обновляем состояние нот
}</code></pre><br/>
По-хорошему надо бы еще донаполнить буфер после цикла, но, поскольку у нас почти все inline, то заметно раздувается размер кода.<br/>
<br/>
<h2>Музыка</h2><br/>
Используется восьмибитный счетчик тиков. При достижении нуля начинается новый такт, счетчику присваивается длительность такта (в тиках), чуть позже проверяется массив музыкальных команд.<br/>
<br/>
Музыкальные данные хранятся в массиве байтов. Записывается примерно так:<br/>
<br/>
<pre><code class="cmake">const uint8_t demoSample[] PROGMEM = {
    DATA_TEMPO(160), // Set beats per minute
    DATA_INSTRUMENT(0, 1), // Assign instrument 1 (see setSample) to channel 0
    DATA_INSTRUMENT(1, 1), // Assign instrument 1 (see setSample) to channel 1
    DATA_VOLUME(0, 128), // Set volume 128 to channel 0
    DATA_VOLUME(1, 128), // Set volume 128 to channel 1
    DATA_PLAY(0, NOTE_A4, 1), // Play note A4 on channel 0 and wait 1 beat 
    DATA_PLAY(1, NOTE_A3, 1), // Play note A3 on channel 1 and wait 1 beat
    DATA_WAIT(63), // Wait 63 beats
    DATA_END() // End of data stream
};</code></pre><br/>
Все что начинается с DATA_ – препроцессорные макросы, которые разворачивают параметры в необходимое количество байт данных. <br/>
<br/>
Например, команда DATA_PLAY разворачивается в 2 байта, в которых хранятся: маркер команды (1 бит), пауза перед следующей командой (3 бита), номер канала, на котором играть ноту (4 бита), информация о ноте (8 бит). Самое существенное ограничение – этой командой нельзя делать большие паузы, максимум 7 тактов. Если надо больше, то надо использовать команду DATA_WAIT (до 63 тактов). К сожалению, я так и не нашел, можно ли макрос развернуть в разное количество байт массива в зависимости от параметра макроса. И даже warning не знаю как вывести. Может быть вы подскажите.<br/>
<br/>
<h2>Использование</h2><br/>
В каталоге demos есть несколько примеров под разные микроконтроллеры. Но если коротко, то вот кусок из readme, мне добавить особо нечего:<br/>
<br/>
<pre><code class="cmake">#include "../../microsound/devices/atmega8timer1.h"
#include "../../microsound/micromusic.h"

// Make some settings
#define CHANNELS_SIZE   5
#define SAMPLES_SIZE    16
#define USE_NOISE_CHANNEL

initMusic(); // Init music data and sound control
sei(); // Enable interrupts, silence sound should be generated
setSample(0, instrument1); // Use instrument1 as sample 0
setSample(1, instrument2); // Init all other instruments…

playMusic(mySong); // Start playing music at pointer mySong
while (!isMusicStopped) {
    fillMusicBuffer(); // Fill music buffer in loop
    // Do some other stuff
}</code></pre><br/>
Если хочется еще что-то делать помимо музыки, то можно увеличить размер буфера с помощью BUFFER_SIZE. Размер буфера должен быть 2^n, но, к сожалению, при размере в 256 происходит падение производительности. Пока не разобрался с этим.<br/>
<br/>
Для увеличения производительности можно увеличить частоту внешним кварцем, можно уменьшить количество каналов, можно уменьшить частоту дискретизации. С последним приемом можно использовать линейную интерполяцию, что несколько компенсирует падение качества звука.<br/>
<br/>
Всякие delay не рекомендуется использовать, т.к. процессорное время расходуется впустую. Вместо этого реализован свой метод в файле <i>microsound/delay.h</i>, который помимо самой паузы занимается наполнением буфера. Данный метод может работать не очень точно на коротких паузах, но на длинных более-менее вменяемо.<br/>
<br/>
<h2>Создание своей музыки</h2><br/>
Если писать команды вручную, то надо иметь возможность послушать то, что получается. Заливать каждое изменение в микроконтроллер не удобно, особенно если есть альтернатива.<br/>
<br/>
Существует довольно забавный сервис <a href="http://wavepot.com" rel="nofollow noopener noreferrer">wavepot.com</a> – онлайн редактор JavaScript, в котором надо задать функцию звукового сигнала от времени, и этот сигнал выводится на звуковую карту. Простейший пример:<br/>
<br/>
<pre><code class="javascript">function dsp(t) {
  return 0.1 * Math.sin(2 * Math.PI * t * 440);
}</code></pre><br/>
Я портировал движок на JavaScript, он находится в <i>demos/wavepot.js</i>. Содержимое файла надо вставить в редакторе <a href="http://wavepot.com" rel="nofollow noopener noreferrer">wavepot.com</a> и можно проводить эксперименты. Пишем свои данные в массив soundData, слушаем, не забываем сохранять.<br/>
<br/>
UPD: На данный момент wavepot сильно поменялся и мой код с ним не совместим. Можно локально поднять старую версию с <a href="https://github.com/wavepot/wavep0t" rel="nofollow noopener noreferrer">github</a>, но она работает только с firefox, а в chrome не выводит звук.<br/>
<br/>
Отдельно стоит упомянуть о переменной simulate8bits. Она, согласно названию, симулирует восьмибитный звук. Если вдруг покажется, что барабаны гудят, а в затухающих инструментах при тихом звуке появляются помехи, то это оно, искажение восьмибитного звука. Можно попробовать отключить эту опцию и послушать разницу. Проблема гораздо менее ощутима, если в музыке нет тишины.<br/>
<br/>
<h2>Подключение</h2><br/>
В простом варианте схема выглядит так:<br/>
<br/>
<pre><code class="plaintext">+5V    
 ^      MCU
 |   +-------+
 +---+VC     |    R1
     |    Pin+---/\/\--+-----> OUT
     |       |         |
 +---+GN     |        === C1
 |   +-------+         |
 |                     |
--- Grnd              --- Grnd</code></pre><br/>
Выходной пин зависит от микроконтроллера. Резистор R1 и конденсатор C1 надо подбирать исходя из нагрузки, усилителя (если есть) и т.д. Я не электронщик и приводить формулы не буду, их легко нагуглить вместе с онлайн калькуляторами. <br/>
<br/>
У меня R1 = 130 Ом, С1 = 0.33 мкФ. На выход подключаю обычные китайские наушники. <br/>
<br/>
<h2>Что там было про 16 битный звук?</h2><br/>
Как я говорил выше, при умножении двух восьмибитных чисел (частота и громкость) мы получаем 16 битное число. Его можно не округлять до восьмибитного, а выводить оба байта в 2 ШИМ канала. Если эти 2 канала смешать в пропорции 1/256, то мы можем получить 16 битный звук. Разницу с восьмибитным особенно легко услышать на плавно затухающих звуках и барабанах в моменты, когда звучит только один инструмент.<br/>
<br/>
Подключение 16 битного выхода:<br/>
<br/>
<pre><code class="plaintext">+5V    
 ^      MCU
 |   +-------+
 +---+VCC    |    R1
     |   PinH+---/\/\--+-----> OUT
     |       |         |
     |       |    R2   |
     |   PinL+---/\/\--+
 +---+GND    |         |
 |   +-------+        === C1
 |                     |
--- Grnd              --- Grnd</code></pre><br/>
Здесь важно правильно смешать 2 выхода: сопротивление R2 должно быть в 256 раз больше сопротивления R1. Чем точнее, тем лучше. К сожалению, даже резисторы с погрешностью 1% не дают требуемой точности. Однако, даже с не очень точным подбором резисторов искажения можно заметно ослабить. <br/>
<br/>
К сожалению, при использовании 16 битного звука проседает производительность и 5 каналов + шум уже не успевают обрабатываться за отведенные 256 тактов.<br/>
<br/>
<h2>А на Arduino можно?</h2><br/>
Да, можно. У меня только китайский клон nano на ATmega328p, на нем работает. Скорее всего другие ардуины на ATmega328p тоже должны работать. ATmega168 вроде бы имеет те же регистры управления таймерами. Скорее всего на них будет работать без изменений. На других микроконтроллерах надо проверять, возможно потребуется дописать драйвер.<br/>
<br/>
В <i>demos/arduino328p</i> есть скетч, но чтобы он нормально открылся в Arduino IDE, его нужно скопировать в корень проекта. <br/>
<br/>
В примере генерируется 16 битный звук и используются выходы D9 и D10. Для упрощения можно ограничиться 8 битным звуком и использовать только один выход D9.<br/>
<br/>
Поскольку почти все ардуины работают на 16МГц, то, при желании, можно увеличить количество каналов до 8.<br/>
<br/>
<h2>А что с ATtiny?</h2><br/>
В ATtiny нет аппаратного умножения. Программное умножение, которое использует компилятор дико медленное и его лучше не использовать. При использовании оптимизированных ассемблерных вставок производительность падает раза в 2 по сравнению с ATmega. Казалось бы, смысла использовать ATtiny нет вообще, но…<br/>
<br/>
На некоторых ATtiny есть умножитель частоты, PLL. А это значит, что на таких микроконтроллерах есть 2 интересные особенности:<br/>
<br/>
<ol>
<li>Частота генератора ШИМ 64МГц, что дает период ШИМ в 250кГц, что гораздо лучше, чем 31250Гц при 8 МГц или 62500Гц с кварцем на 16 МГц на любых ATmega.</li>
<li>Этот же умножитель частоты позволяет без кварца тактовать кристалл на 16 МГц.</li>
</ol><br/>
Отсюда вывод: некоторые ATtiny использовать для генерации звука можно. Они успевают обрабатывать те же 5 инструментов + шумовой канал, но на 16 МГц и им не нужен внешний кварц.<br/>
<br/>
Минус в том, что больше частоту уже не повысить, а вычисления занимают почти все время. Для освобождения ресурсов можно уменьшать количество каналов или частоту дискретизации. <br/>
<br/>
Еще один минус в необходимости использования сразу двух таймеров: один для ШИМ, второй для прерывания. На этом, обычно, таймеры и заканчиваются.<br/>
<br/>
Из известных мне микроконтроллеров с PLL могу упомянуть ATtiny85/45/25 (8 ног), ATtiny861/461/261 (20 ног), ATtiny26 (20 ног). <br/>
<br/>
Что касается памяти, то разница с ATmega не велика. В 8кб вполне поместится несколько инструментов и мелодий. В 4кб можно поместить 1-2 инструмента и 1-2 мелодии. В 2 килобайта что-то поместить сложно, но если очень хочется, то можно. Надо разинлайнивать методы, отключать некоторые функции типа контроля громкости по каналам, уменьшать частоту дискретизации и количество каналов. В общем, на любителя, но рабочий пример на ATtiny26 есть.<br/>
<br/>
<h2>Проблемы</h2><br/>
Проблемы есть. И самая большая проблема – это скорость вычислений. Код полностью написан на C с небольшими ассемблерными вставками умножения для ATtiny. Оптимизация отдается компилятору и он иногда ведет себя странно. При небольших изменениях, которые вроде бы не должны ни на что влиять, можно получить заметное просаживание производительности. Причем изменение с -Os на -O3 не всегда помогает. Один из таких примеров – использование буфера размером 256 байт. Особенно неприятно то, что нет гарантии, что в новых версиях компилятора мы не получим падение производительности на том же коде.<br/>
<br/>
Другая проблема в том, что совсем не реализован механизм затухания перед следующей нотой. Т.е. когда на каком-то канале одна нота сменяется другой, то старое звучание резко прерывается, иногда слышен небольшой щелчок. Хотелось бы найти способ избавиться от этого без потери производительности, но пока так.<br/>
<br/>
Нет команд для плавного нарастания/затухания громкости. Особенно критично для коротких мелодий-уведомлений, где в конце надо сделать быстрое затухание громкости, чтобы не было резкого обрыва звучания. Частично проблема обходится написанием череды команд с ручной установкой громкости и короткой паузы.<br/>
<br/>
Выбранный подход в принципе не способен обеспечить натуралистичное звучание инструментов. Для более натуралистичного звучания нужно разделить звуки инструментов на attack-sustain-release, использовать хотя бы первые 2 части и с гораздо большей длительностью, чем один период колебания. Но тогда данных для инструмента потребуется гораздо больше. Была идея использовать более короткие волновые таблицы, например в 32 байта вместо 256, но без интерполяции сильно падает качество звука, а с интерполяцией падает производительность. А еще 8 бит дискретизации явно мало для музыки, но это можно обойти.<br/>
<br/>
Размер буфера ограничен в 256 сэмплов. Это соответствует примерно 8 миллисекундам и это максимальный цельный промежуток времени, который можно отдать другим задачам. При этом выполнение задач все равно периодически приостанавливается прерываниями.<br/>
<br/>
Замена стандартного delay работает не очень точно на коротких паузах.<br/>
<br/>
Уверен, что это не полный список.<br/>
<br/>
<h2>Ссылки</h2><br/>
<ul>
<li><a href="https://github.com/masyamandev/microsound" rel="nofollow noopener noreferrer">Ссылка на Github</a></li>
<li><a href="https://chipinfo.pro/article/basics_of_circuitry/pwm_filter.shtml" rel="nofollow noopener noreferrer">Расчет ШИМ фильтра</a></li>
<li><a href="http://elm-chan.org/works/mxb/report.html" rel="nofollow noopener noreferrer">Некоторые идеи и демо мелодию взял отсюда</a></li>
</ul></div></div></div><!----><!----></div><!----><!----></div><!--]--><!----><div class="tm-article-presenter__meta" data-test-id="article-meta-links"><div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Теги:</span><ul class="tm-separated-list__list"><!--[--><li class="tm-separated-list__item"><!--[--><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[%D0%BC%D0%B8%D0%BA%D1%80%D0%BE%D0%BA%D0%BE%D0%BD%D1%82%D1%80%D0%BE%D0%BB%D0%BB%D0%B5%D1%80%D1%8B]" class="tm-tags-list__link"><span>микроконтроллеры</span></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[%D0%BC%D0%B8%D0%BA%D1%80%D0%BE%D0%BA%D0%BE%D0%BD%D1%82%D1%80%D0%BE%D0%BB%D0%BB%D0%B5%D1%80%D1%8B+avr]" class="tm-tags-list__link"><span>микроконтроллеры avr</span></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[avr]" class="tm-tags-list__link"><span>avr</span></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[atmega8]" class="tm-tags-list__link"><span>atmega8</span></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[atmega328p]" class="tm-tags-list__link"><span>atmega328p</span></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[attiny85]" class="tm-tags-list__link"><span>attiny85</span></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[attiny45]" class="tm-tags-list__link"><span>attiny45</span></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[arduino]" class="tm-tags-list__link"><span>arduino</span></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[%D0%B7%D0%B2%D1%83%D0%BA]" class="tm-tags-list__link"><span>звук</span></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[%D0%BC%D1%83%D0%B7%D1%8B%D0%BA%D0%B0]" class="tm-tags-list__link"><span>музыка</span></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[%D0%B7%D0%B2%D1%83%D0%BA+%D0%B8+%D0%BC%D1%83%D0%B7%D1%8B%D0%BA%D0%B0]" class="tm-tags-list__link"><span>звук и музыка</span></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[%D1%81%D0%B8%D0%BD%D1%82%D0%B5%D0%B7%D0%B0%D1%82%D0%BE%D1%80]" class="tm-tags-list__link"><span>синтезатор</span></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[midi]" class="tm-tags-list__link"><span>midi</span></a><!--]--></li><!--]--><!----></ul></div><div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Хабы:</span><ul class="tm-separated-list__list"><!--[--><li class="tm-separated-list__item"><!--[--><a href="/ru/hubs/c/" class="tm-hubs-list__link"><!--[--><span>C</span><!--]--></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a href="/ru/hubs/controllers/" class="tm-hubs-list__link"><!--[--><span>Программирование микроконтроллеров</span><!--]--></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a href="/ru/hubs/sound/" class="tm-hubs-list__link"><!--[--><span>Звук</span><!--]--></a><!--]--></li><!--]--><!----></ul></div></div><!----><!--]--></article><!--]--></div><!----></div><div style="" class="tm-article-sticky-panel" data-test-id="article-sticky-panel"><div class="tm-data-icons tm-data-icons tm-data-icons_space-big tm-article-sticky-panel__icons" data-test-id="article-stats-icons"><div class="tm-article-rating tm-data-icons__item"><div class="tm-votes-lever tm-votes-lever tm-votes-lever_appearance-article tm-article-rating__votes-switcher" title="Всего голосов 60: ↑59 и ↓1"><button class="tm-votes-lever__button" data-test-id="votes-lever-upvote-button" title="Нравится" type="button"><svg class="tm-svg-img tm-votes-lever__icon" height="24" width="24"><title>Голосование</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-vote"></use></svg></button><div class="tm-votes-lever__score tm-votes-lever__score_appearance-article tm-votes-lever__score"><!--[--><span><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_positive tm-votes-lever__score-counter" data-test-id="votes-score-counter">+58</span></span><!--]--></div><button class="tm-votes-lever__button" data-test-id="votes-lever-downvote-button" title="Не нравится" type="button"><svg class="tm-svg-img tm-votes-lever__icon tm-votes-lever__icon_arrow-down" height="24" width="24"><title>Голосование</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-vote"></use></svg></button></div><!--teleport start--><!--teleport end--><!----></div><!----><!----><button class="bookmarks-button tm-data-icons__item" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><span class="bookmarks-button__counter" title="Количество пользователей, добавивших публикацию в закладки">163</span></button><div class="tm-sharing tm-data-icons__item" title="Поделиться"><button class="tm-sharing__button" type="button"><svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="tm-sharing__icon"><path fill="currentColor" d="M13.8 13.8V18l7.2-6.6L13.8 5v3.9C5 8.9 3 18.6 3 18.6c2.5-4.4 6-4.8 10.8-4.8z"></path></svg></button><!--teleport start--><!--teleport end--></div><div class="tm-article-comments-counter-link tm-data-icons__item" title="Читать комментарии"><a href="/ru/articles/466121/comments/" class="tm-article-comments-counter-link__link" data-test-id="counter-comments"><!--[--><svg class="tm-svg-img tm-article-comments-counter-link__icon" height="24" width="24"><title>Комментарии</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-comments"></use></svg><span class="tm-article-comments-counter-link__value">71</span><!--]--></a><!----></div><!--[--><!--[--><!--[--><!----><!--]--><!--]--><!--]--><!--teleport start--><!--teleport end--><!----></div></div></div><!--[--><!--]--><div class="tm-article-presenter__footer"><!--[--><!--[--><div class="tm-article-blocks"><!----><!--[--><section class="tm-block tm-block tm-block_spacing-bottom"><!----><!--[--><div class="tm-block__body tm-block__body tm-block__body_variant-balanced"><!--[--><div class="tm-article-author" data-test-id="article-author-info"><!--[--><!--]--><div class="tm-user-card tm-user-card tm-user-card_variant-article tm-article-author__user-card"><div class="tm-user-card__info-container"><div class="tm-user-card__header"><div class="tm-user-card__header-data"><a href="/ru/users/masyaman/" class="tm-user-card__userpic tm-user-card__userpic_size-40"><div class="tm-entity-image"><!--[--><img alt="" class="tm-entity-image__pic" src="https://assets.habr.com/vue-3/img/avatars/056.png"><!--]--></div></a><div class="tm-user-card__meta"><div class="tm-counter-container tm-karma tm-karma" title=" 55 голосов "><div class="tm-counter-container__header"><!--[--><div class="tm-karma__votes_positive tm-karma__votes">43</div><!----><!--]--></div><div class="tm-counter-container__footer"><!--[--><div class="tm-karma__text">Карма</div><!--teleport start--><!--teleport end--><!--]--></div></div><div class="tm-counter-container" title="Рейтинг пользователя"><div class="tm-counter-container__header"><!--[--><!--[--><!--]--><div class="tm-votes-lever tm-votes-lever tm-votes-lever_appearance-rating"><!----><div class="tm-votes-lever__score tm-votes-lever__score_appearance-rating tm-votes-lever__score"><!--[--><span><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_rating tm-votes-lever__score-counter" data-test-id="votes-score-counter">0</span></span><!--]--></div><!----></div><!--]--></div><div class="tm-counter-container__footer"><!--[--><span class="tm-rating__text tm-rating__text">Рейтинг</span><!--]--></div></div></div></div></div><div class="tm-user-card__info tm-user-card__info_variant-article tm-user-card__info"><div class="tm-user-card__title tm-user-card__title_variant-article tm-user-card__title"><!----><a href="/ru/users/masyaman/" class="tm-user-card__nickname tm-user-card__nickname tm-user-card__nickname_variant-article"> @masyaman</a><!----></div><p class="tm-user-card__short-info tm-user-card__short-info_variant-article tm-user-card__short-info" data-test-id="user-card-speciality">Пользователь</p></div></div><div class="tm-user-card__buttons tm-user-card__buttons_variant-article tm-user-card__buttons"><!----><div class="tm-user-card__button"><div class="tm-button-follow tm-user-card__button-follow"><!----><button class="tm-button-follow__button tm-button-follow__button_big" data-test-id="follow-button" type="button">Подписаться</button></div></div><!----><div class="tm-user-card__button tm-user-card__button_write" data-test-id="user-card-conversations"><svg class="tm-svg-img tm-user-card__button-icon" height="16" width="16"><title>Отправить сообщение</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#mail"></use></svg></div><!----></div><!----></div><!----></div><!--]--></div><!--]--><!----></section><!--[--><div class="tm-adfox-banner__container tm-page-article__banner"><div id="adfox_164725660339535756" class="tm-adfox-banner tm-adfox-banner_variant-leaderboard tm-adfox-banner"></div></div><!--]--><!--]--><div class="tm-article-blocks__comments"><div id="publication-comments" class="tm-article-page-comments"><div data-async-called="true" data-server-rendered="true"><div class="tm-article-comments" data-test-id="article-comments"><div class="tm-comments-wrapper"><div class="tm-comments-wrapper__wrapper"><header class="tm-comments-wrapper__header"><h2 class="tm-comments-wrapper__title">Комментарии <span class="tm-comments-wrapper__comments-count">71</span></h2><div class="tm-comments-wrapper__header-aside"><!--[--><!--[--><!----><button class="tm-rss-button tm-rss-button_comments-header"><span class="tm-svg-icon__wrapper tm-rss-button__icon"><svg class="tm-svg-img tm-svg-icon" height="16" width="16"><title>Скопировать ссылку на RSS</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#rss"></use></svg></span></button><!----><!--]--><!--]--></div></header><div class="tm-comments-wrapper__inner"><!--[--><!--[--><!--[--><!--]--><!----><div class="tm-comments__tree" data-comments-list><!--[--><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20585141"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-0" data-comment-body="20585141"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/FDA/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="FDA"><div class="tm-entity-image"><img alt="" class="tm-entity-image__pic" height="24" src="//habrastorage.org/r/w48/getpro/habr/avatars/50b/977/59c/50b97759c63aad590f184674fa904878.jpg" width="24"></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/FDA/" class="tm-user-info__username">FDA <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20585141"><time datetime="2019-09-04T07:42:17.000Z" title="2019-09-04, 07:42">4  сен  2019 в 07:42</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><!----><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">Класс! Отличная статья, всё очень хорошо описано!</div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20585141"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><!----><!----></section><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20585185"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-0" data-comment-body="20585185"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/mmMike/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="mmMike"><div class="tm-entity-image"><!--[--><img alt="" class="tm-entity-image__pic" height="24" src="https://assets.habr.com/vue-3/img/avatars/009.png" width="24"><!--]--></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/mmMike/" class="tm-user-info__username">mmMike <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20585185"><time datetime="2019-09-04T07:48:02.000Z" title="2019-09-04, 07:48">4  сен  2019 в 07:48</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><!----><!----></div></header><div class="tm-comment__body-content_muted tm-comment__body-content" style="opacity:0.6;"><div xmlns="http://www.w3.org/1999/xhtml"><p>Все это конечно замечательно. НО зачем?</p><br/>
<p>Цена, размер корпуса да и потребление в этом режиме 32-х битных контроллеров практически те же что и на ATMega. </p><br/>
<p>Почему все так упорно пользуются древними ATMega?</p></div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Всего голосов 7: ↑2 и ↓5</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_negative tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Всего голосов 7: ↑2 и ↓5">-3</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20585185"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><div style="" class="tm-comment-thread__children"><!--[--><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20585233"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-1"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-1" data-comment-body="20585233"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/acin/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="acin"><div class="tm-entity-image"><img alt="" class="tm-entity-image__pic" height="24" src="//habrastorage.org/r/w48/getpro/habr/avatars/2cd/dc6/377/2cddc637710df3e6d4a46b28f1dad1df.jpg" width="24"></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/acin/" class="tm-user-info__username">acin <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20585233"><time datetime="2019-09-04T07:58:08.000Z" title="2019-09-04, 07:58">4  сен  2019 в 07:58</time><svg class="tm-svg-img tm-comment-thread__icon-pencil" height="16" width="16"><title>Комментарий был изменен</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#pencil-small"></use></svg></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><button class="tm-comment__button tm-comment__button_with-icon" type="button"><svg class="tm-svg-img tm-comment__icon" height="16" width="16"><title>Показать предыдущий комментарий</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#small-arrow"></use></svg></button><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">ATMega, да и вообще все AVR, обладают огромным преимуществом перед 32-битными МК в плане обучения и легкости вхождения в работу с ними. Сколько всего надо прописать в исходник чтоб заставить хотя бы помигать светодиодом на каком-нибудь STM32? И сравнить это с аналогичным решением на AVR.<br/>
Ну а те кому перестанет хватать мощности ATMega, с полученным багажом знаний уже можно переходить на STM32 и иже с ними.</div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Всего голосов 4: ↑3 и ↓1</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Всего голосов 4: ↑3 и ↓1">+2</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20585233"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><div style="" class="tm-comment-thread__children"><!--[--><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20585323"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-2"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-2" data-comment-body="20585323"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/mmMike/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="mmMike"><div class="tm-entity-image"><!--[--><img alt="" class="tm-entity-image__pic" height="24" src="https://assets.habr.com/vue-3/img/avatars/009.png" width="24"><!--]--></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/mmMike/" class="tm-user-info__username">mmMike <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20585323"><time datetime="2019-09-04T08:19:19.000Z" title="2019-09-04, 08:19">4  сен  2019 в 08:19</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><button class="tm-comment__button tm-comment__button_with-icon" type="button"><svg class="tm-svg-img tm-comment__icon" height="16" width="16"><title>Показать предыдущий комментарий</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#small-arrow"></use></svg></button><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml"><blockquote>Сколько всего надо прописать в исходник чтоб заставить хотя бы помигать светодиодом на каком-нибудь STM32? </blockquote><p>Немного… (инициализация шаблонно). Если через напрямую в стиле "записать в порт" то практически столько же как на AT <code>DDRD |= _BV(PD0); PORTD &amp;= ~_BV(PD0);</code><br/>
(что не очень хороший стиль. ибо код не переносим может оказаться)</p><br/>
<p>За то проблемы "остается немного времени на анимацию на дисплее" не беспокоят.</p><br/>
<pre><code class="plaintext">#define DBG_LED_PIN GPIO_Pin_13
#define DBG_LED_PORT GPIOC
.....
        GPIO_InitTypeDef GPIO_InitStructure;
    GPIO_InitStructure.GPIO_Speed = GPIO_Speed_10MHz;
    GPIO_InitStructure.GPIO_Mode = GPIO_Mode_Out_OD;
    GPIO_InitStructure.GPIO_Pin = DBG_LED_PIN; GPIO_Init(DBG_LED_PORT, &amp;GPIO_InitStructure);
.....
//GPIO_SetBits(DBG_LED_PORT, DBG_LED_PIN); GPIO_ResetBits(DBG_LED_PORT, DBG_LED_PIN);
        if ( flip ) {
            DBG_LED_PORT->BSRR = DBG_LED_PIN; 
        } else {
            DBG_LED_PORT->BRR = DBG_LED_PIN;
        }
</code></pre><br/>
<p>И да. "Наверно, с них начинает почти любой embedded разработчик." не совсем правильное утверждение. Если, конечно, под "embedded разработчик" не понимать "я тут светодиодом помигал".</p><br/>
<p>Документация от STM ничем не сложнее чем от Atmel. </p></div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Всего голосов 2: ↑1 и ↓1</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Всего голосов 2: ↑1 и ↓1">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20585323"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><div style="" class="tm-comment-thread__children"><!--[--><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20588709"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-3"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-3" data-comment-body="20588709"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/EGregor_IV/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="EGregor_IV"><div class="tm-entity-image"><!--[--><img alt="" class="tm-entity-image__pic" height="24" src="https://assets.habr.com/vue-3/img/avatars/138.png" width="24"><!--]--></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/EGregor_IV/" class="tm-user-info__username">EGregor_IV <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20588709"><time datetime="2019-09-05T07:10:50.000Z" title="2019-09-05, 07:10">5  сен  2019 в 07:10</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><button class="tm-comment__button tm-comment__button_with-icon" type="button"><svg class="tm-svg-img tm-comment__icon" height="16" width="16"><title>Показать предыдущий комментарий</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#small-arrow"></use></svg></button><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">Ну, как бы не совсем так. Сначала надо раскочегарить ядро, выставить всяческие делители клоков, включить PLL, подождать пока он стабилизируется, подать клоки на периферию, а уж потооооом… можно ногами шевелить</div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20588709"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><div style="" class="tm-comment-thread__children"><!--[--><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20588733"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-4"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-4" data-comment-body="20588733"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/mmMike/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="mmMike"><div class="tm-entity-image"><!--[--><img alt="" class="tm-entity-image__pic" height="24" src="https://assets.habr.com/vue-3/img/avatars/009.png" width="24"><!--]--></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/mmMike/" class="tm-user-info__username">mmMike <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20588733"><time datetime="2019-09-05T07:16:45.000Z" title="2019-09-05, 07:16">5  сен  2019 в 07:16</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><button class="tm-comment__button tm-comment__button_with-icon" type="button"><svg class="tm-svg-img tm-comment__icon" height="16" width="16"><title>Показать предыдущий комментарий</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#small-arrow"></use></svg></button><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml"><p>Это шаблонный код, кочующий из проект в проект. И не так что бы сложный для понимания.<br/>
Если не интересует потребление, то можно вообще все модули включить.</p><br/>
<p>Чем мне не нравится Arduino как концепция… Кто то дернул чью то библиотеку (зачастую корявую и на оптимизированную) и все. Эмбедет разработчик в резюме.</p></div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20588733"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><div style="" class="tm-comment-thread__children"><!--[--><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20589583"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-5"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-5" data-comment-body="20589583"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><!----><div class="tm-comment__body-content_empty tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">НЛО прилетело и опубликовало эту надпись здесь</div></div><!----><!----></div><!--[--><!----><!--]--></div></article><!----><!----></section><!--]--></div><!----></section><!--]--></div><!----></section><!--]--></div><!----></section><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20585337"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-2"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-2" data-comment-body="20585337"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><!----><div class="tm-comment__body-content_empty tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">НЛО прилетело и опубликовало эту надпись здесь</div></div><!----><!----></div><!--[--><!----><!--]--></div></article><div style="" class="tm-comment-thread__children"><!--[--><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20585497"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-3"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-3" data-comment-body="20585497"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/acin/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="acin"><div class="tm-entity-image"><img alt="" class="tm-entity-image__pic" height="24" src="//habrastorage.org/r/w48/getpro/habr/avatars/2cd/dc6/377/2cddc637710df3e6d4a46b28f1dad1df.jpg" width="24"></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/acin/" class="tm-user-info__username">acin <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20585497"><time datetime="2019-09-04T08:58:56.000Z" title="2019-09-04, 08:58">4  сен  2019 в 08:58</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><button class="tm-comment__button tm-comment__button_with-icon" type="button"><svg class="tm-svg-img tm-comment__icon" height="16" width="16"><title>Показать предыдущий комментарий</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#small-arrow"></use></svg></button><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">Справедливости ради, у ti есть несколько ланчпэдов, в том числе и с 32битными чипами, поддерживаемые Ардуино-подобной ИДЕшкой Energia.</div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20585497"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><div style="" class="tm-comment-thread__children"><!--[--><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20585525"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-4"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-4" data-comment-body="20585525"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><!----><div class="tm-comment__body-content_empty tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">НЛО прилетело и опубликовало эту надпись здесь</div></div><!----><!----></div><!--[--><!----><!--]--></div></article><div style="" class="tm-comment-thread__children"><!--[--><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20585577"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-5"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-5" data-comment-body="20585577"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/acin/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="acin"><div class="tm-entity-image"><img alt="" class="tm-entity-image__pic" height="24" src="//habrastorage.org/r/w48/getpro/habr/avatars/2cd/dc6/377/2cddc637710df3e6d4a46b28f1dad1df.jpg" width="24"></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/acin/" class="tm-user-info__username">acin <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20585577"><time datetime="2019-09-04T09:19:25.000Z" title="2019-09-04, 09:19">4  сен  2019 в 09:19</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><button class="tm-comment__button tm-comment__button_with-icon" type="button"><svg class="tm-svg-img tm-comment__icon" height="16" width="16"><title>Показать предыдущий комментарий</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#small-arrow"></use></svg></button><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">Менеджер есть, от ардуины не подходят.</div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20585577"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><!----><!----></section><!--]--></div><!----></section><!--]--></div><!----></section><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20587113"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-3"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-3" data-comment-body="20587113"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/romanetz_omsk/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="romanetz_omsk"><div class="tm-entity-image"><!--[--><img alt="" class="tm-entity-image__pic" height="24" src="https://assets.habr.com/vue-3/img/avatars/018.png" width="24"><!--]--></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/romanetz_omsk/" class="tm-user-info__username">romanetz_omsk <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20587113"><time datetime="2019-09-04T15:52:58.000Z" title="2019-09-04, 15:52">4  сен  2019 в 15:52</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><button class="tm-comment__button tm-comment__button_with-icon" type="button"><svg class="tm-svg-img tm-comment__icon" height="16" width="16"><title>Показать предыдущий комментарий</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#small-arrow"></use></svg></button><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml"><p>Ардуино умеет не только в avr, а, скажем, stm32 и esp32 — тоже</p></div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20587113"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><div style="" class="tm-comment-thread__children"><!--[--><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20587169"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-4"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-4" data-comment-body="20587169"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><!----><div class="tm-comment__body-content_empty tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">НЛО прилетело и опубликовало эту надпись здесь</div></div><!----><!----></div><!--[--><!----><!--]--></div></article><!----><!----></section><!--]--></div><!----></section><!--]--></div><!----></section><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20586855"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-2"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-2" data-comment-body="20586855"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/JerleShannara/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="JerleShannara"><div class="tm-entity-image"><!--[--><img alt="" class="tm-entity-image__pic" height="24" src="https://assets.habr.com/vue-3/img/avatars/111.png" width="24"><!--]--></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/JerleShannara/" class="tm-user-info__username">JerleShannara <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20586855"><time datetime="2019-09-04T14:31:28.000Z" title="2019-09-04, 14:31">4  сен  2019 в 14:31</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><button class="tm-comment__button tm-comment__button_with-icon" type="button"><svg class="tm-svg-img tm-comment__icon" height="16" width="16"><title>Показать предыдущий комментарий</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#small-arrow"></use></svg></button><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">1) Скачать и установить CubeMX<br/>
2) Скачать на выбор одну из IDE, которую этот CubeMX умеет.<br/>
3) В CubeMX установить (в один клик почти) поддержку желаемого семейства камней.<br/>
4) В красивом и безобразно простом GUI интерфейсе выставить какие пины используем.<br/>
5) Настроить тактирование (или забить на это, всёравно оно будет настроено), кем и откуда, ну и ввести частоту — куб всё сам сделает<br/>
6) Нажать кнопочку Generate<br/>
7) Откроется IDE, в которой в цикл while(1) написать что-то типа<br/>
<pre><code class="cpp">HAL_GPIO_TogglePin(MYLED_Port, MYLED_Pin);
HAL_Delay(500);
</code></pre><br/>
8) Настроить программатор (тут от IDE зависит) — тоже пара кликов.<br/>
9) Нажать кнопочку «Собери мне это и запусти»<br/>
10) Насладиться мигающим светодиодом.</div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Всего голосов 1: ↑1 и ↓0</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Всего голосов 1: ↑1 и ↓0">+1</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20586855"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><div style="" class="tm-comment-thread__children"><!--[--><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20589597"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-3"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-3" data-comment-body="20589597"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><!----><div class="tm-comment__body-content_empty tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">НЛО прилетело и опубликовало эту надпись здесь</div></div><!----><!----></div><!--[--><!----><!--]--></div></article><div style="" class="tm-comment-thread__children"><!--[--><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20590295"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-4"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-4" data-comment-body="20590295"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/JerleShannara/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="JerleShannara"><div class="tm-entity-image"><!--[--><img alt="" class="tm-entity-image__pic" height="24" src="https://assets.habr.com/vue-3/img/avatars/111.png" width="24"><!--]--></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/JerleShannara/" class="tm-user-info__username">JerleShannara <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20590295"><time datetime="2019-09-05T12:30:40.000Z" title="2019-09-05, 12:30">5  сен  2019 в 12:30</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><button class="tm-comment__button tm-comment__button_with-icon" type="button"><svg class="tm-svg-img tm-comment__icon" height="16" width="16"><title>Показать предыдущий комментарий</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#small-arrow"></use></svg></button><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">Гугл мне в ответ приводит 100500 уроков/библиотек/тем на форумах и т.п. Не вижу принципиально никаких отличий от AVR. Если мы приплетаем ардуину(чур меня!), то оная зараза и на STM32 есть.</div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20590295"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><div style="" class="tm-comment-thread__children"><!--[--><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20590323"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-5"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-5" data-comment-body="20590323"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><!----><div class="tm-comment__body-content_empty tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">НЛО прилетело и опубликовало эту надпись здесь</div></div><!----><!----></div><!--[--><!----><!--]--></div></article><div style="" class="tm-comment-thread__children"><!--[--><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20590675"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-6"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-6" data-comment-body="20590675"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/JerleShannara/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="JerleShannara"><div class="tm-entity-image"><!--[--><img alt="" class="tm-entity-image__pic" height="24" src="https://assets.habr.com/vue-3/img/avatars/111.png" width="24"><!--]--></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/JerleShannara/" class="tm-user-info__username">JerleShannara <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20590675"><time datetime="2019-09-05T13:46:55.000Z" title="2019-09-05, 13:46">5  сен  2019 в 13:46</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><button class="tm-comment__button tm-comment__button_with-icon" type="button"><svg class="tm-svg-img tm-comment__icon" height="16" width="16"><title>Показать предыдущий комментарий</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#small-arrow"></use></svg></button><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">Вы про Atmel-овский ASF?</div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20590675"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><div style="" class="tm-comment-thread__children"><!--[--><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20590731"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-7"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-7" data-comment-body="20590731"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><!----><div class="tm-comment__body-content_empty tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">НЛО прилетело и опубликовало эту надпись здесь</div></div><!----><!----></div><!--[--><!----><!--]--></div></article><div style="" class="tm-comment-thread__children"><!--[--><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20594429"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-8"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-8" data-comment-body="20594429"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/JerleShannara/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="JerleShannara"><div class="tm-entity-image"><!--[--><img alt="" class="tm-entity-image__pic" height="24" src="https://assets.habr.com/vue-3/img/avatars/111.png" width="24"><!--]--></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/JerleShannara/" class="tm-user-info__username">JerleShannara <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20594429"><time datetime="2019-09-06T13:48:44.000Z" title="2019-09-06, 13:48">6  сен  2019 в 13:48</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><button class="tm-comment__button tm-comment__button_with-icon" type="button"><svg class="tm-svg-img tm-comment__icon" height="16" width="16"><title>Показать предыдущий комментарий</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#small-arrow"></use></svg></button><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">ASF — это атмеловские либы в Atmel Studio, включаются в проект примерно также, как и в STM32 HAL-е, только в STM это идёт через CubeMX, а у атмела уже в IDE.<br/>
<br/>
С STM32 и их i2c я крупный гемор поимел только один раз — на F103-ей какая-то версия куба ставила включение тактирования в конец инициализации, а не в начало, благодаря чему вылез глюк вида «дотронулся щупом/пальцем при включении — работает, не дотронулся — линия притянута к нулю и не работает». <br/>
Вариант «быстренько накидать готовых либ» я не люблю — там бывает очень много не просто индусского кода, а индусского говнокода. Да и когда я мучал множество i2c барахла, то как правило портирование ардуиновской библиотеки особо много времени не занимало.</div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20594429"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><div style="" class="tm-comment-thread__children"><!--[--><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20594599"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-9"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-9" data-comment-body="20594599"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><!----><div class="tm-comment__body-content_empty tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">НЛО прилетело и опубликовало эту надпись здесь</div></div><!----><!----></div><!--[--><!----><!--]--></div></article><div style="" class="tm-comment-thread__children"><!--[--><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20594619"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-10"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-10" data-comment-body="20594619"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/JerleShannara/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="JerleShannara"><div class="tm-entity-image"><!--[--><img alt="" class="tm-entity-image__pic" height="24" src="https://assets.habr.com/vue-3/img/avatars/111.png" width="24"><!--]--></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/JerleShannara/" class="tm-user-info__username">JerleShannara <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20594619"><time datetime="2019-09-06T14:34:35.000Z" title="2019-09-06, 14:34">6  сен  2019 в 14:34</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><button class="tm-comment__button tm-comment__button_with-icon" type="button"><svg class="tm-svg-img tm-comment__icon" height="16" width="16"><title>Показать предыдущий комментарий</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#small-arrow"></use></svg></button><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml"><blockquote>Ну не, я про менеджер библиотек. CubeMX это не то<br/>
В иде можно поиск сделать, по названию датчика. Сразу установить и пользоваться</blockquote><br/>
А, понятно, прямо как ASF.<br/>
<blockquote>Может и портировать то не надо, а датчик хлам.</blockquote><br/>
Впринципе тоже вариант, хотя можно в даташыт глянуть, чтобы вообще не покупать.</div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20594619"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><div style="" class="tm-comment-thread__children"><!--[--><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20594643"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-10"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-10" data-comment-body="20594643"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><!----><div class="tm-comment__body-content_empty tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">НЛО прилетело и опубликовало эту надпись здесь</div></div><!----><!----></div><!--[--><!----><!--]--></div></article><!----><!----></section><!--]--></div><!----></section><!--]--></div><!----></section><!--]--></div><!----></section><!--]--></div><!----></section><!--]--></div><!----></section><!--]--></div><!----></section><!--]--></div><!----></section><!--]--></div><!----></section><!--]--></div><!----></section><!--]--></div><!----></section><!--]--></div><!----></section><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20585247"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-0" data-comment-body="20585247"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><!----><div class="tm-comment__body-content_empty tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">НЛО прилетело и опубликовало эту надпись здесь</div></div><!----><!----></div><!--[--><!----><!--]--></div></article><div style="" class="tm-comment-thread__children"><!--[--><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20585313"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-1"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-1" data-comment-body="20585313"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/masyaman/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="masyaman"><div class="tm-entity-image"><!--[--><img alt="" class="tm-entity-image__pic" height="24" src="https://assets.habr.com/vue-3/img/avatars/056.png" width="24"><!--]--></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/masyaman/" class="tm-user-info__username">masyaman <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20585313"><time datetime="2019-09-04T08:16:07.000Z" title="2019-09-04, 08:16">4  сен  2019 в 08:16</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><button class="tm-comment__button tm-comment__button_with-icon" type="button"><svg class="tm-svg-img tm-comment__icon" height="16" width="16"><title>Показать предыдущий комментарий</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#small-arrow"></use></svg></button><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml"><p>Из вики:</p><br/>
<blockquote>Wavetable synthesis is fundamentally based on periodic reproduction of an arbitrary, single-cycle waveform.</blockquote><p>По сути, тут периодическая функция — это не совсем функция, а как раз таблица значений амплитуды, 256 значений на период. А еще она работает не сама по себе, а в паре с функцией громкости от времени, которая тоже яавляется таблицей значений.<br/>
Возможно, существует более подходящий термин, но я его не знаю. </p></div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20585313"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><div style="" class="tm-comment-thread__children"><!--[--><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20585361"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-2"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-2" data-comment-body="20585361"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><!----><div class="tm-comment__body-content_empty tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">НЛО прилетело и опубликовало эту надпись здесь</div></div><!----><!----></div><!--[--><!----><!--]--></div></article><div style="" class="tm-comment-thread__children"><!--[--><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20585401"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-3"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-3" data-comment-body="20585401"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/masyaman/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="masyaman"><div class="tm-entity-image"><!--[--><img alt="" class="tm-entity-image__pic" height="24" src="https://assets.habr.com/vue-3/img/avatars/056.png" width="24"><!--]--></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/masyaman/" class="tm-user-info__username">masyaman <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20585401"><time datetime="2019-09-04T08:36:29.000Z" title="2019-09-04, 08:36">4  сен  2019 в 08:36</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><button class="tm-comment__button tm-comment__button_with-icon" type="button"><svg class="tm-svg-img tm-comment__icon" height="16" width="16"><title>Показать предыдущий комментарий</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#small-arrow"></use></svg></button><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml"><p>Спасибо за комментарий. Возможно, стоит как-то переименовать заголовок, чтобы не смущать тех, кто в теме. Я старался упростить для тех, кто не в теме, и описал только то, что используется.</p></div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20585401"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><!----><!----></section><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20585473"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-3"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-3" data-comment-body="20585473"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/a-tk/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="a-tk"><div class="tm-entity-image"><!--[--><img alt="" class="tm-entity-image__pic" height="24" src="https://assets.habr.com/vue-3/img/avatars/166.png" width="24"><!--]--></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/a-tk/" class="tm-user-info__username">a-tk <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20585473"><time datetime="2019-09-04T08:56:05.000Z" title="2019-09-04, 08:56">4  сен  2019 в 08:56</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><button class="tm-comment__button tm-comment__button_with-icon" type="button"><svg class="tm-svg-img tm-comment__icon" height="16" width="16"><title>Показать предыдущий комментарий</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#small-arrow"></use></svg></button><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">> фаза sustain требуется не всегда<br/>
она может формально присутствовать, но иметь нулевую продолжлительность</div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20585473"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><!----><!----></section><!--]--></div><!----></section><!--]--></div><!----></section><!--]--></div><!----></section><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20585667"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-0" data-comment-body="20585667"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/juramehanik/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="juramehanik"><div class="tm-entity-image"><!--[--><img alt="" class="tm-entity-image__pic" height="24" src="https://assets.habr.com/vue-3/img/avatars/168.png" width="24"><!--]--></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/juramehanik/" class="tm-user-info__username">juramehanik <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20585667"><time datetime="2019-09-04T10:10:57.000Z" title="2019-09-04, 10:10">4  сен  2019 в 10:10</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><!----><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml"><a href="http://www.1bitsymphony.com/">www.1bitsymphony.com</a><br/>
<br/>
О чо вспомнил!<br/>
<img src="https://habrastorage.org/r/w780q1/getpro/habr/comment_images/80f/38c/5db/80f38c5db1619a5191b916a864d05fcc.jpg" alt="image" data-src="https://habrastorage.org/getpro/habr/comment_images/80f/38c/5db/80f38c5db1619a5191b916a864d05fcc.jpg" data-blurred="true"/><br/>
<br/>
Весьма кстати интересный альбом с точки зрения минимализма.<br/>
Не чиптюн и прочие марио.<br/>
Жаль, что автор перестал продавать ассемблированый листинг с албомом и бинарник прошивки я так и не нашел<br/>
А то я хотел сделать его альбом в виде кирпича из эпоксидки с солнечной батарей, шоб жило веками. =)</div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Всего голосов 2: ↑1 и ↓1</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Всего голосов 2: ↑1 и ↓1">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20585667"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><div style="" class="tm-comment-thread__children"><!--[--><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20585741"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-1"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-1" data-comment-body="20585741"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/ionicman/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="ionicman"><div class="tm-entity-image"><img alt="" class="tm-entity-image__pic" height="24" src="//habrastorage.org/r/w48/getpro/habr/avatars/a47/13d/85d/a4713d85db515de384dd4b35b39959e7.jpg" width="24"></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/ionicman/" class="tm-user-info__username">ionicman <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20585741"><time datetime="2019-09-04T10:27:19.000Z" title="2019-09-04, 10:27">4  сен  2019 в 10:27</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><button class="tm-comment__button tm-comment__button_with-icon" type="button"><svg class="tm-svg-img tm-comment__icon" height="16" width="16"><title>Показать предыдущий комментарий</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#small-arrow"></use></svg></button><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">Звучит оно ужасно, ИМХО )</div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Всего голосов 2: ↑2 и ↓0</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Всего голосов 2: ↑2 и ↓0">+2</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20585741"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><!----><!----></section><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20585759"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-1"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-1" data-comment-body="20585759"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/shiru8bit/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="shiru8bit"><div class="tm-entity-image"><img alt="" class="tm-entity-image__pic" height="24" src="//habrastorage.org/getpro/habr/avatars/b8d/bc5/9f1/b8dbc59f16b034a5b569c4da62345d08.gif" width="24"></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/shiru8bit/" class="tm-user-info__username">shiru8bit <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20585759"><time datetime="2019-09-04T10:29:46.000Z" title="2019-09-04, 10:29">4  сен  2019 в 10:29</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><button class="tm-comment__button tm-comment__button_with-icon" type="button"><svg class="tm-svg-img tm-comment__icon" height="16" width="16"><title>Показать предыдущий комментарий</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#small-arrow"></use></svg></button><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">Автор расстраивает других минималистов, которые понаписали и понаделали десятки альбомов (чиптюн и прочие марио) и сотни листингов, а никто и не знает. Поверхностно:<br/>
<br/>
<a href="http://z80.i-demo.pl/">z80.i-demo.pl</a><br/>
<a href="http://shiru.untergrund.net/1bit/">shiru.untergrund.net/1bit</a><br/>
<a href="http://randomflux.info/1bit/">randomflux.info/1bit</a></div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20585759"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><!----><!----></section><!--]--></div><!----></section><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20585679"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-0" data-comment-body="20585679"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/shiru8bit/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="shiru8bit"><div class="tm-entity-image"><img alt="" class="tm-entity-image__pic" height="24" src="//habrastorage.org/getpro/habr/avatars/b8d/bc5/9f1/b8dbc59f16b034a5b569c4da62345d08.gif" width="24"></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/shiru8bit/" class="tm-user-info__username">shiru8bit <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20585679"><time datetime="2019-09-04T10:12:53.000Z" title="2019-09-04, 10:12">4  сен  2019 в 10:12</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><!----><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">Пару раз делал подобное, каждый раз расстраивало то, что ЦАП на ШИМ заметно свистит, причём не ожидаемая несущая, которую можно задавить ФНЧ, а разные высокие частоты в слышимом диапазоне в зависимости от проигрываемого звука (одиночных нот).<br/>
<br/>
Для подавления щелчков делал такое простое решение: в момент выключения сэмпла запоминаем последнее выходное значение в переменную, которую добавляем к выводу, как ещё один канал, и плавно приводим её к 0 за короткое время. Если выход стерео, надо по переменной для каждого канала, а для моно хватит и одной на все каналы. То есть не фейдим продолжающий звучать сэмпл по честному (нужны умножения и больше каналов), а как бы компенсируем смещение нулевой амплитуды (нужно условие и декремент).</div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20585679"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><div style="" class="tm-comment-thread__children"><!--[--><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20585921"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-1"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-1" data-comment-body="20585921"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/masyaman/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="masyaman"><div class="tm-entity-image"><!--[--><img alt="" class="tm-entity-image__pic" height="24" src="https://assets.habr.com/vue-3/img/avatars/056.png" width="24"><!--]--></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/masyaman/" class="tm-user-info__username">masyaman <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20585921"><time datetime="2019-09-04T11:01:45.000Z" title="2019-09-04, 11:01">4  сен  2019 в 11:01</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><button class="tm-comment__button tm-comment__button_with-icon" type="button"><svg class="tm-svg-img tm-comment__icon" height="16" width="16"><title>Показать предыдущий комментарий</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#small-arrow"></use></svg></button><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml"><p>Решение со щелчками на поверхности, я его даже реализовывал, но оно все-таки просаживало производительность. В какой-то момент я делал рефакторинг кода и оно мешало, убрал. Обратно запиливать не стал. В планах все-таки попробовать плавно уменьшать громкость перед следующей нотой, но там пока не очень очевидно как это сделать хорошо.</p><br/>
<p>По поводу PWM — да, проблема есть. Но в коде именно за вывод звука отвечает драйвер (каталог microsound/devices), можно что-то другое подключить. Covox, например, как советуют ниже.</p></div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20585921"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><div style="" class="tm-comment-thread__children"><!--[--><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20585993"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-2"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-2" data-comment-body="20585993"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/shiru8bit/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="shiru8bit"><div class="tm-entity-image"><img alt="" class="tm-entity-image__pic" height="24" src="//habrastorage.org/getpro/habr/avatars/b8d/bc5/9f1/b8dbc59f16b034a5b569c4da62345d08.gif" width="24"></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/shiru8bit/" class="tm-user-info__username">shiru8bit <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20585993"><time datetime="2019-09-04T11:19:03.000Z" title="2019-09-04, 11:19">4  сен  2019 в 11:19</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><button class="tm-comment__button tm-comment__button_with-icon" type="button"><svg class="tm-svg-img tm-comment__icon" height="16" width="16"><title>Показать предыдущий комментарий</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#small-arrow"></use></svg></button><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">Уменьшение громкости без увеличения полифонии я пробовал — на этапе препроцессинга уменьшал длительности слитных нот на пару кадров, и все ноты играли с коротким фейдом в конце. В принципе это помогает, но либо щелчки всё же проскакивают (недостаточное уменьшение длительности, затухание не всегда заканчивается), либо это начинает довольно заметно влиять на звучание, теряется атака и читаемость партий со слитными нотами, например непрерывного басового галопа или элементарного октавного шагающего баса. Но это лучше, чем щелчки, просто нужно учитывать при выборе/написании музыки.</div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20585993"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><!----><!----></section><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20586833"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-2"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-2" data-comment-body="20586833"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/basilbasilbasil/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="basilbasilbasil"><div class="tm-entity-image"><img alt="" class="tm-entity-image__pic" height="24" src="//habrastorage.org/r/w48/getpro/habr/avatars/18c/135/010/18c13501063f9683877225610510ac17.jpg" width="24"></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/basilbasilbasil/" class="tm-user-info__username">basilbasilbasil <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20586833"><time datetime="2019-09-04T14:27:35.000Z" title="2019-09-04, 14:27">4  сен  2019 в 14:27</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><button class="tm-comment__button tm-comment__button_with-icon" type="button"><svg class="tm-svg-img tm-comment__icon" height="16" width="16"><title>Показать предыдущий комментарий</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#small-arrow"></use></svg></button><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml"><p>Следите за фазой на стыке нот</p></div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20586833"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><!----><!----></section><!--]--></div><!----></section><!--]--></div><!----></section><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20585711"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-0" data-comment-body="20585711"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/reticular/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="reticular"><div class="tm-entity-image"><!--[--><img alt="" class="tm-entity-image__pic" height="24" src="https://assets.habr.com/vue-3/img/avatars/172.png" width="24"><!--]--></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/reticular/" class="tm-user-info__username">reticular <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20585711"><time datetime="2019-09-04T10:21:06.000Z" title="2019-09-04, 10:21">4  сен  2019 в 10:21</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><!----><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml"><blockquote>Если посмотреть на существующие проекты, то они бывают нескольких типов:</blockquote><br/>
вы забыли (сомневаюсь, что не знали) COVOX <br/>
<img src="https://commons.wikimedia.org/wiki/File:Covox-Stecker.svg?uselang=ru" alt="image"/></div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20585711"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><div style="" class="tm-comment-thread__children"><!--[--><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20585935"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-1"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-1" data-comment-body="20585935"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/masyaman/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="masyaman"><div class="tm-entity-image"><!--[--><img alt="" class="tm-entity-image__pic" height="24" src="https://assets.habr.com/vue-3/img/avatars/056.png" width="24"><!--]--></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/masyaman/" class="tm-user-info__username">masyaman <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20585935"><time datetime="2019-09-04T11:04:40.000Z" title="2019-09-04, 11:04">4  сен  2019 в 11:04</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><button class="tm-comment__button tm-comment__button_with-icon" type="button"><svg class="tm-svg-img tm-comment__icon" height="16" width="16"><title>Показать предыдущий комментарий</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#small-arrow"></use></svg></button><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml"><p>Картинка не вставилась.<br/>
Но идея хороша, можете попробовать :)<br/>
Надо написать драйвер (каталог microsound/devices) и там просто выводить значение в порт.</p></div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20585935"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><!----><!----></section><!--]--></div><!----></section><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20585717"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-0" data-comment-body="20585717"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/ionicman/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="ionicman"><div class="tm-entity-image"><img alt="" class="tm-entity-image__pic" height="24" src="//habrastorage.org/r/w48/getpro/habr/avatars/a47/13d/85d/a4713d85db515de384dd4b35b39959e7.jpg" width="24"></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/ionicman/" class="tm-user-info__username">ionicman <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20585717"><time datetime="2019-09-04T10:22:38.000Z" title="2019-09-04, 10:22">4  сен  2019 в 10:22</time><svg class="tm-svg-img tm-comment-thread__icon-pencil" height="16" width="16"><title>Комментарий был изменен</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#pencil-small"></use></svg></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><!----><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">Отличная статья, спасибо!<br/>
<br/>
Однако к ATTINY-25/4585 можно подключить SD и через PWM вполне нормально <a href="http://elm-chan.org/works/sd8p/report.html">играть</a> WAV-ки с частотой до 32000 гц :)<br/></div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20585717"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><div style="" class="tm-comment-thread__children"><!--[--><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20585949"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-1"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-1" data-comment-body="20585949"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/masyaman/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="masyaman"><div class="tm-entity-image"><!--[--><img alt="" class="tm-entity-image__pic" height="24" src="https://assets.habr.com/vue-3/img/avatars/056.png" width="24"><!--]--></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/masyaman/" class="tm-user-info__username">masyaman <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20585949"><time datetime="2019-09-04T11:07:39.000Z" title="2019-09-04, 11:07">4  сен  2019 в 11:07</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><button class="tm-comment__button tm-comment__button_with-icon" type="button"><svg class="tm-svg-img tm-comment__icon" height="16" width="16"><title>Показать предыдущий комментарий</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#small-arrow"></use></svg></button><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml"><p>О такой возможности я писал во вступлении.</p></div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20585949"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><!----><!----></section><!--]--></div><!----></section><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20585955"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-0" data-comment-body="20585955"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/Mutexre/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="Mutexre"><div class="tm-entity-image"><!--[--><img alt="" class="tm-entity-image__pic" height="24" src="https://assets.habr.com/vue-3/img/avatars/147.png" width="24"><!--]--></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/Mutexre/" class="tm-user-info__username">Mutexre <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20585955"><time datetime="2019-09-04T11:08:46.000Z" title="2019-09-04, 11:08">4  сен  2019 в 11:08</time><svg class="tm-svg-img tm-comment-thread__icon-pencil" height="16" width="16"><title>Комментарий был изменен</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#pencil-small"></use></svg></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><!----><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">При таблично-волновом синтезе есть проблема при использовании единственной таблицы так как при ускоренном проигрывании семплов из таблицы верхние гармоники могут подниматься в зону частот выше частоты Найквиста, поэтому возникает алиазинг. Используете ли вы одну волновую таблицу для всех частот или как-то решаете эту проблему? Используется ли интерполяция между значений соседних семплов?</div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Всего голосов 2: ↑2 и ↓0</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Всего голосов 2: ↑2 и ↓0">+2</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20585955"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><div style="" class="tm-comment-thread__children"><!--[--><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20585985"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-1"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-1" data-comment-body="20585985"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/masyaman/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="masyaman"><div class="tm-entity-image"><!--[--><img alt="" class="tm-entity-image__pic" height="24" src="https://assets.habr.com/vue-3/img/avatars/056.png" width="24"><!--]--></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/masyaman/" class="tm-user-info__username">masyaman <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20585985"><time datetime="2019-09-04T11:17:14.000Z" title="2019-09-04, 11:17">4  сен  2019 в 11:17</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><button class="tm-comment__button tm-comment__button_with-icon" type="button"><svg class="tm-svg-img tm-comment__icon" height="16" width="16"><title>Показать предыдущий комментарий</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#small-arrow"></use></svg></button><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml"><p>Использую одну таблицу. Но можно сделать и несколько с той же производительностью. Когда начинает играть следующая нота, то вызывается функция инструмента и там можно выбрать необходимый массив в зависимости от заданой ноты.</p><br/>
<p>Интерполяцию значений между семплами можно включить (директива INTERPOLATE_WAVE), но производительность падает. Решил просто использовать более длинную таблицу в 256 значений, а интерполяцию провести перед помещением данных в таблицу.</p></div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20585985"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><div style="" class="tm-comment-thread__children"><!--[--><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20586011"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-2"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-2" data-comment-body="20586011"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/Mutexre/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="Mutexre"><div class="tm-entity-image"><!--[--><img alt="" class="tm-entity-image__pic" height="24" src="https://assets.habr.com/vue-3/img/avatars/147.png" width="24"><!--]--></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/Mutexre/" class="tm-user-info__username">Mutexre <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20586011"><time datetime="2019-09-04T11:23:00.000Z" title="2019-09-04, 11:23">4  сен  2019 в 11:23</time><svg class="tm-svg-img tm-comment-thread__icon-pencil" height="16" width="16"><title>Комментарий был изменен</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#pencil-small"></use></svg></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><button class="tm-comment__button tm-comment__button_with-icon" type="button"><svg class="tm-svg-img tm-comment__icon" height="16" width="16"><title>Показать предыдущий комментарий</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#small-arrow"></use></svg></button><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">Понятно, спасибо ) Интересно было бы измерить уровень искажений в зависимости от того используется ли одна таблица или отдельная таблица для каждой ноты, применяется или не применяется интерполяция. Понятно что из-за ограничений на ресурсы AVR сложно воспроизвести сигнал совсем без искажений.</div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20586011"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><div style="" class="tm-comment-thread__children"><!--[--><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20586123"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-3"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-3" data-comment-body="20586123"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/masyaman/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="masyaman"><div class="tm-entity-image"><!--[--><img alt="" class="tm-entity-image__pic" height="24" src="https://assets.habr.com/vue-3/img/avatars/056.png" width="24"><!--]--></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/masyaman/" class="tm-user-info__username">masyaman <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20586123"><time datetime="2019-09-04T11:41:08.000Z" title="2019-09-04, 11:41">4  сен  2019 в 11:41</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><button class="tm-comment__button tm-comment__button_with-icon" type="button"><svg class="tm-svg-img tm-comment__icon" height="16" width="16"><title>Показать предыдущий комментарий</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#small-arrow"></use></svg></button><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml"><p>Проект на гитхабе, можете попробовать померять.<br/>
Укажите 3 канала вместо 5 и можно включить интерполяцию. Или использовать Arduino на 16МГц как самый простой вариант.</p><br/>
<p>Как мне кажется, смысла хранить по таблице для каждой ноты нет. Можно попробовать хранить по таблице на октаву. В каждой следующей уменьшать количество гармоник вдвое путем выбрасывания половины сэмплов а потом интерполировать обратно до 256 сэмплов. Это как самый простой вариант.</p></div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20586123"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><div style="" class="tm-comment-thread__children"><!--[--><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20586797"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-4"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-4" data-comment-body="20586797"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/Mutexre/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="Mutexre"><div class="tm-entity-image"><!--[--><img alt="" class="tm-entity-image__pic" height="24" src="https://assets.habr.com/vue-3/img/avatars/147.png" width="24"><!--]--></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/Mutexre/" class="tm-user-info__username">Mutexre <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20586797"><time datetime="2019-09-04T14:20:52.000Z" title="2019-09-04, 14:20">4  сен  2019 в 14:20</time><svg class="tm-svg-img tm-comment-thread__icon-pencil" height="16" width="16"><title>Комментарий был изменен</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#pencil-small"></use></svg></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><button class="tm-comment__button tm-comment__button_with-icon" type="button"><svg class="tm-svg-img tm-comment__icon" height="16" width="16"><title>Показать предыдущий комментарий</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#small-arrow"></use></svg></button><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">Давайте рассмотрим такой случай. Допустим нужно воспроизвести сигнал с частотой f такой что количество гармоник ниже частоты Найквеста равно 100. Если хранить bandlimited таблицы на каждую октаву то получиться что в двух соседних таблицах будет 64 и 128 гармоник. Если выбрать первую таблицу то на выходе будет не хватать 36 верхних гармоник, если вторую, то верхние 28 будут вносить вклад в aliasing. Поэтому в идеальном случае нужна таблица на каждое количество гармоник попадающих в выходной сигнал. Если минимальная частота ноты 100 Гц, то при частоте дискретизации 44100 Гц, количество таблиц для квадратной волны будет 22050 / 100 = 220, что довольно много. И при уменьшении минимальной частоты количество будет расти как 1 / freq.</div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20586797"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><!----><!----></section><!--]--></div><!----></section><!--]--></div><!----></section><!--]--></div><!----></section><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20586315"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-1"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-1" data-comment-body="20586315"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><!----><div class="tm-comment__body-content_empty tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">НЛО прилетело и опубликовало эту надпись здесь</div></div><!----><!----></div><!--[--><!----><!--]--></div></article><!----><!----></section><!--]--></div><!----></section><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20586033"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-0" data-comment-body="20586033"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/shiru8bit/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="shiru8bit"><div class="tm-entity-image"><img alt="" class="tm-entity-image__pic" height="24" src="//habrastorage.org/getpro/habr/avatars/b8d/bc5/9f1/b8dbc59f16b034a5b569c4da62345d08.gif" width="24"></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/shiru8bit/" class="tm-user-info__username">shiru8bit <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20586033"><time datetime="2019-09-04T11:25:31.000Z" title="2019-09-04, 11:25">4  сен  2019 в 11:25</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><!----><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">Вспомнилось, что подобный программный табличный синтезатор был сделан в начале 2000-х в поздних телефонах с определителем номера, на 51-ом контроллере на 8 МГц. Шесть голосов <a href="https://youtu.be/XqA36D1XH28?t=570">с довольно приличным звучанием</a>.</div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20586033"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><div style="" class="tm-comment-thread__children"><!--[--><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20588091"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-1"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-1" data-comment-body="20588091"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/vladkorotnev/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="vladkorotnev"><div class="tm-entity-image"><img alt="" class="tm-entity-image__pic" height="24" src="//habrastorage.org/r/w48/getpro/habr/avatars/ef0/985/55d/ef098555d0c26679f92fdef783a3b3dd.png" width="24"></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/vladkorotnev/" class="tm-user-info__username">vladkorotnev <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20588091"><time datetime="2019-09-05T00:44:16.000Z" title="2019-09-05, 00:44">5  сен  2019 в 00:44</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><button class="tm-comment__button tm-comment__button_with-icon" type="button"><svg class="tm-svg-img tm-comment__icon" height="16" width="16"><title>Показать предыдущий комментарий</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#small-arrow"></use></svg></button><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml"><p>Не могу открыть ссылку на работе, но почему-то более чем уверен, что там Русь-28</p></div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20588091"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><!----><!----></section><!--]--></div><!----></section><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20586977"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-0" data-comment-body="20586977"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/shiotiny/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="shiotiny"><div class="tm-entity-image"><!--[--><img alt="" class="tm-entity-image__pic" height="24" src="https://assets.habr.com/vue-3/img/avatars/088.png" width="24"><!--]--></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/shiotiny/" class="tm-user-info__username">shiotiny <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20586977"><time datetime="2019-09-04T15:09:41.000Z" title="2019-09-04, 15:09">4  сен  2019 в 15:09</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><!----><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml"><p>Спектрумом повеяло:) </p></div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20586977"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><!----><!----></section><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20587025"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-0" data-comment-body="20587025"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/madf/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="madf"><div class="tm-entity-image"><img alt="" class="tm-entity-image__pic" height="24" src="//habrastorage.org/r/w48/getpro/habr/avatars/488/5bc/bc1/4885bcbc1cae6f81e2406fe180f08ee7.jpg" width="24"></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/madf/" class="tm-user-info__username">madf <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20587025"><time datetime="2019-09-04T15:25:07.000Z" title="2019-09-04, 15:25">4  сен  2019 в 15:25</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><!----><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">А чем мелодии конвертировали/создавали, неужели ручками? Есть какие-то конверторы готовые из MIDI?</div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20587025"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><div style="" class="tm-comment-thread__children"><!--[--><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20587109"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-1"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-1" data-comment-body="20587109"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/masyaman/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="masyaman"><div class="tm-entity-image"><!--[--><img alt="" class="tm-entity-image__pic" height="24" src="https://assets.habr.com/vue-3/img/avatars/056.png" width="24"><!--]--></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/masyaman/" class="tm-user-info__username">masyaman <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20587109"><time datetime="2019-09-04T15:51:29.000Z" title="2019-09-04, 15:51">4  сен  2019 в 15:51</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><button class="tm-comment__button tm-comment__button_with-icon" type="button"><svg class="tm-svg-img tm-comment__icon" height="16" width="16"><title>Показать предыдущий комментарий</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#small-arrow"></use></svg></button><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml"><p>Одну мелодию, там где много инструментов, я брал из своего старого проекта. Помню, что накидал данные в csv (строки — такты, столбцы — команды, подобно трекерной музыке) и потом перегнал в команды простым самописным конвертором. Конвертор уже где-то потерялся, но его не особо сложно написать заново.<br/>
Вторую мелодию позаимствовал из проэкта музкальной шкатулки, в ссылках есть. Опять же, наколеночный конвертор, показывать стыдно.<br/>
Коротенькие уведомления писал руками и тестировал в wavepot.</p><br/>
<p>Писать конвертор из midi нет желания и вряд ли получится. Слишком специфические инструменты, ограничение на количество каналов и дискретизацию по тактам. Я думаю, что проще из трекерной музыки (например mod) конвертировать, но и там будет специфика.</p></div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20587109"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><div style="" class="tm-comment-thread__children"><!--[--><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20588929"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-2"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-2" data-comment-body="20588929"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/madf/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="madf"><div class="tm-entity-image"><img alt="" class="tm-entity-image__pic" height="24" src="//habrastorage.org/r/w48/getpro/habr/avatars/488/5bc/bc1/4885bcbc1cae6f81e2406fe180f08ee7.jpg" width="24"></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/madf/" class="tm-user-info__username">madf <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20588929"><time datetime="2019-09-05T07:58:47.000Z" title="2019-09-05, 07:58">5  сен  2019 в 07:58</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><button class="tm-comment__button tm-comment__button_with-icon" type="button"><svg class="tm-svg-img tm-comment__icon" height="16" width="16"><title>Показать предыдущий комментарий</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#small-arrow"></use></svg></button><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">Можно и mod — это неважно, главное минимум ручной работы. :) А то сидеть перебивать ручками с нотного стана — не комильфо.<br/>
За статью спасибо.<br/>
Пытался делать нечто подобное, но без ШИМ-а аппаратного, чтобы не было привязки к ногам МК, упирается всё конечно в производительность. <br/>
На счет занимать МК ещё другими задачами — необязательно, особенно, если делать на Тиньках, можно считать данное решение как «музыкальный сопроцессор», синтезатор. :)</div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20588929"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><!----><!----></section><!--]--></div><!----></section><!--]--></div><!----></section><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20587513"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-0" data-comment-body="20587513"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/kovserg/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="kovserg"><div class="tm-entity-image"><!--[--><img alt="" class="tm-entity-image__pic" height="24" src="https://assets.habr.com/vue-3/img/avatars/170.png" width="24"><!--]--></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/kovserg/" class="tm-user-info__username">kovserg <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20587513"><time datetime="2019-09-04T18:25:09.000Z" title="2019-09-04, 18:25">4  сен  2019 в 18:25</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><!----><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">Не хватает ссылок на <a href="https://dlscrib.com/queue/designing-sound-andy-farnell-pdf_58876fac6454a74e573668f2_pdf">Andy Farnell</a> — <a href="http://aspress.co.uk/sd/">Designing Sound</a> и на программный синтез звука <a href="https://habr.com/ru/post/348036/">1</a>, <a href="https://habr.com/ru/post/348192/">2</a></div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Всего голосов 1: ↑1 и ↓0</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Всего голосов 1: ↑1 и ↓0">+1</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20587513"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><!----><!----></section><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20588629"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-0" data-comment-body="20588629"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/WebMonet/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="WebMonet"><div class="tm-entity-image"><img alt="" class="tm-entity-image__pic" height="24" src="//habrastorage.org/r/w48/getpro/habr/avatars/b28/1d7/3ea/b281d73eabd72ee073f6cdd2a31c8f52.png" width="24"></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/WebMonet/" class="tm-user-info__username">WebMonet <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20588629"><time datetime="2019-09-05T06:53:12.000Z" title="2019-09-05, 06:53">5  сен  2019 в 06:53</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><!----><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">Знающие люди, подскажите…<br/>
Давно морочюсь идеей, сделать проигрыватель для винила из оптической мышки. В режиме сканера декодить изображение и получать из него звук. Куда копать?</div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20588629"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><div style="" class="tm-comment-thread__children"><!--[--><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20588893"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-1"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-1" data-comment-body="20588893"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/shiru8bit/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="shiru8bit"><div class="tm-entity-image"><img alt="" class="tm-entity-image__pic" height="24" src="//habrastorage.org/getpro/habr/avatars/b8d/bc5/9f1/b8dbc59f16b034a5b569c4da62345d08.gif" width="24"></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/shiru8bit/" class="tm-user-info__username">shiru8bit <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20588893"><time datetime="2019-09-05T07:51:13.000Z" title="2019-09-05, 07:51">5  сен  2019 в 07:51</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><button class="tm-comment__button tm-comment__button_with-icon" type="button"><svg class="tm-svg-img tm-comment__icon" height="16" width="16"><title>Показать предыдущий комментарий</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#small-arrow"></use></svg></button><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">Идея конечно интересная, но сенсор оптической мышки содержит не только камеру, но и DSP, который наружу выдаёт только дельту перемещения, а не сам снимок поверхности. Т.е. можно определить, в какую сторону вращается пластинка, но и только.</div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20588893"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><div style="" class="tm-comment-thread__children"><!--[--><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20589027"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-2"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-2" data-comment-body="20589027"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><!----><div class="tm-comment__body-content_empty tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">НЛО прилетело и опубликовало эту надпись здесь</div></div><!----><!----></div><!--[--><!----><!--]--></div></article><div style="" class="tm-comment-thread__children"><!--[--><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20589119"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-3"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-3" data-comment-body="20589119"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/shiru8bit/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="shiru8bit"><div class="tm-entity-image"><img alt="" class="tm-entity-image__pic" height="24" src="//habrastorage.org/getpro/habr/avatars/b8d/bc5/9f1/b8dbc59f16b034a5b569c4da62345d08.gif" width="24"></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/shiru8bit/" class="tm-user-info__username">shiru8bit <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20589119"><time datetime="2019-09-05T08:35:08.000Z" title="2019-09-05, 08:35">5  сен  2019 в 08:35</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><button class="tm-comment__button tm-comment__button_with-icon" type="button"><svg class="tm-svg-img tm-comment__icon" height="16" width="16"><title>Показать предыдущий комментарий</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#small-arrow"></use></svg></button><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">Интересно, не знал. Погуглил, всё равно очень много сомнений, что что-то получится. Чтение растра там реализовано в отладочных целях, читается один пиксель за кадр (324 кадра для чтения всей матрицы), и для канавки нужно разрешение порядка 0.015 мм (стандарт точки касания для иглы LP), а у сенсора размер пикселя непонятный (не пишут), но в штатной конструкции без дополнительных линз явно сильно больше.</div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20589119"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><!----><!----></section><!--]--></div><!----></section><!--]--></div><!----></section><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20590307"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-1"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-1" data-comment-body="20590307"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/JerleShannara/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="JerleShannara"><div class="tm-entity-image"><!--[--><img alt="" class="tm-entity-image__pic" height="24" src="https://assets.habr.com/vue-3/img/avatars/111.png" width="24"><!--]--></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/JerleShannara/" class="tm-user-info__username">JerleShannara <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20590307"><time datetime="2019-09-05T12:32:31.000Z" title="2019-09-05, 12:32">5  сен  2019 в 12:32</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><button class="tm-comment__button tm-comment__button_with-icon" type="button"><svg class="tm-svg-img tm-comment__icon" height="16" width="16"><title>Показать предыдущий комментарий</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#small-arrow"></use></svg></button><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">Затея гиблая, можете почитать, как «хорошо» работали лазерные проигрыватели винила в 80ые и как для них приходилось вычищать пластинки.</div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20590307"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><!----><!----></section><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20590477"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-1"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-1" data-comment-body="20590477"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/WebMonet/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="WebMonet"><div class="tm-entity-image"><img alt="" class="tm-entity-image__pic" height="24" src="//habrastorage.org/r/w48/getpro/habr/avatars/b28/1d7/3ea/b281d73eabd72ee073f6cdd2a31c8f52.png" width="24"></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/WebMonet/" class="tm-user-info__username">WebMonet <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20590477"><time datetime="2019-09-05T13:05:43.000Z" title="2019-09-05, 13:05">5  сен  2019 в 13:05</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><button class="tm-comment__button tm-comment__button_with-icon" type="button"><svg class="tm-svg-img tm-comment__icon" height="16" width="16"><title>Показать предыдущий комментарий</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#small-arrow"></use></svg></button><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml"><div class="spoiler"><b class="spoiler_title">На память себе</b><div class="spoiler_text"><a href="https://www.cse.huji.ac.il/~springer/DigitalNeedle/index.html">www.cse.huji.ac.il/~springer/DigitalNeedle/index.html</a><br/>
</div></div></div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20590477"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><!----><!----></section><!--]--></div><!----></section><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20592077"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-0" data-comment-body="20592077"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/axe_chita/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="axe_chita"><div class="tm-entity-image"><!--[--><img alt="" class="tm-entity-image__pic" height="24" src="https://assets.habr.com/vue-3/img/avatars/135.png" width="24"><!--]--></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/axe_chita/" class="tm-user-info__username">axe_chita <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20592077"><time datetime="2019-09-06T01:14:28.000Z" title="2019-09-06, 01:14">6  сен  2019 в 01:14</time><svg class="tm-svg-img tm-comment-thread__icon-pencil" height="16" width="16"><title>Комментарий был изменен</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#pencil-small"></use></svg></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><!----><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">В свете универсальности/легкости использования, есть уже <a href="https://community.atmel.com/projects/mod-player-avr-8-bit-atmega">реализованный проект</a> играющий стандартные 4-х канальные MOD-ы на ATMega16@16MHz.<br/>
<div class="spoiler"><b class="spoiler_title">характеристики MOD Player for AVR 8-bit Atmega</b><div class="spoiler_text">Minimum requirements for hardware:<br/>
 — MCU: ATmega AVR<br/>
 — Fclk: 16 MHz<br/>
 — Flash: 8kB<br/>
 — SRAM: 1kB<br/>
 — 2 x 8-bit counter/PWM<br/>
 — 1 x 16-bit counter<br/>
<br/>
Specifications for player routine:<br/>
 — 4 channel 31 samples modules support<br/>
 — volume setting 0-64 for each channel<br/>
 — 2 stereo channels 8-bit PWM output<br/>
 — software linear interpolation<br/>
 — selectable output samplerate up to 48kHz<br/>
 — most used effect commands supported<br/>
<br/>
The basic idea was to create an all-in-one implementation<br/>
without use of external components. On-board PWM's are used<br/>
as DAC's, the module is kept in Program Flash.<br/>
Tha player is written in pure Assembler.<br/>
The current release includes conditional compilation<br/>
for ATmega16 and ATmega128 (those author has in presence),<br/>
but is also designed for very easy compilation for any other ATmega type.<br/>
Also, there is a technological clearance for use of external memory,<br/>
RS232 interface for communicational purposes etc.<br/>
<br/>
The schematics for this project is very simple. You just power the chip, supply the 16MHz clock to it and have LEFT and RIGHT audio from 8-PWM's. All specific pin numbers depend on chip, that you selected.<br/>
</div></div></div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Всего голосов 2: ↑2 и ↓0</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Всего голосов 2: ↑2 и ↓0">+2</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20592077"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><div style="" class="tm-comment-thread__children"><!--[--><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20592981"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-1"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-1" data-comment-body="20592981"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/masyaman/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="masyaman"><div class="tm-entity-image"><!--[--><img alt="" class="tm-entity-image__pic" height="24" src="https://assets.habr.com/vue-3/img/avatars/056.png" width="24"><!--]--></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/masyaman/" class="tm-user-info__username">masyaman <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20592981"><time datetime="2019-09-06T08:39:50.000Z" title="2019-09-06, 08:39">6  сен  2019 в 08:39</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><button class="tm-comment__button tm-comment__button_with-icon" type="button"><svg class="tm-svg-img tm-comment__icon" height="16" width="16"><title>Показать предыдущий комментарий</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#small-arrow"></use></svg></button><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml"><p>Интересный проект, хотя мне не очень понятно как его можно использовать. Слишком уж сложно заставить микроконтроллер делать что-то еще помимо воспроизведения музыки.<br/>
К тому же, формат MOD слишком тяжелый для маленьких микроконтроллеров, хоть и намного более универсальный.<br/>
А вот если бы его на Arduino портировать, то могло бы быть вполне годно. Там и 32кб флеша и 16МГц кварц из коробки.</p></div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20592981"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><div style="" class="tm-comment-thread__children"><!--[--><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20597107"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-2"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-2" data-comment-body="20597107"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/axe_chita/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="axe_chita"><div class="tm-entity-image"><!--[--><img alt="" class="tm-entity-image__pic" height="24" src="https://assets.habr.com/vue-3/img/avatars/135.png" width="24"><!--]--></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/axe_chita/" class="tm-user-info__username">axe_chita <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20597107"><time datetime="2019-09-07T16:47:52.000Z" title="2019-09-07, 16:47">7  сен  2019 в 16:47</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><button class="tm-comment__button tm-comment__button_with-icon" type="button"><svg class="tm-svg-img tm-comment__icon" height="16" width="16"><title>Показать предыдущий комментарий</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#small-arrow"></use></svg></button><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">Может тогда осетра урезать? Посмотреть в сторону <a href="https://zx-pk.ru/threads/10510-emulyator-ay-8910-na-atmega.html">Эмулятор AY-8910 на ATMega</a> и на его развитие <a href="https://www.avray.ru/ru/">Эмулятор AY-3-8910/AY-3-8912/YM2149F</a>?</div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20597107"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><div style="" class="tm-comment-thread__children"><!--[--><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20597237"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-3"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-3" data-comment-body="20597237"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/masyaman/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="masyaman"><div class="tm-entity-image"><!--[--><img alt="" class="tm-entity-image__pic" height="24" src="https://assets.habr.com/vue-3/img/avatars/056.png" width="24"><!--]--></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/masyaman/" class="tm-user-info__username">masyaman <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20597237"><time datetime="2019-09-07T18:12:15.000Z" title="2019-09-07, 18:12">7  сен  2019 в 18:12</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><button class="tm-comment__button tm-comment__button_with-icon" type="button"><svg class="tm-svg-img tm-comment__icon" height="16" width="16"><title>Показать предыдущий комментарий</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#small-arrow"></use></svg></button><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml"><p>Интересно, но тут задачи совсем другие.<br/>
В том проекте задача эмулировать чип с определенными характеристиками и для этого выделяются отдельные чипы.<br/>
Я же хотел иметь возможность добавить звук в существующие проекты без существенного изменения схемы. А качество звука и количество каналов настраивать по остаточному принципу, в зависимости от того, сколько ресурсов останется.</p></div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20597237"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><div style="" class="tm-comment-thread__children"><!--[--><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20597309"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-4"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-4" data-comment-body="20597309"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/axe_chita/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="axe_chita"><div class="tm-entity-image"><!--[--><img alt="" class="tm-entity-image__pic" height="24" src="https://assets.habr.com/vue-3/img/avatars/135.png" width="24"><!--]--></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/axe_chita/" class="tm-user-info__username">axe_chita <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20597309"><time datetime="2019-09-07T18:46:50.000Z" title="2019-09-07, 18:46">7  сен  2019 в 18:46</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><button class="tm-comment__button tm-comment__button_with-icon" type="button"><svg class="tm-svg-img tm-comment__icon" height="16" width="16"><title>Показать предыдущий комментарий</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#small-arrow"></use></svg></button><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">И все таки посмотрите исходники эмулятора, вдруг чтото ценное для себя почерпнете.</div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20597309"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><!----><!----></section><!--]--></div><!----></section><!--]--></div><!----></section><!--]--></div><!----></section><!--]--></div><!----></section><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20592721"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-0" data-comment-body="20592721"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/GHouL512/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="GHouL512"><div class="tm-entity-image"><!--[--><img alt="" class="tm-entity-image__pic" height="24" src="https://assets.habr.com/vue-3/img/avatars/200.png" width="24"><!--]--></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/GHouL512/" class="tm-user-info__username">GHouL512 <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20592721"><time datetime="2019-09-06T07:48:46.000Z" title="2019-09-06, 07:48">6  сен  2019 в 07:48</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><!----><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml"><p>А такой вопрос в чем проблема ATTiny? Ведь мы всё равно умножаем на число меньше 1 и затухание можно будет релиозовать путем вычитания сдвинутого регистром семпла.</p></div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20592721"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><div style="" class="tm-comment-thread__children"><!--[--><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20592849"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-1"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-1" data-comment-body="20592849"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/masyaman/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="masyaman"><div class="tm-entity-image"><!--[--><img alt="" class="tm-entity-image__pic" height="24" src="https://assets.habr.com/vue-3/img/avatars/056.png" width="24"><!--]--></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/masyaman/" class="tm-user-info__username">masyaman <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20592849"><time datetime="2019-09-06T08:15:14.000Z" title="2019-09-06, 08:15">6  сен  2019 в 08:15</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><button class="tm-comment__button tm-comment__button_with-icon" type="button"><svg class="tm-svg-img tm-comment__icon" height="16" width="16"><title>Показать предыдущий комментарий</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#small-arrow"></use></svg></button><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml"><p>Я не уверен, что правильно понял вопрос. Скорее всего, вы имеете в виду что-то типа: </p><br/>
<blockquote>outSample = instrumentSample — (instrumentSample >> n);</blockquote><p>Так не получится, так как:</p><br/>
<ol>
<li>При сдвиге вправо значение уменьшается в 2 раза, а мы можем хотеть иметь громкость, например, 87%.</li>
<li>Если упростить, то один сдвиг соответствует умножению на число, у которого только один бит равен 1, а остальные 0. Если нужно иметь возможность вычислять сэмпл для любого значения громкости, то надо будет делать до 8 сдвигов и мы получим то же умножение, только медленное.</li>
<li>И вообще, в AVR нет операции сдвига на произвольное количество битов. Можно только на 1 бит влево или на 1 бит вправо.</li>
<li>Запоминать уменьшеное значение семпла для уменьшения его позже тоже не получится. Wave table находится в програмной памяти и доступна только для чтения. И ее нужно было бы пересчитывать всю. И хранить отдельно для каждого канала.</li>
</ol></div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20592849"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><div style="" class="tm-comment-thread__children"><!--[--><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20595539"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-2"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-2" data-comment-body="20595539"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/GHouL512/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="GHouL512"><div class="tm-entity-image"><!--[--><img alt="" class="tm-entity-image__pic" height="24" src="https://assets.habr.com/vue-3/img/avatars/200.png" width="24"><!--]--></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/GHouL512/" class="tm-user-info__username">GHouL512 <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20595539"><time datetime="2019-09-06T20:43:11.000Z" title="2019-09-06, 20:43">6  сен  2019 в 20:43</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><button class="tm-comment__button tm-comment__button_with-icon" type="button"><svg class="tm-svg-img tm-comment__icon" height="16" width="16"><title>Показать предыдущий комментарий</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#small-arrow"></use></svg></button><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">Да вы меня правильно поняли.<br/>
<br/>
1.Громкость в 87% примерно равна 1 — 1/8 то есть 3 сдвига, да я правда тут не подумал над тем если у нас число будет меньше чем 1/8.<br/>
<br/>
2.На счет 8 сдвигов как по мне слишком много уже при 4 сдвигах достигается точность в 6,25%, а так как число 8 битное больше делать думаю не будет иметь смысла ну 5 сдвигов ну 3,125%.<br/>
<br/>
3.На счет этого не знал.<br/>
А так очень классная статья!!!<br/>
<br/></div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20595539"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><!----><!----></section><!--]--></div><!----></section><!--]--></div><!----></section><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20597407"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-0" data-comment-body="20597407"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/latonita/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="latonita"><div class="tm-entity-image"><img alt="" class="tm-entity-image__pic" height="24" src="//habrastorage.org/r/w48/getpro/habr/avatars/189/927/907/18992790796cd8b1e95fc521be656182.jpg" width="24"></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/latonita/" class="tm-user-info__username">latonita <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20597407"><time datetime="2019-09-07T19:51:01.000Z" title="2019-09-07, 19:51">7  сен  2019 в 19:51</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><!----><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">Есть прекрасный проект <a href="https://www.avray.ru">www.avray.ru</a> — эмуляция двух ay-3-8910 на avr. Рекомендую взглянуть.</div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20597407"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><div style="" class="tm-comment-thread__children"><!--[--><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_20598133"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-1"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-1" data-comment-body="20598133"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/masyaman/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="masyaman"><div class="tm-entity-image"><!--[--><img alt="" class="tm-entity-image__pic" height="24" src="https://assets.habr.com/vue-3/img/avatars/056.png" width="24"><!--]--></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/masyaman/" class="tm-user-info__username">masyaman <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_20598133"><time datetime="2019-09-08T08:34:19.000Z" title="2019-09-08, 08:34">8  сен  2019 в 08:34</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><button class="tm-comment__button tm-comment__button_with-icon" type="button"><svg class="tm-svg-img tm-comment__icon" height="16" width="16"><title>Показать предыдущий комментарий</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#small-arrow"></use></svg></button><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml"><p>Да, выше о нем уже упомянули. Постараюсь посмотреть исходники когда будет время.</p></div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="20598133"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><!----><!----></section><!--]--></div><!----></section><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_22109464"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-0"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-0" data-comment-body="22109464"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/mihmig/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="mihmig"><div class="tm-entity-image"><img alt="" class="tm-entity-image__pic" height="24" src="//habrastorage.org/r/w48/getpro/habr/avatars/ef6/5ea/c20/ef65eac207e7d57c7056b1b03c561622.jpg" width="24"></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/mihmig/" class="tm-user-info__username">mihmig <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_22109464"><time datetime="2020-09-25T17:52:33.000Z" title="2020-09-25, 17:52">25  сен  2020 в 17:52</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><!----><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">А можно ли в atmega328p (Arduino Uno), ~30кБайт кода засунуть wav с голосом? Хотя бы 1-2 секунды?</div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="22109464"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><div style="" class="tm-comment-thread__children"><!--[--><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_22110272"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-1"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-1" data-comment-body="22110272"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/shiru8bit/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="shiru8bit"><div class="tm-entity-image"><img alt="" class="tm-entity-image__pic" height="24" src="//habrastorage.org/getpro/habr/avatars/b8d/bc5/9f1/b8dbc59f16b034a5b569c4da62345d08.gif" width="24"></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/shiru8bit/" class="tm-user-info__username">shiru8bit <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_22110272"><time datetime="2020-09-26T05:16:22.000Z" title="2020-09-26, 05:16">26  сен  2020 в 05:16</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><button class="tm-comment__button tm-comment__button_with-icon" type="button"><svg class="tm-svg-img tm-comment__icon" height="16" width="16"><title>Показать предыдущий комментарий</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#small-arrow"></use></svg></button><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">Конечно можно. В зависимости от качества можно и больше, секунд 5-15.</div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="22110272"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><!----><!----></section><section class="tm-comment-thread"><!----><article class="tm-comment-thread__comment"><a class="tm-comment-thread__target" name="comment_22114872"></a><button class="tm-comment-thread__breadcrumbs tm-comment-thread__indent_b_l-1"><div class="tm-comment-thread__circle"></div></button><!----><div class="tm-comment-thread__indent_l-1" data-comment-body="22114872"><div class="tm-comment" data-gallery-root popup-toggle-visible="false"><header class="tm-comment__header" data-comment-header tabindex="-1"><div class="tm-comment__header-inner"><span class="tm-user-info tm-comment__user-info"><a href="/ru/users/axe_chita/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="axe_chita"><div class="tm-entity-image"><!--[--><img alt="" class="tm-entity-image__pic" height="24" src="https://assets.habr.com/vue-3/img/avatars/135.png" width="24"><!--]--></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/axe_chita/" class="tm-user-info__username">axe_chita <!----></a><!--[--><!--[--><!--[--><a class="tm-comment-thread__comment-link" href="#comment_22114872"><time datetime="2020-09-27T17:36:43.000Z" title="2020-09-27, 17:36">27  сен  2020 в 17:36</time><!----></a><!--]--><!--]--><!--]--></span></span></div><div class="tm-comment__buttons"><button class="tm-comment__button tm-comment__button_with-icon" type="button"><svg class="tm-svg-img tm-comment__icon" height="16" width="16"><title>Показать предыдущий комментарий</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#small-arrow"></use></svg></button><!----></div></header><div class="tm-comment__body-content" style=""><div xmlns="http://www.w3.org/1999/xhtml">Если пришпандорить SDCard то можно гоооораздо больше (несжатый WAV моно 11кГц 8 бит)</div></div><!----><!----></div><!--[--><div class="tm-comment-footer"><!--[--><div class="tm-votes-meter tm-comment-footer__votes-meter"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-comment" height="24" width="24"><title>Комментарий пока не оценивали</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_appearance-comment tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Комментарий пока не оценивали">0</span></div><!--[--><button class="tm-comment-thread__button" type="button">Ответить</button><!--]--><button class="bookmarks-button tm-comment-footer__button tm-comment-footer__button_with-icon" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#counter-favorite"></use></svg></span><!----></button><!--]--><button class="tm-comment__button tm-comment__button_with-icon" data-comment-popup="22114872"><svg class="tm-svg-img tm-comment__icon tm-comment__icon_dots" height="16" width="16"><title>Ещё</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#dots"></use></svg></button><!----></div><!--]--></div></article><!----><!----></section><!--]--></div><!----></section><!--]--></div><!--[--><!--]--><!--]--><!----><!--teleport start--><!--teleport end--><!--]--></div></div><!--[--><div class="tm-notice tm-notice_positive tm-comments__comment-notice"><!----><div class="tm-notice__inner"><!----><div class="tm-notice__content" data-test-id="notice-content"><!--[--><a href="/kek/v1/auth/habrahabr/?back=/ru/articles/466121/&amp;hl=ru" rel="nofollow">Зарегистрируйтесь на Хабре</a><span>, чтобы оставить комментарий</span><!--]--></div></div></div><!--]--></div></div></div></div></div><!--[--><!--[--><!--]--><section class="tm-block tm-block tm-block_spacing-bottom"><header class="tm-block__header tm-block__header tm-block__header_variant-borderless"><div class="tm-block__header-container"><h2 class="tm-block__title tm-block__title tm-block__title_variant-large">Публикации</h2><!--[--><!--]--></div><!----></header><!--[--><div class="tm-block__body tm-block__body tm-block__body_variant-condensed-slim"><!--[--><!--[--><div class="tm-tabs tm-tabs"><div class=""><!--[--><span class="tm-tabs__tab-item"><button class="tm-tabs__tab-link tm-tabs__tab-link_active tm-tabs__tab-link_slim tm-tabs__tab-link">Лучшие за сутки</button></span><span class="tm-tabs__tab-item"><button class="tm-tabs__tab-link tm-tabs__tab-link_slim tm-tabs__tab-link">Похожие</button></span><!--]--></div><!----></div><div class="similar-and-daily__tab-view"><div class="daily-articles-list"><ul class="tm-article-card-list"><!--[--><!--]--><div class="tm-bordered-card"><!----><!--[--><!--]--></div></ul><div class="daily-articles-block__button-container"><a href="/ru/articles/top/alltime/" class="daily-articles-block__link">Показать лучшие за всё время</a></div></div><!----></div><!--]--><!--]--></div><!--]--><!----></section><!--[--><div><div class="placeholder-wrapper"><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><div class="tm-placeholder-promo"><div class="tm-placeholder-promo__header"><div class="tm-placeholder__line tm-placeholder__line_promo-title"></div></div><div class="tm-placeholder-promo__body"><div class="tm-placeholder-promo__posts"><div class="tm-placeholder-promo__post"><div class="tm-placeholder-promo__image"></div><div class="tm-placeholder__line tm-placeholder__line_post-title"></div></div><div class="tm-placeholder-promo__post"><div class="tm-placeholder-promo__image"></div><div class="tm-placeholder__line tm-placeholder__line_post-title"></div></div><div class="tm-placeholder-promo__post"><div class="tm-placeholder-promo__image"></div><div class="tm-placeholder__line tm-placeholder__line_post-title"></div></div></div><div class="tm-placeholder-promo__dots"><div class="tm-placeholder-promo__dot"></div><div class="tm-placeholder-promo__dot"></div><div class="tm-placeholder-promo__dot"></div></div></div></div><!----><!----><!----><!----><!----><!----><!----><!----></div></div><div class="placeholder-wrapper"><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><div class="tm-placeholder-inset tm-placeholder-questions"><div class="tm-placeholder-inset__header"><div class="tm-placeholder__line tm-placeholder__line_inset-header loads"></div></div><div class="tm-placeholder-inset__body"><ul class="tm-placeholder-list"><!--[--><li class="tm-placeholder-list__item tm-placeholder-list__item_inset"><div class="tm-placeholder__line tm-placeholder__line_item-title loads"></div><div class="tm-project-block-items__properties"><!--[--><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><!--]--></div></li><li class="tm-placeholder-list__item tm-placeholder-list__item_inset"><div class="tm-placeholder__line tm-placeholder__line_item-title loads"></div><div class="tm-project-block-items__properties"><!--[--><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><!--]--></div></li><li class="tm-placeholder-list__item tm-placeholder-list__item_inset"><div class="tm-placeholder__line tm-placeholder__line_item-title loads"></div><div class="tm-project-block-items__properties"><!--[--><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><!--]--></div></li><li class="tm-placeholder-list__item tm-placeholder-list__item_inset"><div class="tm-placeholder__line tm-placeholder__line_item-title loads"></div><div class="tm-project-block-items__properties"><!--[--><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><!--]--></div></li><li class="tm-placeholder-list__item tm-placeholder-list__item_inset"><div class="tm-placeholder__line tm-placeholder__line_item-title loads"></div><div class="tm-project-block-items__properties"><!--[--><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><!--]--></div></li><!--]--></ul></div><div class="tm-placeholder-inset__footer"><div class="tm-placeholder__line tm-placeholder__line_inset-footer loads"></div></div></div><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----></div><!--]--><!----><!--[--><!--]--><!--]--></div><!--]--><!--]--></div></div><!--]--><!--]--></div></div><div class="tm-page__sidebar"><!--[--><div class="tm-layout-sidebar"><div class="tm-layout-sidebar__placeholder_initial"></div><div class="tm-sexy-sidebar_initial tm-sexy-sidebar" style="margin-top:0px;"><div class="dark-mode-promo"><span class="dark-mode-promo__link">Изменить настройки темы</span></div><div class="tm-layout-sidebar__ads_initial tm-layout-sidebar__ads"><div class="tm-adfox-banner__container tm-layout-sidebar__banner tm-layout-sidebar__banner_top"><div id="adfox_164725680533065327" class="tm-adfox-banner tm-adfox-banner_variant-half-page tm-adfox-banner"></div></div></div><!--[--><!----><section class="tm-block tm-block tm-block_spacing-around tm-stories-block" data-navigatable tabindex="0" data-async-called="true"><header class="tm-block__header tm-block__header"><div class="tm-block__header-container"><h2 class="tm-block__title tm-block__title">Истории</h2><!--[--><!--]--></div><!----></header><!--[--><div class="tm-block__body tm-block__body tm-block__body_variant-equal"><!--[--><div class="tm-stories-empty"><!--[--><div class="tm-stories-card-empty"><div class="tm-stories-card-empty__image"></div><div class="tm-stories-card-empty__title"><div class="tm-stories-card-empty__title-block"></div><div class="tm-stories-card-empty__title-block"></div><div class="tm-stories-card-empty__title-block"></div></div></div><div class="tm-stories-card-empty"><div class="tm-stories-card-empty__image"></div><div class="tm-stories-card-empty__title"><div class="tm-stories-card-empty__title-block"></div><div class="tm-stories-card-empty__title-block"></div><div class="tm-stories-card-empty__title-block"></div></div></div><div class="tm-stories-card-empty"><div class="tm-stories-card-empty__image"></div><div class="tm-stories-card-empty__title"><div class="tm-stories-card-empty__title-block"></div><div class="tm-stories-card-empty__title-block"></div><div class="tm-stories-card-empty__title-block"></div></div></div><div class="tm-stories-card-empty"><div class="tm-stories-card-empty__image"></div><div class="tm-stories-card-empty__title"><div class="tm-stories-card-empty__title-block"></div><div class="tm-stories-card-empty__title-block"></div><div class="tm-stories-card-empty__title-block"></div></div></div><div class="tm-stories-card-empty"><div class="tm-stories-card-empty__image"></div><div class="tm-stories-card-empty__title"><div class="tm-stories-card-empty__title-block"></div><div class="tm-stories-card-empty__title-block"></div><div class="tm-stories-card-empty__title-block"></div></div></div><div class="tm-stories-card-empty"><div class="tm-stories-card-empty__image"></div><div class="tm-stories-card-empty__title"><div class="tm-stories-card-empty__title-block"></div><div class="tm-stories-card-empty__title-block"></div><div class="tm-stories-card-empty__title-block"></div></div></div><!--]--></div><!----><!--]--></div><!--]--><!----></section><section class="tm-block tm-block tm-block_spacing-around" data-async-called="true"><header class="tm-block__header tm-block__header"><div class="tm-block__header-container"><h2 class="tm-block__title tm-block__title">Работа</h2><!--[--><!--]--></div><!----></header><!--[--><div class="tm-block__body tm-block__body"><!--[--><!--[--><div class="tm-vacancies-block__item"><a class="tm-vacancies-block__vacancy-title" href="https://career.habr.com/vacancies/programmist_c" target="_blank">Программист С</a><div class="tm-vacancies-block__vacancies-count">46
    вакансий</div></div><!--]--><!--]--></div><!--]--><footer class="tm-block__footer"><!--[--><a class="tm-block-extralink" href="https://career.habr.com/catalog">Все вакансии</a><!--]--></footer></section><section class="tm-block tm-block tm-block_spacing-around block" data-async-called="true" data-v-d30b4100><header class="tm-block__header tm-block__header"><div class="tm-block__header-container"><h2 class="tm-block__title tm-block__title">Ближайшие события</h2><!--[--><!--]--></div><!----></header><!--[--><div class="tm-block__body tm-block__body"><!--[--><div class="swiper-container slider" style="--swiper-space-between:22px;" data-v-d30b4100><div class="swiper-wrapper"><!--[--><!--[--><div class="swiper-slide" data-v-d30b4100><!--[--><section class="tm-block tm-block tm-block_spacing-none" id="events_176" tabindex="-1" data-v-d30b4100><!----><!--[--><div class="tm-event-card tm-event-card_is-widget"><img alt class="tm-event-card__image" data-src="https://habrastorage.org/getpro/habr/upload_files/ac9/383/51c/ac938351c65f564f8b0bf373c436de53.png" loading="eager" src="https://habrastorage.org/r/w390/getpro/habr/upload_files/ac9/383/51c/ac938351c65f564f8b0bf373c436de53.png" srcset="https://habrastorage.org/r/w390/getpro/habr/upload_files/ac9/383/51c/ac938351c65f564f8b0bf373c436de53.png, https://habrastorage.org/getpro/habr/upload_files/ac9/383/51c/ac938351c65f564f8b0bf373c436de53.png 2x"><!----><div class="tm-event-card__info"><a href="/ru/events/#events_176" class="tm-event-card__title-link"><span>Серия занятий «Тренировки по алгоритмам 5.0» от Яндекса</span></a><div class="tm-event-card__date"><div class="tm-event-card__day"><svg class="tm-svg-img tm-event-card__icon" height="24" width="24"><title>Дата</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#calendar"></use></svg><span>1  марта   – 19  апреля  </span></div><div class="tm-event-card__time"><svg class="tm-svg-img tm-event-card__icon" height="24" width="24"><title>Время</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#clock"></use></svg><span>19:00</span></div></div><div class="tm-event-card__places"><svg class="tm-svg-img tm-event-card__icon tm-event-card__icon_place" height="24" width="24"><title>Место</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#geo"></use></svg><div class="tm-event-card__places-list"><!--[--><span class="tm-event-card__places-item"><span>Онлайн</span><!----></span><!--]--></div></div><div class="tm-event-card__footer"><a href="/ru/events/#events_176" class="tm-event-card__link">Подробнее в календаре</a></div></div><!----></div><!--]--><!----></section><!--]--></div><div class="swiper-slide" data-v-d30b4100><!--[--><section class="tm-block tm-block tm-block_spacing-none" id="events_265" tabindex="-1" data-v-d30b4100><!----><!--[--><div class="tm-event-card tm-event-card_is-widget"><img alt class="tm-event-card__image" data-src="https://habrastorage.org/getpro/habr/upload_files/c96/3b2/df9/c963b2df9d9789315adeeb503b3f7c16.jpg" loading="eager" src="https://habrastorage.org/r/w390/getpro/habr/upload_files/c96/3b2/df9/c963b2df9d9789315adeeb503b3f7c16.jpg" srcset="https://habrastorage.org/r/w390/getpro/habr/upload_files/c96/3b2/df9/c963b2df9d9789315adeeb503b3f7c16.jpg, https://habrastorage.org/getpro/habr/upload_files/c96/3b2/df9/c963b2df9d9789315adeeb503b3f7c16.jpg 2x"><!----><div class="tm-event-card__info"><a href="/ru/events/#events_265" class="tm-event-card__title-link"><span>Дизайнеры, выбирайте себе компанию по вайбам на Хабр Карьере</span></a><div class="tm-event-card__date"><div class="tm-event-card__day"><svg class="tm-svg-img tm-event-card__icon" height="24" width="24"><title>Дата</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#calendar"></use></svg><span>15 – 28  апреля  </span></div><!----></div><div class="tm-event-card__places"><svg class="tm-svg-img tm-event-card__icon tm-event-card__icon_place" height="24" width="24"><title>Место</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#geo"></use></svg><div class="tm-event-card__places-list"><!--[--><span class="tm-event-card__places-item"><span>Онлайн</span><!----></span><!--]--></div></div><div class="tm-event-card__footer"><a href="/ru/events/#events_265" class="tm-event-card__link">Подробнее в календаре</a></div></div><!----></div><!--]--><!----></section><!--]--></div><div class="swiper-slide" data-v-d30b4100><!--[--><section class="tm-block tm-block tm-block_spacing-none" id="events_251" tabindex="-1" data-v-d30b4100><!----><!--[--><div class="tm-event-card tm-event-card_is-widget"><img alt class="tm-event-card__image" data-src="https://habrastorage.org/getpro/habr/upload_files/24c/109/bda/24c109bda02ce0b7404d56147d7316df.png" loading="eager" src="https://habrastorage.org/r/w390/getpro/habr/upload_files/24c/109/bda/24c109bda02ce0b7404d56147d7316df.png" srcset="https://habrastorage.org/r/w390/getpro/habr/upload_files/24c/109/bda/24c109bda02ce0b7404d56147d7316df.png, https://habrastorage.org/getpro/habr/upload_files/24c/109/bda/24c109bda02ce0b7404d56147d7316df.png 2x"><!----><div class="tm-event-card__info"><a href="/ru/events/#events_251" class="tm-event-card__title-link"><span>PG Bootcamp 2024</span></a><div class="tm-event-card__date"><div class="tm-event-card__day"><svg class="tm-svg-img tm-event-card__icon" height="24" width="24"><title>Дата</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#calendar"></use></svg><span>16  апреля  </span></div><div class="tm-event-card__time"><svg class="tm-svg-img tm-event-card__icon" height="24" width="24"><title>Время</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#clock"></use></svg><span>09:30 – 21:00</span></div></div><div class="tm-event-card__places"><svg class="tm-svg-img tm-event-card__icon tm-event-card__icon_place" height="24" width="24"><title>Место</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#geo"></use></svg><div class="tm-event-card__places-list"><!--[--><span class="tm-event-card__places-item"><span>Минск</span><span class="tm-event-card__places-separator"> • </span></span><span class="tm-event-card__places-item"><span>Онлайн</span><!----></span><!--]--></div></div><div class="tm-event-card__footer"><a href="/ru/events/#events_251" class="tm-event-card__link">Подробнее в календаре</a></div></div><!----></div><!--]--><!----></section><!--]--></div><div class="swiper-slide" data-v-d30b4100><!--[--><section class="tm-block tm-block tm-block_spacing-none" id="events_253" tabindex="-1" data-v-d30b4100><!----><!--[--><div class="tm-event-card tm-event-card_is-widget"><img alt class="tm-event-card__image" data-src="https://habrastorage.org/getpro/habr/upload_files/c4d/21b/be9/c4d21bbe9d44a00d72275888240cb30c.jpg" loading="eager" src="https://habrastorage.org/r/w390/getpro/habr/upload_files/c4d/21b/be9/c4d21bbe9d44a00d72275888240cb30c.jpg" srcset="https://habrastorage.org/r/w390/getpro/habr/upload_files/c4d/21b/be9/c4d21bbe9d44a00d72275888240cb30c.jpg, https://habrastorage.org/getpro/habr/upload_files/c4d/21b/be9/c4d21bbe9d44a00d72275888240cb30c.jpg 2x"><!----><div class="tm-event-card__info"><a href="/ru/events/#events_253" class="tm-event-card__title-link"><span>EvaConf 2024</span></a><div class="tm-event-card__date"><div class="tm-event-card__day"><svg class="tm-svg-img tm-event-card__icon" height="24" width="24"><title>Дата</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#calendar"></use></svg><span>16  апреля  </span></div><div class="tm-event-card__time"><svg class="tm-svg-img tm-event-card__icon" height="24" width="24"><title>Время</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#clock"></use></svg><span>11:00 – 16:00</span></div></div><div class="tm-event-card__places"><svg class="tm-svg-img tm-event-card__icon tm-event-card__icon_place" height="24" width="24"><title>Место</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#geo"></use></svg><div class="tm-event-card__places-list"><!--[--><span class="tm-event-card__places-item"><span>Москва</span><span class="tm-event-card__places-separator"> • </span></span><span class="tm-event-card__places-item"><span>Онлайн</span><!----></span><!--]--></div></div><div class="tm-event-card__footer"><a href="/ru/events/#events_253" class="tm-event-card__link">Подробнее в календаре</a></div></div><!----></div><!--]--><!----></section><!--]--></div><div class="swiper-slide" data-v-d30b4100><!--[--><section class="tm-block tm-block tm-block_spacing-none" id="events_259" tabindex="-1" data-v-d30b4100><!----><!--[--><div class="tm-event-card tm-event-card_is-widget"><img alt class="tm-event-card__image" data-src="https://habrastorage.org/getpro/habr/upload_files/ff9/b57/3cf/ff9b573cffea9332bba1cb0645cc414d.png" loading="eager" src="https://habrastorage.org/r/w390/getpro/habr/upload_files/ff9/b57/3cf/ff9b573cffea9332bba1cb0645cc414d.png" srcset="https://habrastorage.org/r/w390/getpro/habr/upload_files/ff9/b57/3cf/ff9b573cffea9332bba1cb0645cc414d.png, https://habrastorage.org/getpro/habr/upload_files/ff9/b57/3cf/ff9b573cffea9332bba1cb0645cc414d.png 2x"><!----><div class="tm-event-card__info"><a href="/ru/events/#events_259" class="tm-event-card__title-link"><span>Конференция по анализу данных и технологиям ИИ «Data Fusion»</span></a><div class="tm-event-card__date"><div class="tm-event-card__day"><svg class="tm-svg-img tm-event-card__icon" height="24" width="24"><title>Дата</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#calendar"></use></svg><span>17 – 18  апреля  </span></div><div class="tm-event-card__time"><svg class="tm-svg-img tm-event-card__icon" height="24" width="24"><title>Время</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#clock"></use></svg><span>11:00 – 20:00</span></div></div><div class="tm-event-card__places"><svg class="tm-svg-img tm-event-card__icon tm-event-card__icon_place" height="24" width="24"><title>Место</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#geo"></use></svg><div class="tm-event-card__places-list"><!--[--><span class="tm-event-card__places-item"><span>Москва</span><!----></span><!--]--></div></div><div class="tm-event-card__footer"><a href="/ru/events/#events_259" class="tm-event-card__link">Подробнее в календаре</a></div></div><!----></div><!--]--><!----></section><!--]--></div><div class="swiper-slide" data-v-d30b4100><!--[--><section class="tm-block tm-block tm-block_spacing-none" id="events_263" tabindex="-1" data-v-d30b4100><!----><!--[--><div class="tm-event-card tm-event-card_is-widget"><img alt class="tm-event-card__image" data-src="https://habrastorage.org/getpro/habr/upload_files/4cc/528/613/4cc528613f1699d04d55103eebac3f02.jpg" loading="eager" src="https://habrastorage.org/r/w390/getpro/habr/upload_files/4cc/528/613/4cc528613f1699d04d55103eebac3f02.jpg" srcset="https://habrastorage.org/r/w390/getpro/habr/upload_files/4cc/528/613/4cc528613f1699d04d55103eebac3f02.jpg, https://habrastorage.org/getpro/habr/upload_files/4cc/528/613/4cc528613f1699d04d55103eebac3f02.jpg 2x"><!----><div class="tm-event-card__info"><a href="/ru/events/#events_263" class="tm-event-card__title-link"><span>Бесплатный вебинар по 3D-моделированию катаны из Cyberpunk 2077</span></a><div class="tm-event-card__date"><div class="tm-event-card__day"><svg class="tm-svg-img tm-event-card__icon" height="24" width="24"><title>Дата</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#calendar"></use></svg><span>18  апреля  </span></div><div class="tm-event-card__time"><svg class="tm-svg-img tm-event-card__icon" height="24" width="24"><title>Время</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#clock"></use></svg><span>20:00</span></div></div><div class="tm-event-card__places"><svg class="tm-svg-img tm-event-card__icon tm-event-card__icon_place" height="24" width="24"><title>Место</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#geo"></use></svg><div class="tm-event-card__places-list"><!--[--><span class="tm-event-card__places-item"><span>Онлайн</span><!----></span><!--]--></div></div><div class="tm-event-card__footer"><a href="/ru/events/#events_263" class="tm-event-card__link">Подробнее в календаре</a></div></div><!----></div><!--]--><!----></section><!--]--></div><div class="swiper-slide" data-v-d30b4100><!--[--><section class="tm-block tm-block tm-block_spacing-none" id="events_257" tabindex="-1" data-v-d30b4100><!----><!--[--><div class="tm-event-card tm-event-card_is-widget"><img alt class="tm-event-card__image" data-src="https://habrastorage.org/getpro/habr/upload_files/dca/c30/ce4/dcac30ce47809bcf603ad4cc0c49e917.jpg" loading="eager" src="https://habrastorage.org/r/w390/getpro/habr/upload_files/dca/c30/ce4/dcac30ce47809bcf603ad4cc0c49e917.jpg" srcset="https://habrastorage.org/r/w390/getpro/habr/upload_files/dca/c30/ce4/dcac30ce47809bcf603ad4cc0c49e917.jpg, https://habrastorage.org/getpro/habr/upload_files/dca/c30/ce4/dcac30ce47809bcf603ad4cc0c49e917.jpg 2x"><!----><div class="tm-event-card__info"><a href="/ru/events/#events_257" class="tm-event-card__title-link"><span>Weekend Offer в AliExpress</span></a><div class="tm-event-card__date"><div class="tm-event-card__day"><svg class="tm-svg-img tm-event-card__icon" height="24" width="24"><title>Дата</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#calendar"></use></svg><span>20 – 21  апреля  </span></div><div class="tm-event-card__time"><svg class="tm-svg-img tm-event-card__icon" height="24" width="24"><title>Время</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#clock"></use></svg><span>10:00 – 20:00</span></div></div><div class="tm-event-card__places"><svg class="tm-svg-img tm-event-card__icon tm-event-card__icon_place" height="24" width="24"><title>Место</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#geo"></use></svg><div class="tm-event-card__places-list"><!--[--><span class="tm-event-card__places-item"><span>Онлайн</span><!----></span><!--]--></div></div><div class="tm-event-card__footer"><a href="/ru/events/#events_257" class="tm-event-card__link">Подробнее в календаре</a></div></div><!----></div><!--]--><!----></section><!--]--></div><div class="swiper-slide" data-v-d30b4100><!--[--><section class="tm-block tm-block tm-block_spacing-none" id="events_261" tabindex="-1" data-v-d30b4100><!----><!--[--><div class="tm-event-card tm-event-card_is-widget"><img alt class="tm-event-card__image" data-src="https://habrastorage.org/getpro/habr/upload_files/f92/7c5/199/f927c51997e9ada9a49a494d9321130c.png" loading="eager" src="https://habrastorage.org/r/w390/getpro/habr/upload_files/f92/7c5/199/f927c51997e9ada9a49a494d9321130c.png" srcset="https://habrastorage.org/r/w390/getpro/habr/upload_files/f92/7c5/199/f927c51997e9ada9a49a494d9321130c.png, https://habrastorage.org/getpro/habr/upload_files/f92/7c5/199/f927c51997e9ada9a49a494d9321130c.png 2x"><!----><div class="tm-event-card__info"><a href="/ru/events/#events_261" class="tm-event-card__title-link"><span>Вебинар «Истории Dodo Brands и Offprice: как компании мигрировали 1С в облако»</span></a><div class="tm-event-card__date"><div class="tm-event-card__day"><svg class="tm-svg-img tm-event-card__icon" height="24" width="24"><title>Дата</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#calendar"></use></svg><span>23  апреля  </span></div><div class="tm-event-card__time"><svg class="tm-svg-img tm-event-card__icon" height="24" width="24"><title>Время</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#clock"></use></svg><span>11:00</span></div></div><div class="tm-event-card__places"><svg class="tm-svg-img tm-event-card__icon tm-event-card__icon_place" height="24" width="24"><title>Место</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#geo"></use></svg><div class="tm-event-card__places-list"><!--[--><span class="tm-event-card__places-item"><span>Онлайн</span><!----></span><!--]--></div></div><div class="tm-event-card__footer"><a href="/ru/events/#events_261" class="tm-event-card__link">Подробнее в календаре</a></div></div><!----></div><!--]--><!----></section><!--]--></div><div class="swiper-slide" data-v-d30b4100><!--[--><section class="tm-block tm-block tm-block_spacing-none" id="events_178" tabindex="-1" data-v-d30b4100><!----><!--[--><div class="tm-event-card tm-event-card_is-widget"><img alt class="tm-event-card__image" data-src="https://habrastorage.org/getpro/habr/upload_files/d78/8ad/5cb/d788ad5cb236e7eebb4832ccc5310645.png" loading="eager" src="https://habrastorage.org/r/w390/getpro/habr/upload_files/d78/8ad/5cb/d788ad5cb236e7eebb4832ccc5310645.png" srcset="https://habrastorage.org/r/w390/getpro/habr/upload_files/d78/8ad/5cb/d788ad5cb236e7eebb4832ccc5310645.png, https://habrastorage.org/getpro/habr/upload_files/d78/8ad/5cb/d788ad5cb236e7eebb4832ccc5310645.png 2x"><!----><div class="tm-event-card__info"><a href="/ru/events/#events_178" class="tm-event-card__title-link"><span>Firebird Conf: конференция для разработчиков и администраторов СУБД Firebird</span></a><div class="tm-event-card__date"><div class="tm-event-card__day"><svg class="tm-svg-img tm-event-card__icon" height="24" width="24"><title>Дата</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#calendar"></use></svg><span>6  июня  </span></div><div class="tm-event-card__time"><svg class="tm-svg-img tm-event-card__icon" height="24" width="24"><title>Время</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#clock"></use></svg><span>09:00 – 20:00</span></div></div><div class="tm-event-card__places"><svg class="tm-svg-img tm-event-card__icon tm-event-card__icon_place" height="24" width="24"><title>Место</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#geo"></use></svg><div class="tm-event-card__places-list"><!--[--><span class="tm-event-card__places-item"><span>Москва</span><!----></span><!--]--></div></div><div class="tm-event-card__footer"><a href="/ru/events/#events_178" class="tm-event-card__link">Подробнее в календаре</a></div></div><!----></div><!--]--><!----></section><!--]--></div><!--]--><!--]--></div><!----><!--[--><button class="swiper-button-prev"><span class="tm-svg-icon__wrapper swiper-button-icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Влево</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#arrow-back"></use></svg></span></button><button class="swiper-button-next"><span class="tm-svg-icon__wrapper swiper-button-icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Вправо</title><use xlink:href="/img/megazord-v28.06b08bfb..svg#arrow-back"></use></svg></span></button><!--]--></div><!--]--></div><!--]--><!----></section><!--]--><div class="tm-adfox-banner__container tm-layout-sidebar__banner tm-layout-sidebar__banner_bottom"><div id="adfox_164725691003361602" class="tm-adfox-banner tm-adfox-banner_variant-medium-rectangle tm-adfox-banner"></div></div></div></div><!--]--></div></div><!--]--></div></div></main><!----></div><div class="tm-footer-menu"><div class="tm-page-width"><!--[--><div class="tm-footer-menu__container"><!--[--><div class="tm-footer-menu__block"><p class="tm-footer-menu__block-title">Ваш аккаунт</p><div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><!--[--><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr/?back=/ru/articles/466121/&amp;hl=ru" rel="nofollow" target="_self">Войти</a></li><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr-register/?back=/ru/articles/466121/&amp;hl=ru" rel="nofollow" target="_self">Регистрация</a></li><!--]--></ul></div></div><div class="tm-footer-menu__block"><p class="tm-footer-menu__block-title">Разделы</p><div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><!--[--><li class="tm-footer-menu__list-item"><a href="/ru/articles/" class="footer-menu__item-link">Статьи</a></li><li class="tm-footer-menu__list-item"><a href="/ru/news/" class="footer-menu__item-link">Новости</a></li><li class="tm-footer-menu__list-item"><a href="/ru/hubs/" class="footer-menu__item-link">Хабы</a></li><li class="tm-footer-menu__list-item"><a href="/ru/companies/" class="footer-menu__item-link">Компании</a></li><li class="tm-footer-menu__list-item"><a href="/ru/users/" class="footer-menu__item-link">Авторы</a></li><li class="tm-footer-menu__list-item"><a href="/ru/sandbox/" class="footer-menu__item-link">Песочница</a></li><!--]--></ul></div></div><div class="tm-footer-menu__block"><p class="tm-footer-menu__block-title">Информация</p><div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><!--[--><li class="tm-footer-menu__list-item"><a href="/ru/docs/help/" class="footer-menu__item-link">Устройство сайта</a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/authors/codex/" class="footer-menu__item-link">Для авторов</a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/companies/corpblogs/" class="footer-menu__item-link">Для компаний</a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/docs/transparency/" class="footer-menu__item-link">Документы</a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/agreement/?hl=ru_RU" target="_blank">Соглашение</a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/confidential/?hl=ru_RU" target="_blank">Конфиденциальность</a></li><!--]--></ul></div></div><div class="tm-footer-menu__block"><p class="tm-footer-menu__block-title">Услуги</p><div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><!--[--><li class="tm-footer-menu__list-item"><a href="https://company.habr.com/ru/corporate-blogs/" target="_blank">Корпоративный блог</a></li><li class="tm-footer-menu__list-item"><a href="https://company.habr.com/ru/advertising/" target="_blank">Медийная реклама</a></li><li class="tm-footer-menu__list-item"><a href="https://company.habr.com/ru/native-special/" target="_blank">Нативные проекты</a></li><li class="tm-footer-menu__list-item"><a href="https://company.habr.com/ru/education-programs/" target="_blank">Образовательные программы</a></li><li class="tm-footer-menu__list-item"><a href="https://company.habr.com/ru/hello-startup/" target="_blank">Стартапам</a></li><!--]--></ul></div></div><!--]--></div><!--]--></div></div><div class="tm-footer"><div class="tm-page-width"><!--[--><div class="tm-footer__container"><!----><div class="tm-footer__social"><!--[--><a class="tm-svg-icon__wrapper tm-social-icons__icon" href="https://www.facebook.com/habrahabr.ru" rel="nofollow noopener noreferrer" target="_blank"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Facebook</title><use xlink:href="/img/new-social-icons-sprite.svg#social-logo-facebook"></use></svg></a><a class="tm-svg-icon__wrapper tm-social-icons__icon" href="https://twitter.com/habr_com" rel="nofollow noopener noreferrer" target="_blank"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Twitter</title><use xlink:href="/img/new-social-icons-sprite.svg#social-logo-twitter"></use></svg></a><a class="tm-svg-icon__wrapper tm-social-icons__icon" href="https://vk.com/habr" rel="nofollow noopener noreferrer" target="_blank"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>VK</title><use xlink:href="/img/new-social-icons-sprite.svg#social-logo-vk"></use></svg></a><a class="tm-svg-icon__wrapper tm-social-icons__icon" href="https://telegram.me/habr_com" rel="nofollow noopener noreferrer" target="_blank"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Telegram</title><use xlink:href="/img/new-social-icons-sprite.svg#social-logo-telegram"></use></svg></a><a class="tm-svg-icon__wrapper tm-social-icons__icon" href="https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w" rel="nofollow noopener noreferrer" target="_blank"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Youtube</title><use xlink:href="/img/new-social-icons-sprite.svg#social-logo-youtube"></use></svg></a><a class="tm-svg-icon__wrapper tm-social-icons__icon" href="https://dzen.ru/habr" rel="nofollow noopener noreferrer" target="_blank"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Яндекс Дзен</title><use xlink:href="/img/new-social-icons-sprite.svg#social-logo-dzen"></use></svg></a><!--]--></div><!--teleport start--><!--teleport end--><button class="tm-footer__link"><!----> Настройка языка</button><a href="/ru/feedback/" class="tm-footer__link">Техническая поддержка</a><div class="tm-footer-copyright"><span class="tm-copyright"><span class="tm-copyright__years">© 2006–2024, </span><span class="tm-copyright__name"><a class="tm-copyright__link" href="https://company.habr.com/" rel="noopener" target="_blank">Habr</a></span></span></div></div><!--]--></div></div><!----><!--]--></div><!----></div><script>window.__INITIAL_STATE__={"adblock":{"hasAcceptableAdsFilter":false,"hasAdblock":false},"articlesList":{"articlesList":{"466121":{"id":"466121","timePublished":"2019-09-04T07:01:32+00:00","isCorporative":false,"lang":"ru","titleHtml":"Генерация звука на микроконтроллерах AVR методом волновых таблиц с поддержкой полифонии","leadData":{"textHtml":"Микроконтроллеры AVR довольно дешевы и широко распространены. Наверно, с них начинает почти любой embedded разработчик. А среди любителей правит балом Arduino, сердцем которого обычно является ATmega328p. Наверняка многие задумывались: как можно заставить их звучать?\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nЕсли посмотреть на существующие проекты, то они бывают нескольких типов:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003EГенераторы квадратных импульсов. Генерация с помощью ШИМ или дергать пины в прерываниях. В любом случае, получается очень характерный пищащий звук.\u003C\u002Fli\u003E\r\n\u003Cli\u003EИспользование внешнего оборудования типа MP3 декодера.\u003C\u002Fli\u003E\r\n\u003Cli\u003EИспользование ШИМ для вывода 8 битного (иногда 16 битного) звука в формате PCM или ADPCM. Поскольку памяти в микроконтроллерах для этого явно не достаточно, то обычно используют SD карту.\u003C\u002Fli\u003E\r\n\u003Cli\u003EИспользование ШИМ для генерации звука на основе волновых таблиц, подобных MIDI.\u003C\u002Fli\u003E\r\n\u003C\u002Fol\u003E\u003Cbr\u003E\r\nПоследний тип для меня был особенно интересен, т.к. почти не требует дополнительного оборудования. Представляю сообществу свой вариант. Для начала небольшое демо:\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cdiv class=\"oembed\"\u003E\u003Cdiv\u003E\u003Cdiv style=\"left: 0; width: 100%; height: 400px; position: relative;\"\u003E\u003Ciframe src=\"https:\u002F\u002Fw.soundcloud.com\u002Fplayer\u002F?visual=true&amp;url=https%3A%2F%2Fapi.soundcloud.com%2Ftracks%2F674128355&amp;show_artwork=true\" style=\"border: 0; top: 0; left: 0; width: 100%; height: 100%; position: absolute;\" allowfullscreen scrolling=\"no\"\u003E\u003C\u002Fiframe\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nЗаинтересовавшихся прошу под кат.\u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"editorVersion":"1.0","postType":"article","postLabels":[{"type":"sandbox","typeOf":"system","title":"Из песочницы","data":{"url":null}}],"author":{"id":"116188","alias":"masyaman","fullname":null,"avatarUrl":null,"speciality":"Пользователь","scoreStats":{"score":43,"votesCount":55},"rating":0,"relatedData":null,"contacts":[],"authorContacts":[],"paymentDetails":{"paymentYandexMoney":null,"paymentPayPalMe":null,"paymentWebmoney":null},"donationsMethod":null,"isInBlacklist":null},"statistics":{"commentsCount":71,"favoritesCount":163,"readingCount":31495,"score":58,"votesCount":60,"votesCountPlus":59,"votesCountMinus":1},"hubs":[{"id":"17717","alias":"c","type":"collective","title":"C","titleHtml":"C","isProfiled":true,"relatedData":null},{"id":"19737","alias":"controllers","type":"collective","title":"Программирование микроконтроллеров","titleHtml":"Программирование микроконтроллеров","isProfiled":true,"relatedData":null},{"id":"21988","alias":"sound","type":"collective","title":"Звук","titleHtml":"Звук","isProfiled":false,"relatedData":null}],"flows":[{"id":"1","alias":"develop","title":"Разработка","titleHtml":"Разработка"},{"id":"7","alias":"popsci","title":"Научпоп","titleHtml":"Научпоп"}],"relatedData":{"vote":null,"unreadCommentsCount":0,"bookmarked":false,"canComment":false,"canEdit":false,"canViewVotes":false,"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"canModerateComments":false,"trackerSubscribed":false,"emailSubscribed":false},"textHtml":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EМикроконтроллеры AVR довольно дешевы и широко распространены. Наверно, с них начинает почти любой embedded разработчик. А среди любителей правит балом Arduino, сердцем которого обычно является ATmega328p. Наверняка многие задумывались: как можно заставить их звучать?\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЕсли посмотреть на существующие проекты, то они бывают нескольких типов:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003EГенераторы квадратных импульсов. Генерация с помощью ШИМ или дергать пины в прерываниях. В любом случае, получается очень характерный пищащий звук.\u003C\u002Fli\u003E\r\n\u003Cli\u003EИспользование внешнего оборудования типа MP3 декодера.\u003C\u002Fli\u003E\r\n\u003Cli\u003EИспользование ШИМ для вывода 8 битного (иногда 16 битного) звука в формате PCM или ADPCM. Поскольку памяти в микроконтроллерах для этого явно не достаточно, то обычно используют SD карту.\u003C\u002Fli\u003E\r\n\u003Cli\u003EИспользование ШИМ для генерации звука на основе волновых таблиц, подобных MIDI.\u003C\u002Fli\u003E\r\n\u003C\u002Fol\u003E\u003Cbr\u002F\u003E\r\nПоследний тип для меня был особенно интересен, т.к. почти не требует дополнительного оборудования. Представляю сообществу свой вариант. Для начала небольшое демо:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cdiv class=\"oembed\"\u003E\u003Cdiv\u003E\u003Cdiv style=\"left: 0; width: 100%; height: 400px; position: relative;\"\u003E\u003Cdiv class=\"tm-iframe_temp\" data-src=\"https:\u002F\u002Fw.soundcloud.com\u002Fplayer\u002F?visual=true&amp;url=https%3A%2F%2Fapi.soundcloud.com%2Ftracks%2F674128355&amp;show_artwork=true\" data-style=\"border: 0; top: 0; left: 0; width: 100%; height: 100%; position: absolute;\" id=\"\" width=\"\"\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЗаинтересовавшихся прошу под кат.\u003Cbr\u002F\u003E\r\n\u003Ca name=\"habracut\"\u003E\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\nИтак, оборудование:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EATmega8 или ATmega328. Портировать на другие ATmega не сложно. И даже на ATtiny, но об этом позже;\u003C\u002Fli\u003E\r\n\u003Cli\u003EРезистор;\u003C\u002Fli\u003E\r\n\u003Cli\u003EКонденсатор;\u003C\u002Fli\u003E\r\n\u003Cli\u003EДинамик или наушники;\u003C\u002Fli\u003E\r\n\u003Cli\u003EПитание;\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E\u003Cbr\u002F\u003E\r\nВроде все.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПростая RC цепочка вместе с динамиком подключается к выводу микроконтроллера. На выходе получаем 8 битный звук с частотой дискретизации 31250Гц. При частоте кристалла в 8МГц можно генерировать до 5 каналов звука + один шумовой канал для перкуссии. При этом используется почти все процессорное время, но после заполнения буфера процессор можно занять чем-то полезным помимо звука:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cdiv class=\"oembed\"\u003E\u003Cdiv\u003E\u003Cdiv style=\"left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.2493%;\"\u003E\u003Cdiv class=\"tm-iframe_temp\" data-src=\"https:\u002F\u002Fwww.youtube.com\u002Fembed\u002FJwqY7FoxYsk?rel=0&amp;showinfo=1&amp;hl=en-US\" data-style=\"border: 0; top: 0; left: 0; width: 100%; height: 100%; position: absolute;\" id=\"\" width=\"\"\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\nДанный пример полностью помещается в память ATmega8, 5 каналов + шум обрабатываются при частоте кристалла 8МГц и остается немного времени на анимацию на дисплее.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nТак же я хотел показать в этом примере, что библиотеку можно использовать не только как очередную музыкальную открытку, но и подключить звук к уже существующим проектам, например, для уведомлений. И даже при использовании всего одного звукового канала уведомления могут быть гораздо интереснее простой пищалки.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nА теперь подробности…\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EВолновые таблицы или wavetables\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nМатематика предельно проста. Есть периодичная функция тона, например \u003Ci\u003Etone(t) = sin(t * freq \u002F (2 * Pi))\u003C\u002Fi\u003E.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nТак же есть функция изменения громкости основного тона от времени, например \u003Ci\u003Evolume(t) = e ^ (- t)\u003C\u002Fi\u003E.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ самом простом случае звучание инструмента – это произведение этих функций \u003Ci\u003Einstrument(t) = tone(t) * volume(t)\u003C\u002Fi\u003E:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНа графике это все выглядит примерно так:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fwebt\u002Fpn\u002Fdp\u002Fpi\u002Fpndppihozomu4ep_fxzcho44xx8.png\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fpn\u002Fdp\u002Fpi\u002Fpndppihozomu4ep_fxzcho44xx8.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДальше берем все звучащие в данный момент времени инструменты и суммируем их с некоторыми коэффициентами громкости (псевдокод):\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"cmake\"\u003Efor (i = 0; i &lt; CHANNELS; i++) {\n  value += channels[i].tone(t) * channels[i].volume(t) * channels[i].volume;\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\nНадо только подбирать громкости так, чтобы не было переполнения. И это почти все.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nШумовой канал работает приблизительно так же, только вместо функции тона генератор псевдослучайной последовательности.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПеркуссия — это микс шумового канала и низкочастотной волны, приблизительно в 50-70 Гц.\u003Cbr\u002F\u003E\r\nКонечно, качественного звука таким образом добиться сложно. Но у нас же всего 8 килобайт на все. Надеюсь, это можно простить.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EЧто можно выжать из 8 бит\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nИзначально я ориентировался на ATmega8. Без внешнего кварца она работает на частоте 8МГц и имеет 8 битный ШИМ, что дает базовую частоту дискретизации 8000000 \u002F 256 = 31250Гц. Один таймер использует ШИМ для вывода звука и он же при переполнении вызывает прерывание для передачи следующего значения в генератор ШИМ. Соответственно, у нас 256 тактов для вычисления значения сэмпла на все, включая накладные расходы на прерывание, обновление параметров звуковых каналов, отслеживание времени, когда надо проигрывать очередную ноту и т.д.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДля оптимизации будем активно использовать следующие трюки:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EПоскольку процессор у нас восьмибитный, то переменные будем стараться делать такими же. Иногда будем пользоваться 16 битными. \u003C\u002Fli\u003E\r\n\u003Cli\u003EВычисления условно разделим на частые и не очень. Первые необходимо вычислять для каждого сэмпла, вторые – заметно реже, раз в несколько десятков\u002Fсотен сэмплов.\u003C\u002Fli\u003E\r\n\u003Cli\u003EДля равномерного распределения нагрузки во времени мы используем циклический буфер. В основном цикле программы мы буфер наполняем, в прерывании вычитываем. Если все хорошо, то наполняется буфер быстрее, чем опустошается и у нас есть время на что-то еще.\u003C\u002Fli\u003E\r\n\u003Cli\u003EКод написан на C с большим количеством inline. Практика показывает, что так заметно быстрее.\u003C\u002Fli\u003E\r\n\u003Cli\u003EВсе что можно просчитать препроцессором, особенно с участием деления, делается препроцессором.\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E\u003Cbr\u002F\u003E\r\nДля начала, разделим время на промежутки по 4 миллисекунды (я назвал их тиками). При частоте дискретизации 31250Гц получаем 125 сэмплов на тик. То, что обязательно нужно считать каждый сэмпл – будем считать каждый сэмпл, а остальное – раз в тик или реже. Например, в рамках одного тика громкость инструмента будет постоянной: \u003Ci\u003Einstrument(t) = tone(t) * currentVolume\u003C\u002Fi\u003E; а сам currentVolume будет пересчитываться раз в тик с учетом volume(t) и выбранной громкости звукового канала.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДлительность тика в 4мс была выбрана исходя из простого 8 битного ограничения: при восьмибитном счетчике сэмплов можно работать с частотой дискретизации до 64кГц, при восьмибитном счетчике тиков мы можем измерять время до 1-й секунды.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EНемного кода\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nСам канал описывается такой структурой:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"cmake\"\u003Etypedef struct\n{\n    \u002F\u002F Info about wave\n    const int8_t* waveForm; \u002F\u002F Wave table array\n    uint16_t waveSample; \u002F\u002F High byte is an index in waveForm array\n    uint16_t waveStep; \u002F\u002F Frequency, how waveSample is changed in time\n\n    \u002F\u002F Info about volume envelope\n    const uint8_t* volumeForm; \u002F\u002F Array of volume change in time\n    uint8_t volumeFormLength; \u002F\u002F Length of volumeForm\n    uint8_t volumeTicksPerSample; \u002F\u002F How many ticks should pass before index of volumeForm is changed\n    uint8_t volumeTicksCounter; \u002F\u002F Counter for volumeTicksPerSample\n\n    \u002F\u002F Info about volume\n    uint8_t currentVolume; \u002F\u002F Precalculated volume for current tick\n    uint8_t instrumentVolume; \u002F\u002F Volume of channel\n} waveChannel;\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\nУсловно данные тут разделены на 3 части:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003E Информация о форме волны, фаза, частота.\u003Cbr\u002F\u003E\r\n \u003Cbr\u002F\u003E\r\nwaveForm: информация о функции tone(t): ссылка на массив длиной 256 байт. Задает тембр, звучание инструмента. \u003Cbr\u002F\u003E\r\n \u003Cbr\u002F\u003E\r\nwaveSample: старший байт указывает на текущий индекс массива waveForm.\u003Cbr\u002F\u003E\r\n \u003Cbr\u002F\u003E\r\nwaveStep: задает частоту, на сколько waveSample будет увеличен при подсчете следующего сэмпла.\u003Cbr\u002F\u003E\r\n \u003Cbr\u002F\u003E\r\nКаждый сэмпл считается примерно так:\u003Cbr\u002F\u003E\r\n \u003Cbr\u002F\u003E\r\n \u003Cpre\u003E\u003Ccode class=\"cmake\"\u003Eint8_t tone = channelData.waveForm[channelData.waveSample \u003E\u003E 8];\nchannelData.waveSample += channelaData.waveStep;\nreturn tone * channelData.currentVolume;\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003E Информация о громкости. Задает функцию изменения громкости от времени. Постольку громкость меняется не так часто, то пересчитывать ее можно реже, раз в тик. Делается это примерно так:\u003Cbr\u002F\u003E\r\n \u003Cbr\u002F\u003E\r\n \u003Cpre\u003E\u003Ccode class=\"cmake\"\u003Eif ((channel-\u003EvolumeTicksCounter--) == 0 &amp;&amp; channel-\u003EvolumeFormLength \u003E 0) {\n    channel-\u003EvolumeTicksCounter = channel-\u003EvolumeTicksPerSample;\n    channel-\u003EvolumeFormLength--;\n    channel-\u003EvolumeForm++;\n}\nchannel-\u003EcurrentVolume = channel-\u003EvolumeForm * channel-\u003EinstrumentVolume \u003E\u003E 8;\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003E Задает громкость канала и посчитанную текущую громкость.\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003C\u002Fol\u003E\u003Cbr\u002F\u003E\r\nОбратите внимание: форма волны – восьмибитная, громкость – тоже восьмибитная, а результат – 16 битный. С небольшой потерей производительности можно сделать звук (почти) 16 битным.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПри борьбе за производительность пришлось прибегнуть к некоторой черной магии. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПример номер 1. Как пересчитывать громкость каналов:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"cmake\"\u003Eif ((tickSampleCounter--) == 0) {\n    \u002F\u002F Наступил новый тик\n    tickSampleCounter = SAMPLES_PER_TICK – 1;\n    \u002F\u002F Посчитать еще что-то\n}\n\u002F\u002F volume recalculation should no be done so often for all channels\nif (tickSampleCounter &lt; CHANNELS_SIZE) {\n    recalculateVolume(channels[tickSampleCounter]);\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\nТаким образом, все каналы пересчитывают громкость раз в тик, но не одновременно.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПример номер 2. Держать информацию о канале в статической структуре дешевле, чем в массиве. Не вдаваясь в подробности реализации wavechannel.h скажу, что этот файл вставляется в код несколько раз (равное количеству каналов) с разными директивами препроцессора. При каждой вставке создаются новые глобальные переменные и новая функция расчета канала, которая потом инлайнится в основной код:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"cmake\"\u003E#if CHANNELS_SIZE \u003E= 1\n    val += channel0NextSample();\n#endif\n#if CHANNELS_SIZE \u003E= 2\n    val += channel1NextSample();\n#endif\n…\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\nПример номер 3. Если мы начнем проигрывать очередную ноту чуть-чуть позже, то все равно никто не заметит. Давайте представим ситуацию: мы чем-то заняли процессор и за это время буфер почти опустошился. Затем мы начинаем его заполнять и тут вдруг оказывается, что на подходе новый такт: надо обновлять текущие ноты, читать из массива что там дальше и т.д. Если мы не успеем, то будут характерные заикания. Гораздо лучше немного заполнить буфер старыми данными, и только потом обновить состояние каналов.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"cmake\"\u003Ewhile ((samplesToWrite) \u003E 4) { \u002F\u002F Ждем в цикле пока буфер не будет почти заполнен\n    fillBuffer(SAMPLES_PER_TICK); \u002F\u002F Наполняем буфер в течение какого-то времени\n    updateMusicData(); \u002F\u002F Обновляем состояние нот\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\nПо-хорошему надо бы еще донаполнить буфер после цикла, но, поскольку у нас почти все inline, то заметно раздувается размер кода.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EМузыка\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nИспользуется восьмибитный счетчик тиков. При достижении нуля начинается новый такт, счетчику присваивается длительность такта (в тиках), чуть позже проверяется массив музыкальных команд.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nМузыкальные данные хранятся в массиве байтов. Записывается примерно так:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"cmake\"\u003Econst uint8_t demoSample[] PROGMEM = {\n    DATA_TEMPO(160), \u002F\u002F Set beats per minute\n    DATA_INSTRUMENT(0, 1), \u002F\u002F Assign instrument 1 (see setSample) to channel 0\n    DATA_INSTRUMENT(1, 1), \u002F\u002F Assign instrument 1 (see setSample) to channel 1\n    DATA_VOLUME(0, 128), \u002F\u002F Set volume 128 to channel 0\n    DATA_VOLUME(1, 128), \u002F\u002F Set volume 128 to channel 1\n    DATA_PLAY(0, NOTE_A4, 1), \u002F\u002F Play note A4 on channel 0 and wait 1 beat \n    DATA_PLAY(1, NOTE_A3, 1), \u002F\u002F Play note A3 on channel 1 and wait 1 beat\n    DATA_WAIT(63), \u002F\u002F Wait 63 beats\n    DATA_END() \u002F\u002F End of data stream\n};\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\nВсе что начинается с DATA_ – препроцессорные макросы, которые разворачивают параметры в необходимое количество байт данных. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНапример, команда DATA_PLAY разворачивается в 2 байта, в которых хранятся: маркер команды (1 бит), пауза перед следующей командой (3 бита), номер канала, на котором играть ноту (4 бита), информация о ноте (8 бит). Самое существенное ограничение – этой командой нельзя делать большие паузы, максимум 7 тактов. Если надо больше, то надо использовать команду DATA_WAIT (до 63 тактов). К сожалению, я так и не нашел, можно ли макрос развернуть в разное количество байт массива в зависимости от параметра макроса. И даже warning не знаю как вывести. Может быть вы подскажите.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EИспользование\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nВ каталоге demos есть несколько примеров под разные микроконтроллеры. Но если коротко, то вот кусок из readme, мне добавить особо нечего:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"cmake\"\u003E#include \"..\u002F..\u002Fmicrosound\u002Fdevices\u002Fatmega8timer1.h\"\n#include \"..\u002F..\u002Fmicrosound\u002Fmicromusic.h\"\n\n\u002F\u002F Make some settings\n#define CHANNELS_SIZE   5\n#define SAMPLES_SIZE    16\n#define USE_NOISE_CHANNEL\n\ninitMusic(); \u002F\u002F Init music data and sound control\nsei(); \u002F\u002F Enable interrupts, silence sound should be generated\nsetSample(0, instrument1); \u002F\u002F Use instrument1 as sample 0\nsetSample(1, instrument2); \u002F\u002F Init all other instruments…\n\nplayMusic(mySong); \u002F\u002F Start playing music at pointer mySong\nwhile (!isMusicStopped) {\n    fillMusicBuffer(); \u002F\u002F Fill music buffer in loop\n    \u002F\u002F Do some other stuff\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\nЕсли хочется еще что-то делать помимо музыки, то можно увеличить размер буфера с помощью BUFFER_SIZE. Размер буфера должен быть 2^n, но, к сожалению, при размере в 256 происходит падение производительности. Пока не разобрался с этим.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДля увеличения производительности можно увеличить частоту внешним кварцем, можно уменьшить количество каналов, можно уменьшить частоту дискретизации. С последним приемом можно использовать линейную интерполяцию, что несколько компенсирует падение качества звука.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВсякие delay не рекомендуется использовать, т.к. процессорное время расходуется впустую. Вместо этого реализован свой метод в файле \u003Ci\u003Emicrosound\u002Fdelay.h\u003C\u002Fi\u003E, который помимо самой паузы занимается наполнением буфера. Данный метод может работать не очень точно на коротких паузах, но на длинных более-менее вменяемо.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EСоздание своей музыки\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nЕсли писать команды вручную, то надо иметь возможность послушать то, что получается. Заливать каждое изменение в микроконтроллер не удобно, особенно если есть альтернатива.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nСуществует довольно забавный сервис \u003Ca href=\"http:\u002F\u002Fwavepot.com\" rel=\"nofollow noopener noreferrer\"\u003Ewavepot.com\u003C\u002Fa\u003E – онлайн редактор JavaScript, в котором надо задать функцию звукового сигнала от времени, и этот сигнал выводится на звуковую карту. Простейший пример:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"javascript\"\u003Efunction dsp(t) {\n  return 0.1 * Math.sin(2 * Math.PI * t * 440);\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\nЯ портировал движок на JavaScript, он находится в \u003Ci\u003Edemos\u002Fwavepot.js\u003C\u002Fi\u003E. Содержимое файла надо вставить в редакторе \u003Ca href=\"http:\u002F\u002Fwavepot.com\" rel=\"nofollow noopener noreferrer\"\u003Ewavepot.com\u003C\u002Fa\u003E и можно проводить эксперименты. Пишем свои данные в массив soundData, слушаем, не забываем сохранять.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nUPD: На данный момент wavepot сильно поменялся и мой код с ним не совместим. Можно локально поднять старую версию с \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fwavepot\u002Fwavep0t\" rel=\"nofollow noopener noreferrer\"\u003Egithub\u003C\u002Fa\u003E, но она работает только с firefox, а в chrome не выводит звук.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nОтдельно стоит упомянуть о переменной simulate8bits. Она, согласно названию, симулирует восьмибитный звук. Если вдруг покажется, что барабаны гудят, а в затухающих инструментах при тихом звуке появляются помехи, то это оно, искажение восьмибитного звука. Можно попробовать отключить эту опцию и послушать разницу. Проблема гораздо менее ощутима, если в музыке нет тишины.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EПодключение\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nВ простом варианте схема выглядит так:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"plaintext\"\u003E+5V    \n ^      MCU\n |   +-------+\n +---+VC     |    R1\n     |    Pin+---\u002F\\\u002F\\--+-----\u003E OUT\n     |       |         |\n +---+GN     |        === C1\n |   +-------+         |\n |                     |\n--- Grnd              --- Grnd\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\nВыходной пин зависит от микроконтроллера. Резистор R1 и конденсатор C1 надо подбирать исходя из нагрузки, усилителя (если есть) и т.д. Я не электронщик и приводить формулы не буду, их легко нагуглить вместе с онлайн калькуляторами. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nУ меня R1 = 130 Ом, С1 = 0.33 мкФ. На выход подключаю обычные китайские наушники. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EЧто там было про 16 битный звук?\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nКак я говорил выше, при умножении двух восьмибитных чисел (частота и громкость) мы получаем 16 битное число. Его можно не округлять до восьмибитного, а выводить оба байта в 2 ШИМ канала. Если эти 2 канала смешать в пропорции 1\u002F256, то мы можем получить 16 битный звук. Разницу с восьмибитным особенно легко услышать на плавно затухающих звуках и барабанах в моменты, когда звучит только один инструмент.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПодключение 16 битного выхода:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"plaintext\"\u003E+5V    \n ^      MCU\n |   +-------+\n +---+VCC    |    R1\n     |   PinH+---\u002F\\\u002F\\--+-----\u003E OUT\n     |       |         |\n     |       |    R2   |\n     |   PinL+---\u002F\\\u002F\\--+\n +---+GND    |         |\n |   +-------+        === C1\n |                     |\n--- Grnd              --- Grnd\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\nЗдесь важно правильно смешать 2 выхода: сопротивление R2 должно быть в 256 раз больше сопротивления R1. Чем точнее, тем лучше. К сожалению, даже резисторы с погрешностью 1% не дают требуемой точности. Однако, даже с не очень точным подбором резисторов искажения можно заметно ослабить. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nК сожалению, при использовании 16 битного звука проседает производительность и 5 каналов + шум уже не успевают обрабатываться за отведенные 256 тактов.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EА на Arduino можно?\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nДа, можно. У меня только китайский клон nano на ATmega328p, на нем работает. Скорее всего другие ардуины на ATmega328p тоже должны работать. ATmega168 вроде бы имеет те же регистры управления таймерами. Скорее всего на них будет работать без изменений. На других микроконтроллерах надо проверять, возможно потребуется дописать драйвер.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ \u003Ci\u003Edemos\u002Farduino328p\u003C\u002Fi\u003E есть скетч, но чтобы он нормально открылся в Arduino IDE, его нужно скопировать в корень проекта. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ примере генерируется 16 битный звук и используются выходы D9 и D10. Для упрощения можно ограничиться 8 битным звуком и использовать только один выход D9.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПоскольку почти все ардуины работают на 16МГц, то, при желании, можно увеличить количество каналов до 8.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EА что с ATtiny?\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nВ ATtiny нет аппаратного умножения. Программное умножение, которое использует компилятор дико медленное и его лучше не использовать. При использовании оптимизированных ассемблерных вставок производительность падает раза в 2 по сравнению с ATmega. Казалось бы, смысла использовать ATtiny нет вообще, но…\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНа некоторых ATtiny есть умножитель частоты, PLL. А это значит, что на таких микроконтроллерах есть 2 интересные особенности:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003EЧастота генератора ШИМ 64МГц, что дает период ШИМ в 250кГц, что гораздо лучше, чем 31250Гц при 8 МГц или 62500Гц с кварцем на 16 МГц на любых ATmega.\u003C\u002Fli\u003E\r\n\u003Cli\u003EЭтот же умножитель частоты позволяет без кварца тактовать кристалл на 16 МГц.\u003C\u002Fli\u003E\r\n\u003C\u002Fol\u003E\u003Cbr\u002F\u003E\r\nОтсюда вывод: некоторые ATtiny использовать для генерации звука можно. Они успевают обрабатывать те же 5 инструментов + шумовой канал, но на 16 МГц и им не нужен внешний кварц.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nМинус в том, что больше частоту уже не повысить, а вычисления занимают почти все время. Для освобождения ресурсов можно уменьшать количество каналов или частоту дискретизации. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЕще один минус в необходимости использования сразу двух таймеров: один для ШИМ, второй для прерывания. На этом, обычно, таймеры и заканчиваются.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nИз известных мне микроконтроллеров с PLL могу упомянуть ATtiny85\u002F45\u002F25 (8 ног), ATtiny861\u002F461\u002F261 (20 ног), ATtiny26 (20 ног). \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЧто касается памяти, то разница с ATmega не велика. В 8кб вполне поместится несколько инструментов и мелодий. В 4кб можно поместить 1-2 инструмента и 1-2 мелодии. В 2 килобайта что-то поместить сложно, но если очень хочется, то можно. Надо разинлайнивать методы, отключать некоторые функции типа контроля громкости по каналам, уменьшать частоту дискретизации и количество каналов. В общем, на любителя, но рабочий пример на ATtiny26 есть.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EПроблемы\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nПроблемы есть. И самая большая проблема – это скорость вычислений. Код полностью написан на C с небольшими ассемблерными вставками умножения для ATtiny. Оптимизация отдается компилятору и он иногда ведет себя странно. При небольших изменениях, которые вроде бы не должны ни на что влиять, можно получить заметное просаживание производительности. Причем изменение с -Os на -O3 не всегда помогает. Один из таких примеров – использование буфера размером 256 байт. Особенно неприятно то, что нет гарантии, что в новых версиях компилятора мы не получим падение производительности на том же коде.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДругая проблема в том, что совсем не реализован механизм затухания перед следующей нотой. Т.е. когда на каком-то канале одна нота сменяется другой, то старое звучание резко прерывается, иногда слышен небольшой щелчок. Хотелось бы найти способ избавиться от этого без потери производительности, но пока так.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНет команд для плавного нарастания\u002Fзатухания громкости. Особенно критично для коротких мелодий-уведомлений, где в конце надо сделать быстрое затухание громкости, чтобы не было резкого обрыва звучания. Частично проблема обходится написанием череды команд с ручной установкой громкости и короткой паузы.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВыбранный подход в принципе не способен обеспечить натуралистичное звучание инструментов. Для более натуралистичного звучания нужно разделить звуки инструментов на attack-sustain-release, использовать хотя бы первые 2 части и с гораздо большей длительностью, чем один период колебания. Но тогда данных для инструмента потребуется гораздо больше. Была идея использовать более короткие волновые таблицы, например в 32 байта вместо 256, но без интерполяции сильно падает качество звука, а с интерполяцией падает производительность. А еще 8 бит дискретизации явно мало для музыки, но это можно обойти.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nРазмер буфера ограничен в 256 сэмплов. Это соответствует примерно 8 миллисекундам и это максимальный цельный промежуток времени, который можно отдать другим задачам. При этом выполнение задач все равно периодически приостанавливается прерываниями.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЗамена стандартного delay работает не очень точно на коротких паузах.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nУверен, что это не полный список.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EСсылки\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fmasyamandev\u002Fmicrosound\" rel=\"nofollow noopener noreferrer\"\u003EСсылка на Github\u003C\u002Fa\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fchipinfo.pro\u002Farticle\u002Fbasics_of_circuitry\u002Fpwm_filter.shtml\" rel=\"nofollow noopener noreferrer\"\u003EРасчет ШИМ фильтра\u003C\u002Fa\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Ca href=\"http:\u002F\u002Felm-chan.org\u002Fworks\u002Fmxb\u002Freport.html\" rel=\"nofollow noopener noreferrer\"\u003EНекоторые идеи и демо мелодию взял отсюда\u003C\u002Fa\u003E\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E\u003C\u002Fdiv\u003E","tags":[{"titleHtml":"микроконтроллеры"},{"titleHtml":"микроконтроллеры avr"},{"titleHtml":"avr"},{"titleHtml":"atmega8"},{"titleHtml":"atmega328p"},{"titleHtml":"attiny85"},{"titleHtml":"attiny45"},{"titleHtml":"arduino"},{"titleHtml":"звук"},{"titleHtml":"музыка"},{"titleHtml":"звук и музыка"},{"titleHtml":"синтезатор"},{"titleHtml":"midi"}],"metadata":{"stylesUrls":[],"scriptUrls":[],"shareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F466121\u002F7ff1d627292f337632a7f4a9c9121960\u002F","shareImageWidth":1200,"shareImageHeight":630,"vkShareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F466121\u002F7ff1d627292f337632a7f4a9c9121960\u002F?format=vk","schemaJsonLd":"{\"@context\":\"http:\\\u002F\\\u002Fschema.org\",\"@type\":\"Article\",\"mainEntityOfPage\":{\"@type\":\"WebPage\",\"@id\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Farticles\\\u002F466121\\\u002F\"},\"headline\":\"Генерация звука на микроконтроллерах AVR методом волновых таблиц с поддержкой полифонии\",\"datePublished\":\"2019-09-04T10:01:32+03:00\",\"dateModified\":\"2021-08-27T09:05:03+03:00\",\"author\":{\"@type\":\"Person\",\"name\":\"masyaman\"},\"publisher\":{\"@type\":\"Organization\",\"name\":\"Habr\",\"logo\":{\"@type\":\"ImageObject\",\"url\":\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fa_\\\u002Flk\\\u002F9m\\\u002Fa_lk9mjkccjox-zccjrpfolmkmq.png\"}},\"description\":\"Микроконтроллеры AVR довольно дешевы и широко распространены. Наверно, с них начинает почти любой embedded разработчик. А среди любителей правит балом Arduino, с...\",\"url\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Farticles\\\u002F466121\\\u002F#post-content-body\",\"about\":[\"h_c\",\"h_controllers\",\"h_sound\",\"f_develop\",\"f_popsci\"],\"image\":[\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fpn\\\u002Fdp\\\u002Fpi\\\u002Fpndppihozomu4ep_fxzcho44xx8.png\"]}","metaDescription":"Микроконтроллеры AVR довольно дешевы и широко распространены. Наверно, с них начинает почти любой embedded разработчик. А среди любителей правит балом Arduino, сердцем которого обычно является...","mainImageUrl":null,"amp":false,"customTrackerLinks":[]},"polls":[],"commentsEnabled":{"status":true,"reason":null},"rulesRemindEnabled":false,"votesEnabled":true,"status":"published","plannedPublishTime":null,"checked":null,"hasPinnedComments":false,"format":null,"banner":null,"multiwidget":null,"readingTime":12,"complexity":null,"isEditorial":false}},"articlesIds":{},"isLoading":false,"pagesCount":{},"route":{},"reasonsList":null,"postReasonsList":null,"view":"cards","lastVisitedRoute":{},"ssrCommentsArticleIds":["466121","807507","807299","394529","254035","779832","162723","390601","442262","796087"],"viewedPosts":[],"myFeedFilter":{"complexity":"all","score":"all","types":["articles","posts","news"]},"karma":{"userReasonsList":null}},"authorContribution":{"authors":{}},"betaTest":{"currentAnnouncement":null,"announcements":{},"announcementCards":null,"announcementComments":{},"announcementCommentThreads":{},"announcementCommentingStatuses":{},"archivedList":[]},"authorStatistics":{"articleRefs":{},"articleIds":{},"pagesCount":{},"route":{},"viewsCount":[],"maxStatsCount":{}},"career":{"seoLandings":[{"title":"Программист С","vacanciesCount":46,"itemUrl":"https:\u002F\u002Fcareer.habr.com\u002Fvacancies\u002Fprogrammist_c","itemHubs":["c"]}],"hubs":"c,controllers,sound"},"comments":{"articleComments":{"466121":{"refs":{"20585141":{"id":"20585141","parentId":null,"level":0,"timePublished":"2019-09-04T07:42:17+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EКласс! Отличная статья, всё очень хорошо описано!\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"387100","alias":"FDA","fullname":"Фролов Дмитрий","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F50b\u002F977\u002F59c\u002F50b97759c63aad590f184674fa904878.jpg","speciality":"Инженер-системотехник"},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":[],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20585185":{"id":"20585185","parentId":null,"level":0,"timePublished":"2019-09-04T07:48:02+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":-3,"votesCount":7,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003Cp\u003EВсе это конечно замечательно. НО зачем?\u003C\u002Fp\u003E\u003Cbr\u002F\u003E\r\n\u003Cp\u003EЦена, размер корпуса да и потребление в этом режиме 32-х битных контроллеров практически те же что и на ATMega. \u003C\u002Fp\u003E\u003Cbr\u002F\u003E\r\n\u003Cp\u003EПочему все так упорно пользуются древними ATMega?\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"905785","alias":"mmMike","fullname":"Михаил Кнутарев","avatarUrl":null,"speciality":null},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":["20585233"],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20585233":{"id":"20585233","parentId":"20585185","level":1,"timePublished":"2019-09-04T07:58:08+00:00","timeChanged":"2019-09-04T07:58:46+00:00","isSuspended":false,"status":"published","score":2,"votesCount":4,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EATMega, да и вообще все AVR, обладают огромным преимуществом перед 32-битными МК в плане обучения и легкости вхождения в работу с ними. Сколько всего надо прописать в исходник чтоб заставить хотя бы помигать светодиодом на каком-нибудь STM32? И сравнить это с аналогичным решением на AVR.\u003Cbr\u002F\u003E\r\nНу а те кому перестанет хватать мощности ATMega, с полученным багажом знаний уже можно переходить на STM32 и иже с ними.\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"689435","alias":"acin","fullname":null,"avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F2cd\u002Fdc6\u002F377\u002F2cddc637710df3e6d4a46b28f1dad1df.jpg","speciality":"Инженер-аналитик"},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":["20585323","20585337","20586855"],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20585247":{"id":"20585247","parentId":null,"level":0,"timePublished":"2019-09-04T08:01:10+00:00","timeChanged":null,"isSuspended":false,"status":"author_deactivated","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EНЛО прилетело и опубликовало эту надпись здесь\u003C\u002Fdiv\u003E","editorVersion":0,"author":{},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":["20585313"],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":false},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":false},"isPinned":false},"20585313":{"id":"20585313","parentId":"20585247","level":1,"timePublished":"2019-09-04T08:16:07+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003Cp\u003EИз вики:\u003C\u002Fp\u003E\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003EWavetable synthesis is fundamentally based on periodic reproduction of an arbitrary, single-cycle waveform.\u003C\u002Fblockquote\u003E\u003Cp\u003EПо сути, тут периодическая функция — это не совсем функция, а как раз таблица значений амплитуды, 256 значений на период. А еще она работает не сама по себе, а в паре с функцией громкости от времени, которая тоже яавляется таблицей значений.\u003Cbr\u002F\u003E\r\nВозможно, существует более подходящий термин, но я его не знаю. \u003C\u002Fp\u003E\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"116188","alias":"masyaman","fullname":null,"avatarUrl":null,"speciality":"Пользователь"},"isAuthor":false,"isPostAuthor":true,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":["20585361"],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20585323":{"id":"20585323","parentId":"20585233","level":2,"timePublished":"2019-09-04T08:19:19+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":2,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003Cblockquote\u003EСколько всего надо прописать в исходник чтоб заставить хотя бы помигать светодиодом на каком-нибудь STM32? \u003C\u002Fblockquote\u003E\u003Cp\u003EНемного… (инициализация шаблонно). Если через напрямую в стиле \"записать в порт\" то практически столько же как на AT \u003Ccode\u003EDDRD |= _BV(PD0); PORTD &amp;= ~_BV(PD0);\u003C\u002Fcode\u003E\u003Cbr\u002F\u003E\r\n(что не очень хороший стиль. ибо код не переносим может оказаться)\u003C\u002Fp\u003E\u003Cbr\u002F\u003E\r\n\u003Cp\u003EЗа то проблемы \"остается немного времени на анимацию на дисплее\" не беспокоят.\u003C\u002Fp\u003E\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"plaintext\"\u003E#define DBG_LED_PIN GPIO_Pin_13\n#define DBG_LED_PORT GPIOC\n.....\n        GPIO_InitTypeDef GPIO_InitStructure;\n    GPIO_InitStructure.GPIO_Speed = GPIO_Speed_10MHz;\n    GPIO_InitStructure.GPIO_Mode = GPIO_Mode_Out_OD;\n    GPIO_InitStructure.GPIO_Pin = DBG_LED_PIN; GPIO_Init(DBG_LED_PORT, &amp;GPIO_InitStructure);\n.....\n\u002F\u002FGPIO_SetBits(DBG_LED_PORT, DBG_LED_PIN); GPIO_ResetBits(DBG_LED_PORT, DBG_LED_PIN);\n        if ( flip ) {\n            DBG_LED_PORT-\u003EBSRR = DBG_LED_PIN; \n        } else {\n            DBG_LED_PORT-\u003EBRR = DBG_LED_PIN;\n        }\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\n\u003Cp\u003EИ да. \"Наверно, с них начинает почти любой embedded разработчик.\" не совсем правильное утверждение. Если, конечно, под \"embedded разработчик\" не понимать \"я тут светодиодом помигал\".\u003C\u002Fp\u003E\u003Cbr\u002F\u003E\r\n\u003Cp\u003EДокументация от STM ничем не сложнее чем от Atmel. \u003C\u002Fp\u003E\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"905785","alias":"mmMike","fullname":"Михаил Кнутарев","avatarUrl":null,"speciality":null},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":["20588709"],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20585337":{"id":"20585337","parentId":"20585233","level":2,"timePublished":"2019-09-04T08:22:03+00:00","timeChanged":null,"isSuspended":false,"status":"author_deactivated","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EНЛО прилетело и опубликовало эту надпись здесь\u003C\u002Fdiv\u003E","editorVersion":0,"author":{},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":["20585497","20587113"],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":false},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":false},"isPinned":false},"20585361":{"id":"20585361","parentId":"20585313","level":2,"timePublished":"2019-09-04T08:27:27+00:00","timeChanged":null,"isSuspended":false,"status":"author_deactivated","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EНЛО прилетело и опубликовало эту надпись здесь\u003C\u002Fdiv\u003E","editorVersion":0,"author":{},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":["20585401","20585473"],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":false},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":false},"isPinned":false},"20585401":{"id":"20585401","parentId":"20585361","level":3,"timePublished":"2019-09-04T08:36:29+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003Cp\u003EСпасибо за комментарий. Возможно, стоит как-то переименовать заголовок, чтобы не смущать тех, кто в теме. Я старался упростить для тех, кто не в теме, и описал только то, что используется.\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"116188","alias":"masyaman","fullname":null,"avatarUrl":null,"speciality":"Пользователь"},"isAuthor":false,"isPostAuthor":true,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":[],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20585473":{"id":"20585473","parentId":"20585361","level":3,"timePublished":"2019-09-04T08:56:05+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003E фаза sustain требуется не всегда\u003Cbr\u002F\u003E\r\nона может формально присутствовать, но иметь нулевую продолжлительность\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"1346684","alias":"a-tk","fullname":"Алексей Ткаченко","avatarUrl":null,"speciality":"Разработчик ПО"},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":[],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20585497":{"id":"20585497","parentId":"20585337","level":3,"timePublished":"2019-09-04T08:58:56+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EСправедливости ради, у ti есть несколько ланчпэдов, в том числе и с 32битными чипами, поддерживаемые Ардуино-подобной ИДЕшкой Energia.\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"689435","alias":"acin","fullname":null,"avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F2cd\u002Fdc6\u002F377\u002F2cddc637710df3e6d4a46b28f1dad1df.jpg","speciality":"Инженер-аналитик"},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":["20585525"],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20585525":{"id":"20585525","parentId":"20585497","level":4,"timePublished":"2019-09-04T09:05:31+00:00","timeChanged":null,"isSuspended":false,"status":"author_deactivated","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EНЛО прилетело и опубликовало эту надпись здесь\u003C\u002Fdiv\u003E","editorVersion":0,"author":{},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":["20585577"],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":false},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":false},"isPinned":false},"20585577":{"id":"20585577","parentId":"20585525","level":5,"timePublished":"2019-09-04T09:19:25+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EМенеджер есть, от ардуины не подходят.\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"689435","alias":"acin","fullname":null,"avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F2cd\u002Fdc6\u002F377\u002F2cddc637710df3e6d4a46b28f1dad1df.jpg","speciality":"Инженер-аналитик"},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":[],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20585667":{"id":"20585667","parentId":null,"level":0,"timePublished":"2019-09-04T10:10:57+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":2,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003Ca href=\"http:\u002F\u002Fwww.1bitsymphony.com\u002F\"\u003Ewww.1bitsymphony.com\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nО чо вспомнил!\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fgetpro\u002Fhabr\u002Fcomment_images\u002F80f\u002F38c\u002F5db\u002F80f38c5db1619a5191b916a864d05fcc.jpg\" alt=\"image\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fcomment_images\u002F80f\u002F38c\u002F5db\u002F80f38c5db1619a5191b916a864d05fcc.jpg\" data-blurred=\"true\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВесьма кстати интересный альбом с точки зрения минимализма.\u003Cbr\u002F\u003E\r\nНе чиптюн и прочие марио.\u003Cbr\u002F\u003E\r\nЖаль, что автор перестал продавать ассемблированый листинг с албомом и бинарник прошивки я так и не нашел\u003Cbr\u002F\u003E\r\nА то я хотел сделать его альбом в виде кирпича из эпоксидки с солнечной батарей, шоб жило веками. =)\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"1452074","alias":"juramehanik","fullname":null,"avatarUrl":null,"speciality":null},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":["20585741","20585759"],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20585679":{"id":"20585679","parentId":null,"level":0,"timePublished":"2019-09-04T10:12:53+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EПару раз делал подобное, каждый раз расстраивало то, что ЦАП на ШИМ заметно свистит, причём не ожидаемая несущая, которую можно задавить ФНЧ, а разные высокие частоты в слышимом диапазоне в зависимости от проигрываемого звука (одиночных нот).\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДля подавления щелчков делал такое простое решение: в момент выключения сэмпла запоминаем последнее выходное значение в переменную, которую добавляем к выводу, как ещё один канал, и плавно приводим её к 0 за короткое время. Если выход стерео, надо по переменной для каждого канала, а для моно хватит и одной на все каналы. То есть не фейдим продолжающий звучать сэмпл по честному (нужны умножения и больше каналов), а как бы компенсируем смещение нулевой амплитуды (нужно условие и декремент).\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"1819357","alias":"shiru8bit","fullname":"Александр Семенов","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fb8d\u002Fbc5\u002F9f1\u002Fb8dbc59f16b034a5b569c4da62345d08.gif","speciality":"Узкий специалист широкого профиля"},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":["20585921"],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20585711":{"id":"20585711","parentId":null,"level":0,"timePublished":"2019-09-04T10:21:06+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003Cblockquote\u003EЕсли посмотреть на существующие проекты, то они бывают нескольких типов:\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\nвы забыли (сомневаюсь, что не знали) COVOX \u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fcommons.wikimedia.org\u002Fwiki\u002FFile:Covox-Stecker.svg?uselang=ru\" alt=\"image\"\u002F\u003E\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"1253538","alias":"reticular","fullname":null,"avatarUrl":null,"speciality":null},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":["20585935"],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20585717":{"id":"20585717","parentId":null,"level":0,"timePublished":"2019-09-04T10:22:38+00:00","timeChanged":"2019-09-04T10:25:25+00:00","isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EОтличная статья, спасибо!\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nОднако к ATTINY-25\u002F4585 можно подключить SD и через PWM вполне нормально \u003Ca href=\"http:\u002F\u002Felm-chan.org\u002Fworks\u002Fsd8p\u002Freport.html\"\u003Eиграть\u003C\u002Fa\u003E WAV-ки с частотой до 32000 гц :)\u003Cbr\u002F\u003E\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"30544","alias":"ionicman","fullname":"ionicman","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fa47\u002F13d\u002F85d\u002Fa4713d85db515de384dd4b35b39959e7.jpg","speciality":null},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":["20585949"],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20585741":{"id":"20585741","parentId":"20585667","level":1,"timePublished":"2019-09-04T10:27:19+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":2,"votesCount":2,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EЗвучит оно ужасно, ИМХО )\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"30544","alias":"ionicman","fullname":"ionicman","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fa47\u002F13d\u002F85d\u002Fa4713d85db515de384dd4b35b39959e7.jpg","speciality":null},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":[],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20585759":{"id":"20585759","parentId":"20585667","level":1,"timePublished":"2019-09-04T10:29:46+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EАвтор расстраивает других минималистов, которые понаписали и понаделали десятки альбомов (чиптюн и прочие марио) и сотни листингов, а никто и не знает. Поверхностно:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ca href=\"http:\u002F\u002Fz80.i-demo.pl\u002F\"\u003Ez80.i-demo.pl\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\n\u003Ca href=\"http:\u002F\u002Fshiru.untergrund.net\u002F1bit\u002F\"\u003Eshiru.untergrund.net\u002F1bit\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\n\u003Ca href=\"http:\u002F\u002Frandomflux.info\u002F1bit\u002F\"\u003Erandomflux.info\u002F1bit\u003C\u002Fa\u003E\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"1819357","alias":"shiru8bit","fullname":"Александр Семенов","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fb8d\u002Fbc5\u002F9f1\u002Fb8dbc59f16b034a5b569c4da62345d08.gif","speciality":"Узкий специалист широкого профиля"},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":[],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20585921":{"id":"20585921","parentId":"20585679","level":1,"timePublished":"2019-09-04T11:01:45+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003Cp\u003EРешение со щелчками на поверхности, я его даже реализовывал, но оно все-таки просаживало производительность. В какой-то момент я делал рефакторинг кода и оно мешало, убрал. Обратно запиливать не стал. В планах все-таки попробовать плавно уменьшать громкость перед следующей нотой, но там пока не очень очевидно как это сделать хорошо.\u003C\u002Fp\u003E\u003Cbr\u002F\u003E\r\n\u003Cp\u003EПо поводу PWM — да, проблема есть. Но в коде именно за вывод звука отвечает драйвер (каталог microsound\u002Fdevices), можно что-то другое подключить. Covox, например, как советуют ниже.\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"116188","alias":"masyaman","fullname":null,"avatarUrl":null,"speciality":"Пользователь"},"isAuthor":false,"isPostAuthor":true,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":["20585993","20586833"],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20585935":{"id":"20585935","parentId":"20585711","level":1,"timePublished":"2019-09-04T11:04:40+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003Cp\u003EКартинка не вставилась.\u003Cbr\u002F\u003E\r\nНо идея хороша, можете попробовать :)\u003Cbr\u002F\u003E\r\nНадо написать драйвер (каталог microsound\u002Fdevices) и там просто выводить значение в порт.\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"116188","alias":"masyaman","fullname":null,"avatarUrl":null,"speciality":"Пользователь"},"isAuthor":false,"isPostAuthor":true,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":[],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20585949":{"id":"20585949","parentId":"20585717","level":1,"timePublished":"2019-09-04T11:07:39+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003Cp\u003EО такой возможности я писал во вступлении.\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"116188","alias":"masyaman","fullname":null,"avatarUrl":null,"speciality":"Пользователь"},"isAuthor":false,"isPostAuthor":true,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":[],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20585955":{"id":"20585955","parentId":null,"level":0,"timePublished":"2019-09-04T11:08:46+00:00","timeChanged":"2019-09-04T11:10:20+00:00","isSuspended":false,"status":"published","score":2,"votesCount":2,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EПри таблично-волновом синтезе есть проблема при использовании единственной таблицы так как при ускоренном проигрывании семплов из таблицы верхние гармоники могут подниматься в зону частот выше частоты Найквиста, поэтому возникает алиазинг. Используете ли вы одну волновую таблицу для всех частот или как-то решаете эту проблему? Используется ли интерполяция между значений соседних семплов?\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"86061","alias":"Mutexre","fullname":null,"avatarUrl":null,"speciality":null},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":["20585985","20586315"],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20585985":{"id":"20585985","parentId":"20585955","level":1,"timePublished":"2019-09-04T11:17:14+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003Cp\u003EИспользую одну таблицу. Но можно сделать и несколько с той же производительностью. Когда начинает играть следующая нота, то вызывается функция инструмента и там можно выбрать необходимый массив в зависимости от заданой ноты.\u003C\u002Fp\u003E\u003Cbr\u002F\u003E\r\n\u003Cp\u003EИнтерполяцию значений между семплами можно включить (директива INTERPOLATE_WAVE), но производительность падает. Решил просто использовать более длинную таблицу в 256 значений, а интерполяцию провести перед помещением данных в таблицу.\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"116188","alias":"masyaman","fullname":null,"avatarUrl":null,"speciality":"Пользователь"},"isAuthor":false,"isPostAuthor":true,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":["20586011"],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20585993":{"id":"20585993","parentId":"20585921","level":2,"timePublished":"2019-09-04T11:19:03+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EУменьшение громкости без увеличения полифонии я пробовал — на этапе препроцессинга уменьшал длительности слитных нот на пару кадров, и все ноты играли с коротким фейдом в конце. В принципе это помогает, но либо щелчки всё же проскакивают (недостаточное уменьшение длительности, затухание не всегда заканчивается), либо это начинает довольно заметно влиять на звучание, теряется атака и читаемость партий со слитными нотами, например непрерывного басового галопа или элементарного октавного шагающего баса. Но это лучше, чем щелчки, просто нужно учитывать при выборе\u002Fнаписании музыки.\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"1819357","alias":"shiru8bit","fullname":"Александр Семенов","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fb8d\u002Fbc5\u002F9f1\u002Fb8dbc59f16b034a5b569c4da62345d08.gif","speciality":"Узкий специалист широкого профиля"},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":[],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20586011":{"id":"20586011","parentId":"20585985","level":2,"timePublished":"2019-09-04T11:23:00+00:00","timeChanged":"2019-09-04T11:23:15+00:00","isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EПонятно, спасибо ) Интересно было бы измерить уровень искажений в зависимости от того используется ли одна таблица или отдельная таблица для каждой ноты, применяется или не применяется интерполяция. Понятно что из-за ограничений на ресурсы AVR сложно воспроизвести сигнал совсем без искажений.\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"86061","alias":"Mutexre","fullname":null,"avatarUrl":null,"speciality":null},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":["20586123"],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20586033":{"id":"20586033","parentId":null,"level":0,"timePublished":"2019-09-04T11:25:31+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EВспомнилось, что подобный программный табличный синтезатор был сделан в начале 2000-х в поздних телефонах с определителем номера, на 51-ом контроллере на 8 МГц. Шесть голосов \u003Ca href=\"https:\u002F\u002Fyoutu.be\u002FXqA36D1XH28?t=570\"\u003Eс довольно приличным звучанием\u003C\u002Fa\u003E.\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"1819357","alias":"shiru8bit","fullname":"Александр Семенов","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fb8d\u002Fbc5\u002F9f1\u002Fb8dbc59f16b034a5b569c4da62345d08.gif","speciality":"Узкий специалист широкого профиля"},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":["20588091"],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20586123":{"id":"20586123","parentId":"20586011","level":3,"timePublished":"2019-09-04T11:41:08+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003Cp\u003EПроект на гитхабе, можете попробовать померять.\u003Cbr\u002F\u003E\r\nУкажите 3 канала вместо 5 и можно включить интерполяцию. Или использовать Arduino на 16МГц как самый простой вариант.\u003C\u002Fp\u003E\u003Cbr\u002F\u003E\r\n\u003Cp\u003EКак мне кажется, смысла хранить по таблице для каждой ноты нет. Можно попробовать хранить по таблице на октаву. В каждой следующей уменьшать количество гармоник вдвое путем выбрасывания половины сэмплов а потом интерполировать обратно до 256 сэмплов. Это как самый простой вариант.\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"116188","alias":"masyaman","fullname":null,"avatarUrl":null,"speciality":"Пользователь"},"isAuthor":false,"isPostAuthor":true,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":["20586797"],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20586315":{"id":"20586315","parentId":"20585955","level":1,"timePublished":"2019-09-04T12:27:07+00:00","timeChanged":null,"isSuspended":false,"status":"author_deactivated","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EНЛО прилетело и опубликовало эту надпись здесь\u003C\u002Fdiv\u003E","editorVersion":0,"author":{},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":[],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":false},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":false},"isPinned":false},"20586797":{"id":"20586797","parentId":"20586123","level":4,"timePublished":"2019-09-04T14:20:52+00:00","timeChanged":"2019-09-04T14:26:14+00:00","isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EДавайте рассмотрим такой случай. Допустим нужно воспроизвести сигнал с частотой f такой что количество гармоник ниже частоты Найквеста равно 100. Если хранить bandlimited таблицы на каждую октаву то получиться что в двух соседних таблицах будет 64 и 128 гармоник. Если выбрать первую таблицу то на выходе будет не хватать 36 верхних гармоник, если вторую, то верхние 28 будут вносить вклад в aliasing. Поэтому в идеальном случае нужна таблица на каждое количество гармоник попадающих в выходной сигнал. Если минимальная частота ноты 100 Гц, то при частоте дискретизации 44100 Гц, количество таблиц для квадратной волны будет 22050 \u002F 100 = 220, что довольно много. И при уменьшении минимальной частоты количество будет расти как 1 \u002F freq.\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"86061","alias":"Mutexre","fullname":null,"avatarUrl":null,"speciality":null},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":[],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20586833":{"id":"20586833","parentId":"20585921","level":2,"timePublished":"2019-09-04T14:27:35+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003Cp\u003EСледите за фазой на стыке нот\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"572715","alias":"basilbasilbasil","fullname":"Basil","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F18c\u002F135\u002F010\u002F18c13501063f9683877225610510ac17.jpg","speciality":"Пользователь ProAudio"},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":[],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20586855":{"id":"20586855","parentId":"20585233","level":2,"timePublished":"2019-09-04T14:31:28+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":1,"votesCount":1,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E1) Скачать и установить CubeMX\u003Cbr\u002F\u003E\r\n2) Скачать на выбор одну из IDE, которую этот CubeMX умеет.\u003Cbr\u002F\u003E\r\n3) В CubeMX установить (в один клик почти) поддержку желаемого семейства камней.\u003Cbr\u002F\u003E\r\n4) В красивом и безобразно простом GUI интерфейсе выставить какие пины используем.\u003Cbr\u002F\u003E\r\n5) Настроить тактирование (или забить на это, всёравно оно будет настроено), кем и откуда, ну и ввести частоту — куб всё сам сделает\u003Cbr\u002F\u003E\r\n6) Нажать кнопочку Generate\u003Cbr\u002F\u003E\r\n7) Откроется IDE, в которой в цикл while(1) написать что-то типа\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"cpp\"\u003EHAL_GPIO_TogglePin(MYLED_Port, MYLED_Pin);\nHAL_Delay(500);\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\n8) Настроить программатор (тут от IDE зависит) — тоже пара кликов.\u003Cbr\u002F\u003E\r\n9) Нажать кнопочку «Собери мне это и запусти»\u003Cbr\u002F\u003E\r\n10) Насладиться мигающим светодиодом.\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"34901","alias":"JerleShannara","fullname":"Эл Кохолик","avatarUrl":null,"speciality":"Пользователь компьютера"},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":["20589597"],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20586977":{"id":"20586977","parentId":null,"level":0,"timePublished":"2019-09-04T15:09:41+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003Cp\u003EСпектрумом повеяло:) \u003C\u002Fp\u003E\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"2124695","alias":"shiotiny","fullname":null,"avatarUrl":null,"speciality":"Пользователь"},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":[],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20587025":{"id":"20587025","parentId":null,"level":0,"timePublished":"2019-09-04T15:25:07+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EА чем мелодии конвертировали\u002Fсоздавали, неужели ручками? Есть какие-то конверторы готовые из MIDI?\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"164872","alias":"madf","fullname":null,"avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F488\u002F5bc\u002Fbc1\u002F4885bcbc1cae6f81e2406fe180f08ee7.jpg","speciality":null},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":["20587109"],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20587109":{"id":"20587109","parentId":"20587025","level":1,"timePublished":"2019-09-04T15:51:29+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003Cp\u003EОдну мелодию, там где много инструментов, я брал из своего старого проекта. Помню, что накидал данные в csv (строки — такты, столбцы — команды, подобно трекерной музыке) и потом перегнал в команды простым самописным конвертором. Конвертор уже где-то потерялся, но его не особо сложно написать заново.\u003Cbr\u002F\u003E\r\nВторую мелодию позаимствовал из проэкта музкальной шкатулки, в ссылках есть. Опять же, наколеночный конвертор, показывать стыдно.\u003Cbr\u002F\u003E\r\nКоротенькие уведомления писал руками и тестировал в wavepot.\u003C\u002Fp\u003E\u003Cbr\u002F\u003E\r\n\u003Cp\u003EПисать конвертор из midi нет желания и вряд ли получится. Слишком специфические инструменты, ограничение на количество каналов и дискретизацию по тактам. Я думаю, что проще из трекерной музыки (например mod) конвертировать, но и там будет специфика.\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"116188","alias":"masyaman","fullname":null,"avatarUrl":null,"speciality":"Пользователь"},"isAuthor":false,"isPostAuthor":true,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":["20588929"],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20587113":{"id":"20587113","parentId":"20585337","level":3,"timePublished":"2019-09-04T15:52:58+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003Cp\u003EАрдуино умеет не только в avr, а, скажем, stm32 и esp32 — тоже\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"1153910","alias":"romanetz_omsk","fullname":null,"avatarUrl":null,"speciality":null},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":["20587169"],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20587169":{"id":"20587169","parentId":"20587113","level":4,"timePublished":"2019-09-04T16:13:26+00:00","timeChanged":null,"isSuspended":false,"status":"author_deactivated","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EНЛО прилетело и опубликовало эту надпись здесь\u003C\u002Fdiv\u003E","editorVersion":0,"author":{},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":[],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":false},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":false},"isPinned":false},"20587513":{"id":"20587513","parentId":null,"level":0,"timePublished":"2019-09-04T18:25:09+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":1,"votesCount":1,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EНе хватает ссылок на \u003Ca href=\"https:\u002F\u002Fdlscrib.com\u002Fqueue\u002Fdesigning-sound-andy-farnell-pdf_58876fac6454a74e573668f2_pdf\"\u003EAndy Farnell\u003C\u002Fa\u003E — \u003Ca href=\"http:\u002F\u002Faspress.co.uk\u002Fsd\u002F\"\u003EDesigning Sound\u003C\u002Fa\u003E и на программный синтез звука \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F348036\u002F\"\u003E1\u003C\u002Fa\u003E, \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F348192\u002F\"\u003E2\u003C\u002Fa\u003E\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"483660","alias":"kovserg","fullname":null,"avatarUrl":null,"speciality":null},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":[],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20588091":{"id":"20588091","parentId":"20586033","level":1,"timePublished":"2019-09-05T00:44:16+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003Cp\u003EНе могу открыть ссылку на работе, но почему-то более чем уверен, что там Русь-28\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"69230","alias":"vladkorotnev","fullname":"Ak.R.","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fef0\u002F985\u002F55d\u002Fef098555d0c26679f92fdef783a3b3dd.png","speciality":"iOS\u002FMac\u002FWeb\u002FZ80Asm"},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":[],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20588629":{"id":"20588629","parentId":null,"level":0,"timePublished":"2019-09-05T06:53:12+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EЗнающие люди, подскажите…\u003Cbr\u002F\u003E\r\nДавно морочюсь идеей, сделать проигрыватель для винила из оптической мышки. В режиме сканера декодить изображение и получать из него звук. Куда копать?\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"47266","alias":"WebMonet","fullname":"Makc (AnyKey)","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fb28\u002F1d7\u002F3ea\u002Fb281d73eabd72ee073f6cdd2a31c8f52.png","speciality":"Пользователь"},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":["20588893","20590307","20590477"],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20588709":{"id":"20588709","parentId":"20585323","level":3,"timePublished":"2019-09-05T07:10:50+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EНу, как бы не совсем так. Сначала надо раскочегарить ядро, выставить всяческие делители клоков, включить PLL, подождать пока он стабилизируется, подать клоки на периферию, а уж потооооом… можно ногами шевелить\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"785959","alias":"EGregor_IV","fullname":null,"avatarUrl":null,"speciality":null},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":["20588733"],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20588733":{"id":"20588733","parentId":"20588709","level":4,"timePublished":"2019-09-05T07:16:45+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003Cp\u003EЭто шаблонный код, кочующий из проект в проект. И не так что бы сложный для понимания.\u003Cbr\u002F\u003E\r\nЕсли не интересует потребление, то можно вообще все модули включить.\u003C\u002Fp\u003E\u003Cbr\u002F\u003E\r\n\u003Cp\u003EЧем мне не нравится Arduino как концепция… Кто то дернул чью то библиотеку (зачастую корявую и на оптимизированную) и все. Эмбедет разработчик в резюме.\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"905785","alias":"mmMike","fullname":"Михаил Кнутарев","avatarUrl":null,"speciality":null},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":["20589583"],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20588893":{"id":"20588893","parentId":"20588629","level":1,"timePublished":"2019-09-05T07:51:13+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EИдея конечно интересная, но сенсор оптической мышки содержит не только камеру, но и DSP, который наружу выдаёт только дельту перемещения, а не сам снимок поверхности. Т.е. можно определить, в какую сторону вращается пластинка, но и только.\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"1819357","alias":"shiru8bit","fullname":"Александр Семенов","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fb8d\u002Fbc5\u002F9f1\u002Fb8dbc59f16b034a5b569c4da62345d08.gif","speciality":"Узкий специалист широкого профиля"},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":["20589027"],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20588929":{"id":"20588929","parentId":"20587109","level":2,"timePublished":"2019-09-05T07:58:47+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EМожно и mod — это неважно, главное минимум ручной работы. :) А то сидеть перебивать ручками с нотного стана — не комильфо.\u003Cbr\u002F\u003E\r\nЗа статью спасибо.\u003Cbr\u002F\u003E\r\nПытался делать нечто подобное, но без ШИМ-а аппаратного, чтобы не было привязки к ногам МК, упирается всё конечно в производительность. \u003Cbr\u002F\u003E\r\nНа счет занимать МК ещё другими задачами — необязательно, особенно, если делать на Тиньках, можно считать данное решение как «музыкальный сопроцессор», синтезатор. :)\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"164872","alias":"madf","fullname":null,"avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F488\u002F5bc\u002Fbc1\u002F4885bcbc1cae6f81e2406fe180f08ee7.jpg","speciality":null},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":[],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20589027":{"id":"20589027","parentId":"20588893","level":2,"timePublished":"2019-09-05T08:15:01+00:00","timeChanged":null,"isSuspended":false,"status":"author_deactivated","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EНЛО прилетело и опубликовало эту надпись здесь\u003C\u002Fdiv\u003E","editorVersion":0,"author":{},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":["20589119"],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":false},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":false},"isPinned":false},"20589119":{"id":"20589119","parentId":"20589027","level":3,"timePublished":"2019-09-05T08:35:08+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EИнтересно, не знал. Погуглил, всё равно очень много сомнений, что что-то получится. Чтение растра там реализовано в отладочных целях, читается один пиксель за кадр (324 кадра для чтения всей матрицы), и для канавки нужно разрешение порядка 0.015 мм (стандарт точки касания для иглы LP), а у сенсора размер пикселя непонятный (не пишут), но в штатной конструкции без дополнительных линз явно сильно больше.\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"1819357","alias":"shiru8bit","fullname":"Александр Семенов","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fb8d\u002Fbc5\u002F9f1\u002Fb8dbc59f16b034a5b569c4da62345d08.gif","speciality":"Узкий специалист широкого профиля"},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":[],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20589583":{"id":"20589583","parentId":"20588733","level":5,"timePublished":"2019-09-05T10:04:07+00:00","timeChanged":null,"isSuspended":false,"status":"author_deactivated","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EНЛО прилетело и опубликовало эту надпись здесь\u003C\u002Fdiv\u003E","editorVersion":0,"author":{},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":[],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":false},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":false},"isPinned":false},"20589597":{"id":"20589597","parentId":"20586855","level":3,"timePublished":"2019-09-05T10:05:25+00:00","timeChanged":null,"isSuspended":false,"status":"author_deactivated","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EНЛО прилетело и опубликовало эту надпись здесь\u003C\u002Fdiv\u003E","editorVersion":0,"author":{},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":["20590295"],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":false},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":false},"isPinned":false},"20590295":{"id":"20590295","parentId":"20589597","level":4,"timePublished":"2019-09-05T12:30:40+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EГугл мне в ответ приводит 100500 уроков\u002Fбиблиотек\u002Fтем на форумах и т.п. Не вижу принципиально никаких отличий от AVR. Если мы приплетаем ардуину(чур меня!), то оная зараза и на STM32 есть.\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"34901","alias":"JerleShannara","fullname":"Эл Кохолик","avatarUrl":null,"speciality":"Пользователь компьютера"},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":["20590323"],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20590307":{"id":"20590307","parentId":"20588629","level":1,"timePublished":"2019-09-05T12:32:31+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EЗатея гиблая, можете почитать, как «хорошо» работали лазерные проигрыватели винила в 80ые и как для них приходилось вычищать пластинки.\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"34901","alias":"JerleShannara","fullname":"Эл Кохолик","avatarUrl":null,"speciality":"Пользователь компьютера"},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":[],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20590323":{"id":"20590323","parentId":"20590295","level":5,"timePublished":"2019-09-05T12:35:18+00:00","timeChanged":"","isSuspended":false,"status":"author_deactivated","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EНЛО прилетело и опубликовало эту надпись здесь\u003C\u002Fdiv\u003E","editorVersion":0,"author":{},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":["20590675"],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":false},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":false},"isPinned":false},"20590477":{"id":"20590477","parentId":"20588629","level":1,"timePublished":"2019-09-05T13:05:43+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003Cdiv class=\"spoiler\"\u003E\u003Cb class=\"spoiler_title\"\u003EНа память себе\u003C\u002Fb\u003E\u003Cdiv class=\"spoiler_text\"\u003E\u003Ca href=\"https:\u002F\u002Fwww.cse.huji.ac.il\u002F~springer\u002FDigitalNeedle\u002Findex.html\"\u003Ewww.cse.huji.ac.il\u002F~springer\u002FDigitalNeedle\u002Findex.html\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\n\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"47266","alias":"WebMonet","fullname":"Makc (AnyKey)","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fb28\u002F1d7\u002F3ea\u002Fb281d73eabd72ee073f6cdd2a31c8f52.png","speciality":"Пользователь"},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":[],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20590675":{"id":"20590675","parentId":"20590323","level":6,"timePublished":"2019-09-05T13:46:55+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EВы про Atmel-овский ASF?\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"34901","alias":"JerleShannara","fullname":"Эл Кохолик","avatarUrl":null,"speciality":"Пользователь компьютера"},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":["20590731"],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20590731":{"id":"20590731","parentId":"20590675","level":7,"timePublished":"2019-09-05T13:59:04+00:00","timeChanged":"","isSuspended":false,"status":"author_deactivated","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EНЛО прилетело и опубликовало эту надпись здесь\u003C\u002Fdiv\u003E","editorVersion":0,"author":{},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":["20594429"],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":false},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":false},"isPinned":false},"20592077":{"id":"20592077","parentId":null,"level":0,"timePublished":"2019-09-06T01:14:28+00:00","timeChanged":"2019-09-06T01:15:50+00:00","isSuspended":false,"status":"published","score":2,"votesCount":2,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EВ свете универсальности\u002Fлегкости использования, есть уже \u003Ca href=\"https:\u002F\u002Fcommunity.atmel.com\u002Fprojects\u002Fmod-player-avr-8-bit-atmega\"\u003Eреализованный проект\u003C\u002Fa\u003E играющий стандартные 4-х канальные MOD-ы на ATMega16@16MHz.\u003Cbr\u002F\u003E\r\n\u003Cdiv class=\"spoiler\"\u003E\u003Cb class=\"spoiler_title\"\u003Eхарактеристики MOD Player for AVR 8-bit Atmega\u003C\u002Fb\u003E\u003Cdiv class=\"spoiler_text\"\u003EMinimum requirements for hardware:\u003Cbr\u002F\u003E\r\n — MCU: ATmega AVR\u003Cbr\u002F\u003E\r\n — Fclk: 16 MHz\u003Cbr\u002F\u003E\r\n — Flash: 8kB\u003Cbr\u002F\u003E\r\n — SRAM: 1kB\u003Cbr\u002F\u003E\r\n — 2 x 8-bit counter\u002FPWM\u003Cbr\u002F\u003E\r\n — 1 x 16-bit counter\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nSpecifications for player routine:\u003Cbr\u002F\u003E\r\n — 4 channel 31 samples modules support\u003Cbr\u002F\u003E\r\n — volume setting 0-64 for each channel\u003Cbr\u002F\u003E\r\n — 2 stereo channels 8-bit PWM output\u003Cbr\u002F\u003E\r\n — software linear interpolation\u003Cbr\u002F\u003E\r\n — selectable output samplerate up to 48kHz\u003Cbr\u002F\u003E\r\n — most used effect commands supported\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nThe basic idea was to create an all-in-one implementation\u003Cbr\u002F\u003E\r\nwithout use of external components. On-board PWM's are used\u003Cbr\u002F\u003E\r\nas DAC's, the module is kept in Program Flash.\u003Cbr\u002F\u003E\r\nTha player is written in pure Assembler.\u003Cbr\u002F\u003E\r\nThe current release includes conditional compilation\u003Cbr\u002F\u003E\r\nfor ATmega16 and ATmega128 (those author has in presence),\u003Cbr\u002F\u003E\r\nbut is also designed for very easy compilation for any other ATmega type.\u003Cbr\u002F\u003E\r\nAlso, there is a technological clearance for use of external memory,\u003Cbr\u002F\u003E\r\nRS232 interface for communicational purposes etc.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nThe schematics for this project is very simple. You just power the chip, supply the 16MHz clock to it and have LEFT and RIGHT audio from 8-PWM's. All specific pin numbers depend on chip, that you selected.\u003Cbr\u002F\u003E\r\n\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"448478","alias":"axe_chita","fullname":null,"avatarUrl":null,"speciality":null},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":["20592981"],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20592721":{"id":"20592721","parentId":null,"level":0,"timePublished":"2019-09-06T07:48:46+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003Cp\u003EА такой вопрос в чем проблема ATTiny? Ведь мы всё равно умножаем на число меньше 1 и затухание можно будет релиозовать путем вычитания сдвинутого регистром семпла.\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"2073521","alias":"GHouL512","fullname":null,"avatarUrl":null,"speciality":null},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":["20592849"],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20592849":{"id":"20592849","parentId":"20592721","level":1,"timePublished":"2019-09-06T08:15:14+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003Cp\u003EЯ не уверен, что правильно понял вопрос. Скорее всего, вы имеете в виду что-то типа: \u003C\u002Fp\u003E\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003EoutSample = instrumentSample — (instrumentSample \u003E\u003E n);\u003C\u002Fblockquote\u003E\u003Cp\u003EТак не получится, так как:\u003C\u002Fp\u003E\u003Cbr\u002F\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003EПри сдвиге вправо значение уменьшается в 2 раза, а мы можем хотеть иметь громкость, например, 87%.\u003C\u002Fli\u003E\r\n\u003Cli\u003EЕсли упростить, то один сдвиг соответствует умножению на число, у которого только один бит равен 1, а остальные 0. Если нужно иметь возможность вычислять сэмпл для любого значения громкости, то надо будет делать до 8 сдвигов и мы получим то же умножение, только медленное.\u003C\u002Fli\u003E\r\n\u003Cli\u003EИ вообще, в AVR нет операции сдвига на произвольное количество битов. Можно только на 1 бит влево или на 1 бит вправо.\u003C\u002Fli\u003E\r\n\u003Cli\u003EЗапоминать уменьшеное значение семпла для уменьшения его позже тоже не получится. Wave table находится в програмной памяти и доступна только для чтения. И ее нужно было бы пересчитывать всю. И хранить отдельно для каждого канала.\u003C\u002Fli\u003E\r\n\u003C\u002Fol\u003E\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"116188","alias":"masyaman","fullname":null,"avatarUrl":null,"speciality":"Пользователь"},"isAuthor":false,"isPostAuthor":true,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":["20595539"],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20592981":{"id":"20592981","parentId":"20592077","level":1,"timePublished":"2019-09-06T08:39:50+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003Cp\u003EИнтересный проект, хотя мне не очень понятно как его можно использовать. Слишком уж сложно заставить микроконтроллер делать что-то еще помимо воспроизведения музыки.\u003Cbr\u002F\u003E\r\nК тому же, формат MOD слишком тяжелый для маленьких микроконтроллеров, хоть и намного более универсальный.\u003Cbr\u002F\u003E\r\nА вот если бы его на Arduino портировать, то могло бы быть вполне годно. Там и 32кб флеша и 16МГц кварц из коробки.\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"116188","alias":"masyaman","fullname":null,"avatarUrl":null,"speciality":"Пользователь"},"isAuthor":false,"isPostAuthor":true,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":["20597107"],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20594429":{"id":"20594429","parentId":"20590731","level":8,"timePublished":"2019-09-06T13:48:44+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EASF — это атмеловские либы в Atmel Studio, включаются в проект примерно также, как и в STM32 HAL-е, только в STM это идёт через CubeMX, а у атмела уже в IDE.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nС STM32 и их i2c я крупный гемор поимел только один раз — на F103-ей какая-то версия куба ставила включение тактирования в конец инициализации, а не в начало, благодаря чему вылез глюк вида «дотронулся щупом\u002Fпальцем при включении — работает, не дотронулся — линия притянута к нулю и не работает». \u003Cbr\u002F\u003E\r\nВариант «быстренько накидать готовых либ» я не люблю — там бывает очень много не просто индусского кода, а индусского говнокода. Да и когда я мучал множество i2c барахла, то как правило портирование ардуиновской библиотеки особо много времени не занимало.\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"34901","alias":"JerleShannara","fullname":"Эл Кохолик","avatarUrl":null,"speciality":"Пользователь компьютера"},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":["20594599"],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20594599":{"id":"20594599","parentId":"20594429","level":9,"timePublished":"2019-09-06T14:29:56+00:00","timeChanged":null,"isSuspended":false,"status":"author_deactivated","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EНЛО прилетело и опубликовало эту надпись здесь\u003C\u002Fdiv\u003E","editorVersion":0,"author":{},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":["20594619"],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":false},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":false},"isPinned":false},"20594619":{"id":"20594619","parentId":"20594599","level":10,"timePublished":"2019-09-06T14:34:35+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003Cblockquote\u003EНу не, я про менеджер библиотек. CubeMX это не то\u003Cbr\u002F\u003E\r\nВ иде можно поиск сделать, по названию датчика. Сразу установить и пользоваться\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\nА, понятно, прямо как ASF.\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003EМожет и портировать то не надо, а датчик хлам.\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\nВпринципе тоже вариант, хотя можно в даташыт глянуть, чтобы вообще не покупать.\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"34901","alias":"JerleShannara","fullname":"Эл Кохолик","avatarUrl":null,"speciality":"Пользователь компьютера"},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":["20594643"],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20594643":{"id":"20594643","parentId":"20594619","level":11,"timePublished":"2019-09-06T14:39:11+00:00","timeChanged":null,"isSuspended":false,"status":"author_deactivated","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EНЛО прилетело и опубликовало эту надпись здесь\u003C\u002Fdiv\u003E","editorVersion":0,"author":{},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":[],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":false},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":false},"isPinned":false},"20595539":{"id":"20595539","parentId":"20592849","level":2,"timePublished":"2019-09-06T20:43:11+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EДа вы меня правильно поняли.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n1.Громкость в 87% примерно равна 1 — 1\u002F8 то есть 3 сдвига, да я правда тут не подумал над тем если у нас число будет меньше чем 1\u002F8.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n2.На счет 8 сдвигов как по мне слишком много уже при 4 сдвигах достигается точность в 6,25%, а так как число 8 битное больше делать думаю не будет иметь смысла ну 5 сдвигов ну 3,125%.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n3.На счет этого не знал.\u003Cbr\u002F\u003E\r\nА так очень классная статья!!!\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"2073521","alias":"GHouL512","fullname":null,"avatarUrl":null,"speciality":null},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":[],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20597107":{"id":"20597107","parentId":"20592981","level":2,"timePublished":"2019-09-07T16:47:52+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EМожет тогда осетра урезать? Посмотреть в сторону \u003Ca href=\"https:\u002F\u002Fzx-pk.ru\u002Fthreads\u002F10510-emulyator-ay-8910-na-atmega.html\"\u003EЭмулятор AY-8910 на ATMega\u003C\u002Fa\u003E и на его развитие \u003Ca href=\"https:\u002F\u002Fwww.avray.ru\u002Fru\u002F\"\u003EЭмулятор AY-3-8910\u002FAY-3-8912\u002FYM2149F\u003C\u002Fa\u003E?\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"448478","alias":"axe_chita","fullname":null,"avatarUrl":null,"speciality":null},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":["20597237"],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20597237":{"id":"20597237","parentId":"20597107","level":3,"timePublished":"2019-09-07T18:12:15+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003Cp\u003EИнтересно, но тут задачи совсем другие.\u003Cbr\u002F\u003E\r\nВ том проекте задача эмулировать чип с определенными характеристиками и для этого выделяются отдельные чипы.\u003Cbr\u002F\u003E\r\nЯ же хотел иметь возможность добавить звук в существующие проекты без существенного изменения схемы. А качество звука и количество каналов настраивать по остаточному принципу, в зависимости от того, сколько ресурсов останется.\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"116188","alias":"masyaman","fullname":null,"avatarUrl":null,"speciality":"Пользователь"},"isAuthor":false,"isPostAuthor":true,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":["20597309"],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20597309":{"id":"20597309","parentId":"20597237","level":4,"timePublished":"2019-09-07T18:46:50+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EИ все таки посмотрите исходники эмулятора, вдруг чтото ценное для себя почерпнете.\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"448478","alias":"axe_chita","fullname":null,"avatarUrl":null,"speciality":null},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":[],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20597407":{"id":"20597407","parentId":null,"level":0,"timePublished":"2019-09-07T19:51:01+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EЕсть прекрасный проект \u003Ca href=\"https:\u002F\u002Fwww.avray.ru\"\u003Ewww.avray.ru\u003C\u002Fa\u003E — эмуляция двух ay-3-8910 на avr. Рекомендую взглянуть.\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"101019","alias":"latonita","fullname":"Антон","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F189\u002F927\u002F907\u002F18992790796cd8b1e95fc521be656182.jpg","speciality":"Тыц-тыц и в продакшен"},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":["20598133"],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"20598133":{"id":"20598133","parentId":"20597407","level":1,"timePublished":"2019-09-08T08:34:19+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003Cp\u003EДа, выше о нем уже упомянули. Постараюсь посмотреть исходники когда будет время.\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"116188","alias":"masyaman","fullname":null,"avatarUrl":null,"speciality":"Пользователь"},"isAuthor":false,"isPostAuthor":true,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":[],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"22109464":{"id":"22109464","parentId":null,"level":0,"timePublished":"2020-09-25T17:52:33+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EА можно ли в atmega328p (Arduino Uno), ~30кБайт кода засунуть wav с голосом? Хотя бы 1-2 секунды?\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"32108","alias":"mihmig","fullname":"Михаил Корнилов","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fef6\u002F5ea\u002Fc20\u002Fef65eac207e7d57c7056b1b03c561622.jpg","speciality":"Java developer"},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":["22110272","22114872"],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"22110272":{"id":"22110272","parentId":"22109464","level":1,"timePublished":"2020-09-26T05:16:22+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EКонечно можно. В зависимости от качества можно и больше, секунд 5-15.\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"1819357","alias":"shiru8bit","fullname":"Александр Семенов","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fb8d\u002Fbc5\u002F9f1\u002Fb8dbc59f16b034a5b569c4da62345d08.gif","speciality":"Узкий специалист широкого профиля"},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":[],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false},"22114872":{"id":"22114872","parentId":"22109464","level":1,"timePublished":"2020-09-27T17:36:43+00:00","timeChanged":null,"isSuspended":false,"status":"published","score":0,"votesCount":0,"message":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EЕсли пришпандорить SDCard то можно гоооораздо больше (несжатый WAV моно 11кГц 8 бит)\u003C\u002Fdiv\u003E","editorVersion":1,"author":{"id":"448478","alias":"axe_chita","fullname":null,"avatarUrl":null,"speciality":null},"isAuthor":false,"isPostAuthor":false,"isNew":false,"isFavorite":false,"isCanEdit":false,"timeEditAllowedTill":null,"children":[],"vote":{"value":null,"isCanVote":false},"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true},"isPinned":false}},"root":["20585141","20585185","20585247","20585667","20585679","20585711","20585717","20585955","20586033","20586977","20587025","20587513","20588629","20592077","20592721","20597407","22109464"]}},"articlePinnedComments":{"466121":{"refs":{},"commentIds":[]}},"searchCommentsResults":null,"pagesCount":null,"commentAccess":{"isCanComment":false,"cantCommentReasonKey":"AUTH_REQUIRED","cantCommentReason":"Authorization required","data":null},"scrollParents":{},"pageArticleComments":{"lastViewedComment":0,"postId":null,"lastCommentTimestamp":1601228203,"moderated":[],"moderatedIds":[],"commentRoute":""}},"companies":{"companyRefs":{},"companyIds":{},"companyTopIds":{},"pagesCount":{},"companyProfiles":{},"companiesCategories":[],"companiesCategoriesTotalCount":0,"companiesWidgets":{},"companiesWorkers":{},"companiesFans":{},"multiwidgets":{},"route":{},"isLoading":false,"companyWorkersLoading":false,"companyFansLoading":false,"multiwidgetLoading":false,"vacancies":{},"companiesGalleries":{},"companiesBanners":{},"companiesLandingVacancies":{},"companiesTechnologies":{},"workplaceInfo":null},"companyAdmin":{"companyInfo":null,"companyInfoLoading":false,"faqArticles":null,"brandingPreviewImageUrl":null,"jivoStatus":0,"adminNotifications":null},"companyAdd":{"currentStep":"","stepsData":{},"uncompletedSteps":[],"isStepLoading":true,"isStepCommitting":false,"isInitialized":false,"agreementContent":""},"companiesContribution":{"hubs":{},"flows":{},"companyRefs":{}},"companyHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"conversation":{"messages":[],"respondent":null,"isLoadMore":false},"conversations":{"conversations":[],"pagesCount":0},"docs":{"menu":{},"articles":{},"mainMenu":[],"loading":{"main":false,"dropdown":false,"article":false}},"feature":{"isProbablyVisible":true},"flows":{"flows":[{"alias":"develop","id":"1","route":{"name":"FLOW_PAGE","params":{"flowName":"develop","hl":"ru"}}},{"alias":"admin","id":"6","route":{"name":"FLOW_PAGE","params":{"flowName":"admin","hl":"ru"}}},{"alias":"design","id":"2","route":{"name":"FLOW_PAGE","params":{"flowName":"design","hl":"ru"}}},{"alias":"management","id":"3","route":{"name":"FLOW_PAGE","params":{"flowName":"management","hl":"ru"}}},{"alias":"marketing","id":"4","route":{"name":"FLOW_PAGE","params":{"flowName":"marketing","hl":"ru"}}},{"alias":"popsci","id":"7","route":{"name":"FLOW_PAGE","params":{"flowName":"popsci","hl":"ru"}}}],"updates":{}},"global":{"isPwa":false,"device":"desktop","isHabrCom":true,"isSettingsVisible":false},"hubs":{"hubRefs":{},"hubIds":{},"pagesCount":{},"isLoading":false,"route":{}},"hubsBlock":{"hubRefs":{},"hubIds":{}},"i18n":{"fl":"ru","hl":"ru"},"info":{"welcomePage":{},"isLoading":true},"location":{"urlStruct":{"protocol":null,"slashes":null,"auth":null,"host":null,"port":null,"hostname":null,"hash":null,"query":{},"pathname":"\u002Fru\u002Farticles\u002F466121\u002F","path":"\u002Fru\u002Farticles\u002F466121\u002F","href":"\u002Fru\u002Farticles\u002F466121\u002F"}},"me":{"user":null,"uuid":null,"ppgDemanded":false,"karmaResetInfo":{"canReincarnate":null,"wasReincarnated":null,"currentScore":null},"notes":null,"userUpdates":{"feeds":{"newPostsCount":null,"newThreadsCount":null,"newNewsCount":null,"newCount":null},"conversationUnreadCount":0}},"mostReadingList":{"mostReadingListIds":[],"mostReadingListRefs":null,"promoPost":null},"ppa":{"articles":{},"card":null,"transactions":null,"totalTransactions":null,"isAccessible":null},"projectsBlocks":{"activeBlocks":{"questions":"project-block-article"}},"promoData":{"isLoading":false,"hasLoaded":false,"featurer":null,"megaposts":null,"promoLinks":null,"promoPosts":null},"pullRefresh":{"shouldRefresh":false},"sandbox":{"articleIds":[],"articleRefs":{},"pagesCount":null,"route":{},"lastVisitedRoute":{},"isLoading":false},"search":{"searchQueryError":null},"settingsOther":{"inputs":{"uiLang":{"errors":[],"ref":null,"value":""},"articlesLangEnglish":{"errors":[],"ref":null,"value":false},"articlesLangRussian":{"errors":[],"ref":null,"value":false},"agreement":{"errors":[],"ref":null,"value":false},"email":{"errors":[],"ref":null,"value":true},"digest":{"errors":[],"ref":null,"value":true}}},"similarList":{"similarListIds":[],"similarListRefs":null},"ssr":{"error":null,"isDataLoaded":true,"isDataLoading":false,"isHydrationFailed":false,"isServer":false},"stories":{"stories":[{"id":"story-733","author":{"logo":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F7fb\u002F290\u002Fa40\u002F7fb290a4011f6e6c24db8460a8f2498e.png","title":"Хабр","link":"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompanies\u002Fhabr\u002Farticles\u002F"},"title":"Статьи о прошлом, настоящем и будущем космонавтики","lang":"ru","startTime":"2024-04-12T13:08:00+03:00","finishTime":"2024-04-18T13:08:00+03:00","slides":[{"id":"story-733_1","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Ff17\u002F445\u002F60f\u002Ff1744560f208c87712950e54335f24ad.jpg","button":null},{"id":"story-733_2","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fa45\u002F9b5\u002F2b1\u002Fa459b52b17898010a2fb43b84c370834.jpg","button":{"title":"Детали проекта","link":"https:\u002F\u002Fhabr.com\u002Fru\u002Farticles\u002F738710\u002F","colorType":"light"}},{"id":"story-733_3","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F7d8\u002Fe92\u002Ff21\u002F7d8e92f2189c8a5298f49e2c7cbeefc7.png","button":{"title":"План затопления","link":"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompanies\u002Ffirst\u002Farticles\u002F783508\u002F","colorType":"light"}},{"id":"story-733_4","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fd8e\u002Fa28\u002Fd0e\u002Fd8ea28d0eef46509a41580d6330f0bdb.png","button":{"title":"Взгляд в будущее","link":"https:\u002F\u002Fhabr.com\u002Fru\u002Farticles\u002F806587\u002F","colorType":"light"}},{"id":"story-733_5","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F52c\u002F38c\u002Faf9\u002F52c38caf9857650040828db5d004e9b8.png","button":{"title":"Вспомнить былое","link":"https:\u002F\u002Fhabr.com\u002Fru\u002Farticles\u002F170865\u002F","colorType":"light"}},{"id":"story-733_6","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F9b0\u002F266\u002F1e4\u002F9b02661e4f0df2c1b954fce4e4301823.png","button":{"title":"Хроники борьбы","link":"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompanies\u002Fcloud4y\u002Farticles\u002F802647\u002F","colorType":"light"}},{"id":"story-733_7","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fed1\u002F0a1\u002F974\u002Fed10a197410da580fc8e5c03d5591df9.png","button":{"title":"Не только огнестрел","link":"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompanies\u002Ftimeweb\u002Farticles\u002F582390\u002F","colorType":"light"}},{"id":"story-733_8","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fd6e\u002F12e\u002F4df\u002Fd6e12e4df92f3656d21b22aaf68e5504.png","button":{"title":"Расследование","link":"https:\u002F\u002Fhabr.com\u002Fru\u002Farticles\u002F446098\u002F","colorType":"light"}},{"id":"story-733_9","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F967\u002F518\u002F10e\u002F96751810eb2ff0394c6a9f6296f44f5d.png","button":{"title":"Инженерная история","link":"https:\u002F\u002Fhabr.com\u002Fru\u002Farticles\u002F184444\u002F","colorType":"light"}}]},{"id":"story-729","author":{"logo":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F031\u002F2ad\u002Fd37\u002F0312add37dac5a6489882fe5f1459404.png","title":"Хабр","link":"https:\u002F\u002Fu.habr.com\u002Fdarktheme_habr_stories"},"title":"Где искать тёмную тему  Хабра","lang":"ru","startTime":"2024-04-04T10:00:00+03:00","finishTime":"2024-04-21T23:59:00+03:00","slides":[{"id":"story-729_1","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F7b4\u002Ff54\u002F49e\u002F7b4f5449e261c13b8b91d72980fd47f1.png","button":null},{"id":"story-729_2","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fcd7\u002Fe7e\u002F689\u002Fcd7e7e68924ac89942c583e4b1ca793b.png","button":{"title":"За тёмной темой","link":"https:\u002F\u002Fu.habr.com\u002Fdarktheme_habr_stories","colorType":"light"}},{"id":"story-729_3","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F367\u002F325\u002Fbda\u002F367325bda57b8e452fe7c5bd1e375891.png","button":null},{"id":"story-729_4","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F4b7\u002F802\u002F52d\u002F4b780252d3d5e82333440f65329eb7ad.png","button":null},{"id":"story-729_5","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F1ee\u002Fdb2\u002Fbb8\u002F1eedb2bb8f135dcbd4bcbeb3987a76c9.png","button":null},{"id":"story-729_6","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fc73\u002Fd64\u002Fea4\u002Fc73d64ea4e2ec0914aa30415ae0c46f4.png","button":{"title":"Сделать темно","link":"https:\u002F\u002Fu.habr.com\u002Fdarktheme_habr_stories","colorType":"light"}},{"id":"story-729_7","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Ff35\u002F6fc\u002Fa6d\u002Ff356fca6d97288fbcdfa67b56afb9229.png","button":null},{"id":"story-729_8","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Ff64\u002F9d7\u002Fa83\u002Ff649d7a83a0c4ff49ac37079d341fcdc.png","button":{"title":"Приютить слизня","link":"https:\u002F\u002Fu.habr.com\u002Fdarktheme_habr_stories","colorType":"light"}}]},{"id":"story-693","author":{"logo":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F0cf\u002F765\u002F121\u002F0cf76512167ee1882bea64eb2d8f3e7b.png","title":"Хабр","link":"https:\u002F\u002Fu.habr.com\u002Fhabr_events-1"},"title":"Как продвинуть машину времени?","lang":"ru","startTime":"2024-02-20T10:45:00+03:00","finishTime":"2024-04-21T13:45:00+03:00","slides":[{"id":"story-693_1","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fcbd\u002Fc0a\u002Fd0e\u002Fcbdc0ad0e6056f661d1e8fa146c9aa30.png","button":null},{"id":"story-693_2","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F688\u002Fd52\u002Fcc8\u002F688d52cc88ed33a3f4d72d118440c012.png","button":null},{"id":"story-693_3","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F7e0\u002F8a4\u002Fea4\u002F7e08a4ea42768ced281eea267e56c7bb.png","button":null},{"id":"story-693_4","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F9f0\u002F2ae\u002F56c\u002F9f02ae56c1ee55937c0c31afb3743fd4.png","button":{"title":"Добавить событие","link":"https:\u002F\u002Fu.habr.com\u002Fhabr_events-2","colorType":"light"}},{"id":"story-693_5","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fa16\u002F6dc\u002Fc79\u002Fa166dcc79e282edf107842ee8a5d32d0.png","button":null},{"id":"story-693_6","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F987\u002F258\u002F779\u002F987258779f88a78646ef069dad1a4dbb.png","button":{"title":"Хабр Календарь тут","link":"https:\u002F\u002Fu.habr.com\u002Fhabr_events-2","colorType":"light"}}]},{"id":"story-552","author":{"logo":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F310\u002Fb6d\u002F097\u002F310b6d09710575fad755fc8ed317c7ec.png","title":"Хабр","link":"https:\u002F\u002Fu.habr.com\u002Fcalendar_story_2"},"title":"Перевернуть календарь и добавить событие","lang":"ru","startTime":"2024-02-12T05:29:00+03:00","finishTime":"2024-04-21T11:14:00+03:00","slides":[{"id":"story-552_1","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Ffd3\u002F1a4\u002F6ab\u002Ffd31a46abecfbc6f654e64a66cb66260.jpg","button":{"title":"Прямо сюда","link":"https:\u002F\u002Fu.habr.com\u002Fez25C","colorType":"dark"}},{"id":"story-552_2","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Ffef\u002F3e3\u002Fb5d\u002Ffef3e3b5d8379c976167169334348272.jpg","button":{"title":"Разместить событие","link":"https:\u002F\u002Fu.habr.com\u002Fez25C","colorType":"light"}},{"id":"story-552_3","image":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F8b9\u002Fea9\u002F638\u002F8b9ea9638d36013b31e365ec79b96d2d.jpg","button":{"title":"Тык","link":"https:\u002F\u002Fu.habr.com\u002Fez25C","colorType":"dark"}}]}]},"technotext":{"years":[],"technotextDocForNominees":null,"technotextDocForWinners":null,"technotextInfo":{},"technotextInfoLoading":false,"technotextWinners":{},"technotextWinnersLoading":false},"userHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"userInvites":{"availableInvites":0,"usedInvitesIds":[],"usedInvitesRefs":{},"usedInvitesPagesCount":0,"unusedInvitesIds":[],"unusedInvitesRefs":{},"unusedInvitesPagesCount":0},"userVotes":{"karmaVotesList":[],"karmaVotesPagesCount":null,"karmaVotesListLoading":false,"commentsVotesList":[],"commentsVotesPagesCount":null,"commentsVotesListLoading":false,"postsVotesList":[],"postsVotesPagesCount":null,"postsVotesListLoading":false,"userVotesList":[],"userVotesPagesCount":null,"userVotesListLoading":false},"users":{"authorRefs":{},"authorIds":{},"pagesCount":{},"authorProfiles":{},"userHubs":{},"userInvitations":{},"authorFollowers":{},"authorFollowed":{},"userSpecialization":{},"karmaStats":[],"statistics":null,"isLoading":false,"authorFollowersLoading":false,"authorFollowedLoading":false,"userHubsLoading":false,"userInvitationsLoading":false,"route":{}},"viewport":{"prevScrollY":{},"scrollY":0,"width":0},"tracker":{"notificationsLoading":false,"notificationsList":[],"notificationsPageCount":0,"pendingMarkNotificationsRead":[],"publicationsLoading":true,"publicationsList":[],"publicationsPageCount":0,"pendingDeletePublications":false,"pendingMarkPublicationsRead":false},"events":{"events":[{"id":"events_176","titleHtml":"Серия занятий «Тренировки по алгоритмам 5.0» от Яндекса","descriptionHtml":"\u003Cp\u003EКак решать алгоритмический блок при найме в IT? Разбираемся на тренировках по алгоритмам от Яндекса.\u003C\u002Fp\u003E\u003Cp\u003EЧетыре недели вы решаете задачи, смотрите лекции и разборы. Чем больше решите задач, тем выше подниметесь в рейтинге.&nbsp;\u003C\u002Fp\u003E\u003Cp\u003EЛучшие участники получат персональные тренировки и пройдут пробные алгоритмические собеседования.&nbsp;\u003C\u002Fp\u003E\u003Cp\u003EУспешные собеседования будут засчитаны при отборе на стажировку или в штат Яндекса. Приём заявок до 28 февраля.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fac9\u002F383\u002F51c\u002Fac938351c65f564f8b0bf373c436de53.png","eventUrl":"https:\u002F\u002Fu.habr.com\u002Fcldr_yaalg","startDay":"2024-03-01","startTime":"19:00","finishDay":"2024-04-19","isOnline":true,"geo":[]},{"id":"events_265","titleHtml":"Дизайнеры, выбирайте себе компанию по вайбам на Хабр Карьере","descriptionHtml":"\u003Cp\u003EНайти команду, в которой атмосфера будет сочетаться со здоровой бюрократией, интересными задачами и хорошей зарплатой — трудно, и сейчас мы не сказали ничего нового. Специалисты с Хабр Карьеры рассказали нам, что хотят знать как можно больше про команду еще до отклика на вакансию. \u003C\u002Fp\u003E\u003Cp\u003EВайб-чек — это что-то вроде онлайн-вечеринки, где можно проверить совместимость ваших вайбов с командами дизайна, в которые прямо сейчас идет наём, поиграть с ними в карьерную настолку, познакомиться ближе и узнать больше, чем написано в вакансиях.\u003C\u002Fp\u003E\u003Cp\u003EРегистрируйтесь, чтобы ничего не пропустить! Начинаем в понедельник, 22 апреля.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fc96\u002F3b2\u002Fdf9\u002Fc963b2df9d9789315adeeb503b3f7c16.jpg","eventUrl":"https:\u002F\u002Fvibe.habr.com\u002F?utm_source=vibe_check_design_calendar","startDay":"2024-04-15","finishDay":"2024-04-28","isOnline":true,"geo":[]},{"id":"events_251","titleHtml":"PG Bootcamp 2024","descriptionHtml":"\u003Cp\u003EPG BootCamp 2024 направлен на освоение участниками практических навыков при работе с СУБД PostgreSQL.\u003C\u002Fp\u003E\u003Cp\u003EПрограмма рассчитана как на начинающих специалистов, так и на опытных разработчиков, желающих углубить свои знания ядра и экосистемы и применить их на практике.\u003C\u002Fp\u003E\u003Cp\u003EPG BootCamp позволит участникам получить актуальную информацию о СУБД PostgreSQL, прослушать лекции и принять участие в практических мастер-классах от ведущих экспертов в этой области.\u003C\u002Fp\u003E\u003Cp\u003EМероприятие проходит в рамках глобальной инициативы PG BootCamp, миссия которой — объединить энтузиастов и экспертов в области СУБД для дальнейшего роста и развития PostgreSQL.\u003C\u002Fp\u003E\u003Cp\u003E\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F24c\u002F109\u002Fbda\u002F24c109bda02ce0b7404d56147d7316df.png","eventUrl":"https:\u002F\u002Fu.habr.com\u002Fcldr_pgcamp","startDay":"2024-04-16","startTime":"09:30","finishDay":"2024-04-16","finishTime":"21:00","isOnline":true,"geo":["Минск"]},{"id":"events_253","titleHtml":"EvaConf 2024","descriptionHtml":"\u003Cp\u003EКрупнейшее событие о продуктах EvaTeam — российских аналогах Jira, Confluence и Jira Service Management.\u003C\u002Fp\u003E\u003Cp\u003EКоманда EvaTeam поделится полезной информацией о продуктах, расскажет о достижениях и планах. А руководители IT-компаний и команд, другие приглашённые эксперты обсудят свой опыт импортозамещения Atlassian.\u003C\u002Fp\u003E\u003Cp\u003EРегистрируйтесь, вас ждет деловая программа и непринужденное общение с разработчиком и всеми, кого объединяет общая цель — замена Jira, Confluence и Jira Service Management.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fc4d\u002F21b\u002Fbe9\u002Fc4d21bbe9d44a00d72275888240cb30c.jpg","eventUrl":"https:\u002F\u002Fu.habr.com\u002Fcldr_eva","startDay":"2024-04-16","startTime":"11:00","finishDay":"2024-04-16","finishTime":"16:00","isOnline":true,"geo":["Москва"]},{"id":"events_259","titleHtml":"Конференция по анализу данных и технологиям ИИ «Data Fusion»","descriptionHtml":"\u003Cp\u003EПриглашаем на уникальное мероприятие, которое поможет специалистам расширить кругозор и найти новые возможности в мире цифровой экономики России. На конференции вы сможете:&nbsp;\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003Eперенять ценные знания и инсайты от ведущих экспертов в области цифровой трансформации;&nbsp;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Eобсудить актуальные технологические тенденции, включая использование облачных вычислений и open source решений;&nbsp;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Eнайти партнёров и развивать новые бизнес-контакты среди владельцев бизнеса, IT-специалистов, госслужащих и GR-экспертов;&nbsp;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Eузнать о новейших разработках и технологиях, которые могут помочь вам в повышении эффективности вашего бизнеса или работы;&nbsp;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Eполучить доступ к эксклюзивной информации и статистическим данным, которые помогут вам принимать более обоснованные решения.&nbsp;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003EКонференция пройдёт только офлайн в технологическом кластере «Ломоносов» в Москве 17 и 18 апреля.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fff9\u002Fb57\u002F3cf\u002Fff9b573cffea9332bba1cb0645cc414d.png","eventUrl":"https:\u002F\u002Fu.habr.com\u002Fcldr_vtb_fusion","startDay":"2024-04-17","startTime":"11:00","finishDay":"2024-04-18","finishTime":"20:00","isOnline":false,"geo":["Москва"]},{"id":"events_263","titleHtml":"Бесплатный вебинар по 3D-моделированию катаны из Cyberpunk 2077","descriptionHtml":"\u003Cp\u003E18 апреля в 20:00 (мск) пройдёт&nbsp; бесплатный вебинар по 3D-моделированию «Создание текстур, запекание, рендер и пост-процессинг модели». В качестве образца создаваемой 3D-модели послужит катана из Cyberpunk 2077.\u003C\u002Fp\u003E\u003Cp\u003EВебинар — бесплатная часть полноценного онлайн-курса «3D-моделирование игр с нуля» от Отус.\u003C\u002Fp\u003E\u003Cp\u003EНа вебинаре мы создадим текстуры для 3D модели и запечём их, а далее перейдём к рендеру и пост-процессу в Unreal Engine 5 и Marmoset Toolbag.\u003C\u002Fp\u003E\u003Cp\u003EОсновные темы открытого урока:&nbsp;&nbsp;\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003EЗавершение работы над High-Poly-моделью катаны в ZBrush.&nbsp;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003EСоздание текстур и запекание в Substance Painter.&nbsp;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003EРендер и пост-процесс для Unreal Engine 5 и Marmoset Toolbag.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003EНа вебинаре вы узнаете, как создавать реалистичные трёхмерные модели, используя передовые технологии. Научитесь основам 3D-моделирования и окунётесь в мир творчества вместе с нами.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F4cc\u002F528\u002F613\u002F4cc528613f1699d04d55103eebac3f02.jpg","eventUrl":"https:\u002F\u002Fu.habr.com\u002Fcldr_otus_katana","startDay":"2024-04-18","startTime":"20:00","finishDay":"2024-04-18","isOnline":true,"geo":[]},{"id":"events_257","titleHtml":"Weekend Offer в AliExpress","descriptionHtml":"\u003Cp\u003EAliExpress Россия проводит Weekend Offer для продуктовых аналитиков. Отличная возможность получить оффер всего за 2 дня и попасть в команды:\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003EPromo,\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003ESearch &amp; Recs,\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003ELogistics,\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003ENBD\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Eили одну из многих других.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003EЗарегистрироваться на мероприятие можно до 18 апреля. На онлайн-встречах познакомим соискателей с командами, погрузим в продукты, расскажем про наши ценности и задачи.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fdca\u002Fc30\u002Fce4\u002Fdcac30ce47809bcf603ad4cc0c49e917.jpg","eventUrl":"https:\u002F\u002Fu.habr.com\u002Fcldr_ali_offer","startDay":"2024-04-20","startTime":"10:00","finishDay":"2024-04-21","finishTime":"20:00","isOnline":true,"geo":[]},{"id":"events_261","titleHtml":"Вебинар «Истории Dodo Brands и Offprice: как компании мигрировали 1С в облако»","descriptionHtml":"\u003Cp\u003EКомпании переносят 1С в облако, чтобы повысить скорость работы баз и сократить время ожидания отчётов. Поговорим и о том, какие результаты можно получить после миграции и чем ещё компании помогает облако.&nbsp;\u003C\u002Fp\u003E\u003Cp\u003EСвои кейсы на вебинаре представят Dodo Brands и Offprice. Послушать их будет полезно финансовым и IТ-директорам, руководителям IT-подразделений и всем специалистам, которые работают с 1С.\u003C\u002Fp\u003E\u003Cp\u003EВ ходе вебинара участники узнают:\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003EЗачем переносить 1С в облако.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003EКак повысить надёжность и производительность 1С благодаря миграции в облако.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003EКак быстро развернуть 1С в облаке.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003EКак переезд проходил у компаний Dodo Brands и Offprice.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Ff92\u002F7c5\u002F199\u002Ff927c51997e9ada9a49a494d9321130c.png","eventUrl":"https:\u002F\u002Fu.habr.com\u002Fcldr_cloud_1c","startDay":"2024-04-23","startTime":"11:00","isOnline":true,"geo":[]},{"id":"events_178","titleHtml":"Firebird Conf: конференция для разработчиков и администраторов СУБД Firebird","descriptionHtml":"\u003Cp\u003E6 июня приглашаем разработчиков и администраторов СУБД Firebird на конференцию «Firebird Conf 2024».&nbsp;\u003C\u002Fp\u003E\u003Cp\u003EЛокация: Radisson Blu Olympiyskiy Hotel Moscow.\u003C\u002Fp\u003E\u003Cp\u003EВас ждёт полное погружение в техническую часть, теория и практика для IT-сообщества.\u003C\u002Fp\u003E\u003Cp\u003EВ этом году конференция будет посвящена:&nbsp;\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003Eновым возможностям Firebird 5;&nbsp;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Eоптимизации производительности больших БД;&nbsp;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Eполезным особенностям Firebird для прикладных разработчиков.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003EFirebird Conf 2024 — отличная возможность приятно провести время и неформально пообщаться с истинными единомышленниками. Знакомимся и обсуждаем интересные темы, связанные с разработкой и поддержкой баз данных.\u003C\u002Fp\u003E\u003Cp\u003EОрганизатор конференции РЕД СОФТ — российский разработчик IT-решений и услуг. Осуществляет комплексные проекты в области хранения и управления данными на основе собственного технологического стека.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fd78\u002F8ad\u002F5cb\u002Fd788ad5cb236e7eebb4832ccc5310645.png","eventUrl":"https:\u002F\u002Fu.habr.com\u002Fcldr_firebird","startDay":"2024-06-06","startTime":"09:00","finishDay":"2024-06-06","finishTime":"20:00","isOnline":false,"geo":["Москва"]}]},"wysiwyg":{"WYSIWYGRulesRefs":null},"publicationStatistics":{"statsInfo":{},"statsFunnels":{}}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="https://assets.habr.com/vue-3/js/chunk-vendors.6b52fc6c.js" defer></script><script src="https://assets.habr.com/vue-3/js/app.6866d4db.js" defer></script></div>
<div id="overlays"><!----><!--teleport anchor--><!----><!--teleport anchor--><!----><!--teleport anchor--><!----><!--teleport anchor--><!----><!--teleport anchor--><!----><!--teleport anchor--><!----><!--teleport anchor--></div>


    <script async src="https://www.googletagmanager.com/gtag/js?id=G-S28W1WC23F"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    </script>
  
  <script type="text/javascript" >
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
    m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

  </script>
  <noscript>
    <div>
      <img src="https://mc.yandex.ru/watch/24049213" style="position:absolute; left:-9999px;" alt="" />
    </div>
  </noscript>
    <script type="text/javascript">
      window.addEventListener('load', function () {
        setTimeout(() => {
          const img = new Image();
          img.src = 'https://vk.com/rtrg?p=VK-RTRG-421343-57vKE';
        }, 0);
      });
    </script>
  
<script src="/js/ads.js" onload="window['zhY4i4nJ9K'] = true"></script>
</body>
</html>
